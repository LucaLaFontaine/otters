<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 14.4.0"/>
    <title>otters.wrangle.psychrometrics API documentation</title>

    <style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
    <style>/*! syntax-highlighting.css */pre{line-height:125%;}span.linenos{color:inherit; background-color:transparent; padding-left:5px; padding-right:20px;}.pdoc-code .hll{background-color:#49483e}.pdoc-code{background:#272822; color:#f8f8f2}.pdoc-code .c{color:#75715e}.pdoc-code .err{color:#960050; background-color:#1e0010}.pdoc-code .esc{color:#f8f8f2}.pdoc-code .g{color:#f8f8f2}.pdoc-code .k{color:#66d9ef}.pdoc-code .l{color:#ae81ff}.pdoc-code .n{color:#f8f8f2}.pdoc-code .o{color:#f92672}.pdoc-code .x{color:#f8f8f2}.pdoc-code .p{color:#f8f8f2}.pdoc-code .ch{color:#75715e}.pdoc-code .cm{color:#75715e}.pdoc-code .cp{color:#75715e}.pdoc-code .cpf{color:#75715e}.pdoc-code .c1{color:#75715e}.pdoc-code .cs{color:#75715e}.pdoc-code .gd{color:#f92672}.pdoc-code .ge{color:#f8f8f2; font-style:italic}.pdoc-code .gr{color:#f8f8f2}.pdoc-code .gh{color:#f8f8f2}.pdoc-code .gi{color:#a6e22e}.pdoc-code .go{color:#66d9ef}.pdoc-code .gp{color:#f92672; font-weight:bold}.pdoc-code .gs{color:#f8f8f2; font-weight:bold}.pdoc-code .gu{color:#75715e}.pdoc-code .gt{color:#f8f8f2}.pdoc-code .kc{color:#66d9ef}.pdoc-code .kd{color:#66d9ef}.pdoc-code .kn{color:#f92672}.pdoc-code .kp{color:#66d9ef}.pdoc-code .kr{color:#66d9ef}.pdoc-code .kt{color:#66d9ef}.pdoc-code .ld{color:#e6db74}.pdoc-code .m{color:#ae81ff}.pdoc-code .s{color:#e6db74}.pdoc-code .na{color:#a6e22e}.pdoc-code .nb{color:#f8f8f2}.pdoc-code .nc{color:#a6e22e}.pdoc-code .no{color:#66d9ef}.pdoc-code .nd{color:#a6e22e}.pdoc-code .ni{color:#f8f8f2}.pdoc-code .ne{color:#a6e22e}.pdoc-code .nf{color:#a6e22e}.pdoc-code .nl{color:#f8f8f2}.pdoc-code .nn{color:#f8f8f2}.pdoc-code .nx{color:#a6e22e}.pdoc-code .py{color:#f8f8f2}.pdoc-code .nt{color:#f92672}.pdoc-code .nv{color:#f8f8f2}.pdoc-code .ow{color:#f92672}.pdoc-code .w{color:#f8f8f2}.pdoc-code .mb{color:#ae81ff}.pdoc-code .mf{color:#ae81ff}.pdoc-code .mh{color:#ae81ff}.pdoc-code .mi{color:#ae81ff}.pdoc-code .mo{color:#ae81ff}.pdoc-code .sa{color:#e6db74}.pdoc-code .sb{color:#e6db74}.pdoc-code .sc{color:#e6db74}.pdoc-code .dl{color:#e6db74}.pdoc-code .sd{color:#e6db74}.pdoc-code .s2{color:#e6db74}.pdoc-code .se{color:#ae81ff}.pdoc-code .sh{color:#e6db74}.pdoc-code .si{color:#e6db74}.pdoc-code .sx{color:#e6db74}.pdoc-code .sr{color:#e6db74}.pdoc-code .s1{color:#e6db74}.pdoc-code .ss{color:#e6db74}.pdoc-code .bp{color:#f8f8f2}.pdoc-code .fm{color:#a6e22e}.pdoc-code .vc{color:#f8f8f2}.pdoc-code .vg{color:#f8f8f2}.pdoc-code .vi{color:#f8f8f2}.pdoc-code .vm{color:#f8f8f2}</style>
    <style>/*! theme.css */:root{--pdoc-background:#212529;}.pdoc{--text:#d6d6d6; --muted:#9d9d9d;--link:#58a6ff;--link-hover:#3989ff;--code:#333;--active:#555;--accent:#343434;--accent2:#555;--nav-hover:rgba(0, 0, 0, 0.1);--name:#77C1FF;--def:#0cdd0c;--annotation:#00c037;}</style>
    <style>/*! layout.css */html, body{width:100%;height:100%;}html, main{scroll-behavior:smooth;}body{background-color:var(--pdoc-background);}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;z-index:999;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}header + main{margin-top:-3rem;}.git-button{display:none !important;}nav input[type="search"]{max-width:77%;}nav input[type="search"]:first-child{margin-top:-6px;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}header + main{margin-top:-4rem;}#navtoggle{display:none;}}#togglestate{position:absolute;height:0;opacity:0;}nav.pdoc{--pad:clamp(0.5rem, 2vw, 1.75rem);--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent; z-index:1}nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc > div > ul{margin-left:calc(0px - var(--pad));}nav.pdoc li a{padding:.2rem 0 .2rem calc(var(--pad) + var(--indent));}nav.pdoc > div > ul > li > a{padding-left:var(--pad);}nav.pdoc li{transition:all 100ms;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}</style>
    <style>/*! content.css */.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{cursor:pointer;display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .pdoc-alert{padding:1rem 1rem 1rem calc(1.5rem + 24px);border:1px solid transparent;border-radius:.25rem;background-repeat:no-repeat;background-position:1rem center;margin-bottom:1rem;}.pdoc .pdoc-alert > *:last-child{margin-bottom:0;}.pdoc .pdoc-alert-note {color:#084298;background-color:#cfe2ff;border-color:#b6d4fe;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23084298%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8%2016A8%208%200%201%200%208%200a8%208%200%200%200%200%2016zm.93-9.412-1%204.705c-.07.34.029.533.304.533.194%200%20.487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703%200-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381%202.29-.287zM8%205.5a1%201%200%201%201%200-2%201%201%200%200%201%200%202z%22/%3E%3C/svg%3E");}.pdoc .pdoc-alert-warning{color:#664d03;background-color:#fff3cd;border-color:#ffecb5;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23664d03%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8.982%201.566a1.13%201.13%200%200%200-1.96%200L.165%2013.233c-.457.778.091%201.767.98%201.767h13.713c.889%200%201.438-.99.98-1.767L8.982%201.566zM8%205c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%205.995A.905.905%200%200%201%208%205zm.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2z%22/%3E%3C/svg%3E");}.pdoc .pdoc-alert-danger{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5.52.359A.5.5%200%200%201%206%200h4a.5.5%200%200%201%20.474.658L8.694%206H12.5a.5.5%200%200%201%20.395.807l-7%209a.5.5%200%200%201-.873-.454L6.823%209.5H3.5a.5.5%200%200%201-.48-.641l2.5-8.5z%22/%3E%3C/svg%3E");}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc > section:not(.module-info) h1{font-size:1.5rem;font-weight:500;}.pdoc > section:not(.module-info) h2{font-size:1.4rem;font-weight:500;}.pdoc > section:not(.module-info) h3{font-size:1.3rem;font-weight:500;}.pdoc > section:not(.module-info) h4{font-size:1.2rem;}.pdoc > section:not(.module-info) h5{font-size:1.1rem;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-top:0;margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;background-color:var(--code);}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--accent);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc > section:not(.module-info){margin-bottom:1.5rem;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.view-source-toggle-state,.view-source-toggle-state ~ .pdoc-code{display:none;}.view-source-toggle-state:checked ~ .pdoc-code{display:block;}.view-source-button{display:inline-block;float:right;font-size:.75rem;line-height:1.5rem;color:var(--muted);padding:0 .4rem 0 1.3rem;cursor:pointer;text-indent:-2px;}.view-source-button > span{visibility:hidden;}.module-info .view-source-button{float:none;display:flex;justify-content:flex-end;margin:-1.2rem .4rem -.2rem 0;}.view-source-button::before{position:absolute;content:"View Source";display:list-item;list-style-type:disclosure-closed;}.view-source-toggle-state:checked ~ .attr .view-source-button::before,.view-source-toggle-state:checked ~ .view-source-button::before{list-style-type:disclosure-open;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc section:not(.module-info) .docstring{margin-left:clamp(0rem, 5vw - 2rem, 1rem);}.pdoc .docstring .pdoc-code{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target,.pdoc .pdoc-code > pre > span:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc .pdoc-code > pre > span:target{display:block;}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc *{scroll-margin:2rem;}.pdoc .pdoc-code .linenos{user-select:none;}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc section, .pdoc .classattr{position:relative;}.pdoc .headerlink{--width:clamp(1rem, 3vw, 2rem);position:absolute;top:0;left:calc(0rem - var(--width));transition:all 100ms ease-in-out;opacity:0;}.pdoc .headerlink::before{content:"#";display:block;text-align:center;width:var(--width);height:2.3rem;line-height:2.3rem;font-size:1.5rem;}.pdoc .attr:hover ~ .headerlink,.pdoc *:target > .headerlink,.pdoc .headerlink:hover{opacity:1;}.pdoc .attr{display:block;margin:.5rem 0 .5rem;padding:.4rem .4rem .4rem 1rem;background-color:var(--accent);overflow-x:auto;}.pdoc .classattr{margin-left:2rem;}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{background-color:transparent;}.pdoc .param, .pdoc .return-annotation{white-space:pre;}.pdoc .signature.multiline .param{display:block;}.pdoc .signature.condensed .param{display:inline-block;}.pdoc .annotation{color:var(--annotation);}.pdoc .view-value-toggle-state,.pdoc .view-value-toggle-state ~ .default_value{display:none;}.pdoc .view-value-toggle-state:checked ~ .default_value{display:inherit;}.pdoc .view-value-button{font-size:.5rem;vertical-align:middle;border-style:dashed;margin-top:-0.1rem;}.pdoc .view-value-button:hover{background:white;}.pdoc .view-value-button::before{content:"show";text-align:center;width:2.2em;display:inline-block;}.pdoc .view-value-toggle-state:checked ~ .view-value-button::before{content:"hide";}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}.pdoc table{display:block;width:max-content;max-width:100%;overflow:auto;margin-bottom:1rem;}.pdoc table th{font-weight:600;}.pdoc table th, .pdoc table td{padding:6px 13px;border:1px solid var(--accent2);}</style>
    <style>/*! custom.css */</style></head>
<body>
    <nav class="pdoc">
        <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
        <input id="togglestate" type="checkbox" aria-hidden="true" tabindex="-1">
        <div>            <a class="pdoc-button module-list-button" href="../wrangle.html">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-in-left" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M10 3.5a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 1 1 0v2A1.5 1.5 0 0 1 9.5 14h-8A1.5 1.5 0 0 1 0 12.5v-9A1.5 1.5 0 0 1 1.5 2h8A1.5 1.5 0 0 1 11 3.5v2a.5.5 0 0 1-1 0v-2z"/>
  <path fill-rule="evenodd" d="M4.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H14.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"/>
</svg>                &nbsp;otters.wrangle</a>


            <input type="search" placeholder="Search..." role="searchbox" aria-label="search"
                   pattern=".+" required>



            <h2>API Documentation</h2>
                <ul class="memberlist">
            <li>
                    <a class="variable" href="#ZERO_FAHRENHEIT_AS_RANKINE">ZERO_FAHRENHEIT_AS_RANKINE</a>
            </li>
            <li>
                    <a class="variable" href="#ZERO_CELSIUS_AS_KELVIN">ZERO_CELSIUS_AS_KELVIN</a>
            </li>
            <li>
                    <a class="variable" href="#R_DA_IP">R_DA_IP</a>
            </li>
            <li>
                    <a class="variable" href="#R_DA_SI">R_DA_SI</a>
            </li>
            <li>
                    <a class="variable" href="#MAX_ITER_COUNT">MAX_ITER_COUNT</a>
            </li>
            <li>
                    <a class="variable" href="#MIN_HUM_RATIO">MIN_HUM_RATIO</a>
            </li>
            <li>
                    <a class="variable" href="#FREEZING_POINT_WATER_IP">FREEZING_POINT_WATER_IP</a>
            </li>
            <li>
                    <a class="variable" href="#FREEZING_POINT_WATER_SI">FREEZING_POINT_WATER_SI</a>
            </li>
            <li>
                    <a class="variable" href="#TRIPLE_POINT_WATER_IP">TRIPLE_POINT_WATER_IP</a>
            </li>
            <li>
                    <a class="variable" href="#TRIPLE_POINT_WATER_SI">TRIPLE_POINT_WATER_SI</a>
            </li>
            <li>
                    <a class="class" href="#UnitSystem">UnitSystem</a>
                            <ul class="memberlist">
                        <li>
                                <a class="variable" href="#UnitSystem.IP">IP</a>
                        </li>
                        <li>
                                <a class="variable" href="#UnitSystem.SI">SI</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="variable" href="#IP">IP</a>
            </li>
            <li>
                    <a class="variable" href="#SI">SI</a>
            </li>
            <li>
                    <a class="variable" href="#PSYCHROLIB_UNITS">PSYCHROLIB_UNITS</a>
            </li>
            <li>
                    <a class="variable" href="#PSYCHROLIB_TOLERANCE">PSYCHROLIB_TOLERANCE</a>
            </li>
            <li>
                    <a class="function" href="#SetUnitSystem">SetUnitSystem</a>
            </li>
            <li>
                    <a class="function" href="#GetUnitSystem">GetUnitSystem</a>
            </li>
            <li>
                    <a class="function" href="#isIP">isIP</a>
            </li>
            <li>
                    <a class="function" href="#GetTRankineFromTFahrenheit">GetTRankineFromTFahrenheit</a>
            </li>
            <li>
                    <a class="function" href="#GetTFahrenheitFromTRankine">GetTFahrenheitFromTRankine</a>
            </li>
            <li>
                    <a class="function" href="#GetTKelvinFromTCelsius">GetTKelvinFromTCelsius</a>
            </li>
            <li>
                    <a class="function" href="#GetTCelsiusFromTKelvin">GetTCelsiusFromTKelvin</a>
            </li>
            <li>
                    <a class="function" href="#GetTWetBulbFromTDewPoint">GetTWetBulbFromTDewPoint</a>
            </li>
            <li>
                    <a class="function" href="#GetTWetBulbFromRelHum">GetTWetBulbFromRelHum</a>
            </li>
            <li>
                    <a class="function" href="#GetRelHumFromTDewPoint">GetRelHumFromTDewPoint</a>
            </li>
            <li>
                    <a class="function" href="#GetRelHumFromTWetBulb">GetRelHumFromTWetBulb</a>
            </li>
            <li>
                    <a class="function" href="#GetTDewPointFromRelHum">GetTDewPointFromRelHum</a>
            </li>
            <li>
                    <a class="function" href="#GetTDewPointFromTWetBulb">GetTDewPointFromTWetBulb</a>
            </li>
            <li>
                    <a class="function" href="#GetVapPresFromRelHum">GetVapPresFromRelHum</a>
            </li>
            <li>
                    <a class="function" href="#GetRelHumFromVapPres">GetRelHumFromVapPres</a>
            </li>
            <li>
                    <a class="function" href="#dLnPws_">dLnPws_</a>
            </li>
            <li>
                    <a class="function" href="#GetTDewPointFromVapPres">GetTDewPointFromVapPres</a>
            </li>
            <li>
                    <a class="function" href="#GetVapPresFromTDewPoint">GetVapPresFromTDewPoint</a>
            </li>
            <li>
                    <a class="function" href="#GetTWetBulbFromHumRatio">GetTWetBulbFromHumRatio</a>
            </li>
            <li>
                    <a class="function" href="#GetHumRatioFromTWetBulb">GetHumRatioFromTWetBulb</a>
            </li>
            <li>
                    <a class="function" href="#GetHumRatioFromRelHum">GetHumRatioFromRelHum</a>
            </li>
            <li>
                    <a class="function" href="#GetRelHumFromHumRatio">GetRelHumFromHumRatio</a>
            </li>
            <li>
                    <a class="function" href="#GetHumRatioFromTDewPoint">GetHumRatioFromTDewPoint</a>
            </li>
            <li>
                    <a class="function" href="#GetTDewPointFromHumRatio">GetTDewPointFromHumRatio</a>
            </li>
            <li>
                    <a class="function" href="#GetHumRatioFromVapPres">GetHumRatioFromVapPres</a>
            </li>
            <li>
                    <a class="function" href="#GetVapPresFromHumRatio">GetVapPresFromHumRatio</a>
            </li>
            <li>
                    <a class="function" href="#GetSpecificHumFromHumRatio">GetSpecificHumFromHumRatio</a>
            </li>
            <li>
                    <a class="function" href="#GetHumRatioFromSpecificHum">GetHumRatioFromSpecificHum</a>
            </li>
            <li>
                    <a class="function" href="#GetDryAirEnthalpy">GetDryAirEnthalpy</a>
            </li>
            <li>
                    <a class="function" href="#GetDryAirDensity">GetDryAirDensity</a>
            </li>
            <li>
                    <a class="function" href="#GetDryAirVolume">GetDryAirVolume</a>
            </li>
            <li>
                    <a class="function" href="#GetTDryBulbFromEnthalpyAndHumRatio">GetTDryBulbFromEnthalpyAndHumRatio</a>
            </li>
            <li>
                    <a class="function" href="#GetHumRatioFromEnthalpyAndTDryBulb">GetHumRatioFromEnthalpyAndTDryBulb</a>
            </li>
            <li>
                    <a class="function" href="#GetSatVapPres">GetSatVapPres</a>
            </li>
            <li>
                    <a class="function" href="#GetSatHumRatio">GetSatHumRatio</a>
            </li>
            <li>
                    <a class="function" href="#GetSatAirEnthalpy">GetSatAirEnthalpy</a>
            </li>
            <li>
                    <a class="function" href="#GetVaporPressureDeficit">GetVaporPressureDeficit</a>
            </li>
            <li>
                    <a class="function" href="#GetDegreeOfSaturation">GetDegreeOfSaturation</a>
            </li>
            <li>
                    <a class="function" href="#GetMoistAirEnthalpy">GetMoistAirEnthalpy</a>
            </li>
            <li>
                    <a class="function" href="#GetMoistAirVolume">GetMoistAirVolume</a>
            </li>
            <li>
                    <a class="function" href="#GetTDryBulbFromMoistAirVolumeAndHumRatio">GetTDryBulbFromMoistAirVolumeAndHumRatio</a>
            </li>
            <li>
                    <a class="function" href="#GetMoistAirDensity">GetMoistAirDensity</a>
            </li>
            <li>
                    <a class="function" href="#GetStandardAtmPressure">GetStandardAtmPressure</a>
            </li>
            <li>
                    <a class="function" href="#GetStandardAtmTemperature">GetStandardAtmTemperature</a>
            </li>
            <li>
                    <a class="function" href="#GetSeaLevelPressure">GetSeaLevelPressure</a>
            </li>
            <li>
                    <a class="function" href="#GetStationPressure">GetStationPressure</a>
            </li>
            <li>
                    <a class="function" href="#CalcPsychrometricsFromTWetBulb">CalcPsychrometricsFromTWetBulb</a>
            </li>
            <li>
                    <a class="function" href="#CalcPsychrometricsFromTDewPoint">CalcPsychrometricsFromTDewPoint</a>
            </li>
            <li>
                    <a class="function" href="#CalcPsychrometricsFromRelHum">CalcPsychrometricsFromRelHum</a>
            </li>
    </ul>



        <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev" target="_blank">
            built with <span class="visually-hidden">pdoc</span><img
                alt="pdoc logo"
                src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E"/>
        </a>
</div>
    </nav>
    <main class="pdoc">
            <section class="module-info">
                    <h1 class="modulename">
<a href="./../../otters.html">otters</a><wbr>.<a href="./../wrangle.html">wrangle</a><wbr>.psychrometrics    </h1>

                
                        <input id="mod-psychrometrics-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">

                        <label class="view-source-button" for="mod-psychrometrics-view-source"><span>View Source</span></label>

                        <div class="pdoc-code codehilite"><pre><span></span><span id="L-1"><a href="#L-1"><span class="linenos">   1</span></a><span class="c1"># PsychroLib (version 2.5.0) (https://github.com/psychrometrics/psychrolib).</span>
</span><span id="L-2"><a href="#L-2"><span class="linenos">   2</span></a><span class="c1"># Copyright (c) 2018-2020 The PsychroLib Contributors for the current library implementation.</span>
</span><span id="L-3"><a href="#L-3"><span class="linenos">   3</span></a><span class="c1"># Copyright (c) 2017 ASHRAE Handbook — Fundamentals for ASHRAE equations and coefficients.</span>
</span><span id="L-4"><a href="#L-4"><span class="linenos">   4</span></a><span class="c1"># Licensed under the MIT License.</span>
</span><span id="L-5"><a href="#L-5"><span class="linenos">   5</span></a><span class="c1"># Addendum: Edited by Luca LaFontaine 2023 and incorporated into the LuTools project. </span>
</span><span id="L-6"><a href="#L-6"><span class="linenos">   6</span></a><span class="c1"># Addendum: If anyone knows how to properly communicate that this code does not belong to Luca but he edited it please submit a pull request</span>
</span><span id="L-7"><a href="#L-7"><span class="linenos">   7</span></a>
</span><span id="L-8"><a href="#L-8"><span class="linenos">   8</span></a><span class="c1"># &quot;&quot;&quot; psychrolib.py</span>
</span><span id="L-9"><a href="#L-9"><span class="linenos">   9</span></a>
</span><span id="L-10"><a href="#L-10"><span class="linenos">  10</span></a><span class="c1"># Contains functions for calculating thermodynamic properties of gas-vapor mixtures</span>
</span><span id="L-11"><a href="#L-11"><span class="linenos">  11</span></a><span class="c1"># and standard atmosphere suitable for most engineering, physical and meteorological</span>
</span><span id="L-12"><a href="#L-12"><span class="linenos">  12</span></a><span class="c1"># applications.</span>
</span><span id="L-13"><a href="#L-13"><span class="linenos">  13</span></a>
</span><span id="L-14"><a href="#L-14"><span class="linenos">  14</span></a><span class="c1"># Most of the functions are an implementation of the formulae found in the</span>
</span><span id="L-15"><a href="#L-15"><span class="linenos">  15</span></a><span class="c1"># 2017 ASHRAE Handbook - Fundamentals, in both International System (SI),</span>
</span><span id="L-16"><a href="#L-16"><span class="linenos">  16</span></a><span class="c1"># and Imperial (IP) units. Please refer to the information included in</span>
</span><span id="L-17"><a href="#L-17"><span class="linenos">  17</span></a><span class="c1"># each function for their respective reference.</span>
</span><span id="L-18"><a href="#L-18"><span class="linenos">  18</span></a>
</span><span id="L-19"><a href="#L-19"><span class="linenos">  19</span></a><span class="c1"># Example</span>
</span><span id="L-20"><a href="#L-20"><span class="linenos">  20</span></a><span class="c1">#     &gt;&gt;&gt; import psychrolib</span>
</span><span id="L-21"><a href="#L-21"><span class="linenos">  21</span></a><span class="c1">#     &gt;&gt;&gt; # Set the unit system, for example to SI (can be either psychrolib.SI or psychrolib.IP)</span>
</span><span id="L-22"><a href="#L-22"><span class="linenos">  22</span></a><span class="c1">#     &gt;&gt;&gt; psychrolib.SetUnitSystem(psychrolib.SI)</span>
</span><span id="L-23"><a href="#L-23"><span class="linenos">  23</span></a><span class="c1">#     &gt;&gt;&gt; # Calculate the dew point temperature for a dry bulb temperature of 25 C and a relative humidity of 80%</span>
</span><span id="L-24"><a href="#L-24"><span class="linenos">  24</span></a><span class="c1">#     &gt;&gt;&gt; TDewPoint = psychrolib.GetTDewPointFromRelHum(25.0, 0.80)</span>
</span><span id="L-25"><a href="#L-25"><span class="linenos">  25</span></a><span class="c1">#     &gt;&gt;&gt; print(TDewPoint)</span>
</span><span id="L-26"><a href="#L-26"><span class="linenos">  26</span></a><span class="c1">#     21.309397163661785</span>
</span><span id="L-27"><a href="#L-27"><span class="linenos">  27</span></a>
</span><span id="L-28"><a href="#L-28"><span class="linenos">  28</span></a><span class="c1"># Copyright</span>
</span><span id="L-29"><a href="#L-29"><span class="linenos">  29</span></a><span class="c1">#     - For the current library implementation</span>
</span><span id="L-30"><a href="#L-30"><span class="linenos">  30</span></a><span class="c1">#         Copyright (c) 2018-2020 The PsychroLib Contributors.</span>
</span><span id="L-31"><a href="#L-31"><span class="linenos">  31</span></a><span class="c1">#     - For equations and coefficients published ASHRAE Handbook — Fundamentals, Chapter 1</span>
</span><span id="L-32"><a href="#L-32"><span class="linenos">  32</span></a><span class="c1">#         Copyright (c) 2017 ASHRAE Handbook — Fundamentals (https://www.ashrae.org)</span>
</span><span id="L-33"><a href="#L-33"><span class="linenos">  33</span></a>
</span><span id="L-34"><a href="#L-34"><span class="linenos">  34</span></a><span class="c1"># License</span>
</span><span id="L-35"><a href="#L-35"><span class="linenos">  35</span></a><span class="c1">#     MIT (https://github.com/psychrometrics/psychrolib/LICENSE.txt)</span>
</span><span id="L-36"><a href="#L-36"><span class="linenos">  36</span></a>
</span><span id="L-37"><a href="#L-37"><span class="linenos">  37</span></a><span class="c1"># Note from the Authors</span>
</span><span id="L-38"><a href="#L-38"><span class="linenos">  38</span></a><span class="c1">#     We have made every effort to ensure that the code is adequate, however, we make no</span>
</span><span id="L-39"><a href="#L-39"><span class="linenos">  39</span></a><span class="c1">#     representation with respect to its accuracy. Use at your own risk. Should you notice</span>
</span><span id="L-40"><a href="#L-40"><span class="linenos">  40</span></a><span class="c1">#     an error, or if you have a suggestion, please notify us through GitHub at</span>
</span><span id="L-41"><a href="#L-41"><span class="linenos">  41</span></a><span class="c1">#     https://github.com/psychrometrics/psychrolib/issues.</span>
</span><span id="L-42"><a href="#L-42"><span class="linenos">  42</span></a>
</span><span id="L-43"><a href="#L-43"><span class="linenos">  43</span></a>
</span><span id="L-44"><a href="#L-44"><span class="linenos">  44</span></a><span class="c1"># &quot;&quot;&quot;</span>
</span><span id="L-45"><a href="#L-45"><span class="linenos">  45</span></a>
</span><span id="L-46"><a href="#L-46"><span class="linenos">  46</span></a>
</span><span id="L-47"><a href="#L-47"><span class="linenos">  47</span></a><span class="kn">import</span> <span class="nn">math</span>
</span><span id="L-48"><a href="#L-48"><span class="linenos">  48</span></a><span class="kn">from</span> <span class="nn">enum</span> <span class="kn">import</span> <span class="n">Enum</span><span class="p">,</span> <span class="n">auto</span>
</span><span id="L-49"><a href="#L-49"><span class="linenos">  49</span></a><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Optional</span>
</span><span id="L-50"><a href="#L-50"><span class="linenos">  50</span></a>
</span><span id="L-51"><a href="#L-51"><span class="linenos">  51</span></a>
</span><span id="L-52"><a href="#L-52"><span class="linenos">  52</span></a><span class="c1">#######################################################################################################</span>
</span><span id="L-53"><a href="#L-53"><span class="linenos">  53</span></a><span class="c1"># Global constants</span>
</span><span id="L-54"><a href="#L-54"><span class="linenos">  54</span></a><span class="c1">#######################################################################################################</span>
</span><span id="L-55"><a href="#L-55"><span class="linenos">  55</span></a>
</span><span id="L-56"><a href="#L-56"><span class="linenos">  56</span></a><span class="n">ZERO_FAHRENHEIT_AS_RANKINE</span> <span class="o">=</span> <span class="mf">459.67</span>
</span><span id="L-57"><a href="#L-57"><span class="linenos">  57</span></a><span class="sd">&quot;&quot;&quot;float: Zero degree Fahrenheit (°F) expressed as degree Rankine (°R)</span>
</span><span id="L-58"><a href="#L-58"><span class="linenos">  58</span></a>
</span><span id="L-59"><a href="#L-59"><span class="linenos">  59</span></a><span class="sd">    Units:</span>
</span><span id="L-60"><a href="#L-60"><span class="linenos">  60</span></a><span class="sd">        °R</span>
</span><span id="L-61"><a href="#L-61"><span class="linenos">  61</span></a>
</span><span id="L-62"><a href="#L-62"><span class="linenos">  62</span></a><span class="sd">    Reference:</span>
</span><span id="L-63"><a href="#L-63"><span class="linenos">  63</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 39</span>
</span><span id="L-64"><a href="#L-64"><span class="linenos">  64</span></a>
</span><span id="L-65"><a href="#L-65"><span class="linenos">  65</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-66"><a href="#L-66"><span class="linenos">  66</span></a>
</span><span id="L-67"><a href="#L-67"><span class="linenos">  67</span></a><span class="n">ZERO_CELSIUS_AS_KELVIN</span> <span class="o">=</span> <span class="mf">273.15</span>
</span><span id="L-68"><a href="#L-68"><span class="linenos">  68</span></a><span class="sd">&quot;&quot;&quot;float: Zero degree Celsius (°C) expressed as Kelvin (K)</span>
</span><span id="L-69"><a href="#L-69"><span class="linenos">  69</span></a>
</span><span id="L-70"><a href="#L-70"><span class="linenos">  70</span></a><span class="sd">    Units:</span>
</span><span id="L-71"><a href="#L-71"><span class="linenos">  71</span></a><span class="sd">        K</span>
</span><span id="L-72"><a href="#L-72"><span class="linenos">  72</span></a>
</span><span id="L-73"><a href="#L-73"><span class="linenos">  73</span></a><span class="sd">    Reference:</span>
</span><span id="L-74"><a href="#L-74"><span class="linenos">  74</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 39</span>
</span><span id="L-75"><a href="#L-75"><span class="linenos">  75</span></a>
</span><span id="L-76"><a href="#L-76"><span class="linenos">  76</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-77"><a href="#L-77"><span class="linenos">  77</span></a>
</span><span id="L-78"><a href="#L-78"><span class="linenos">  78</span></a><span class="n">R_DA_IP</span> <span class="o">=</span> <span class="mf">53.350</span>
</span><span id="L-79"><a href="#L-79"><span class="linenos">  79</span></a><span class="sd">&quot;&quot;&quot;float: Universal gas constant for dry air (IP version)</span>
</span><span id="L-80"><a href="#L-80"><span class="linenos">  80</span></a>
</span><span id="L-81"><a href="#L-81"><span class="linenos">  81</span></a><span class="sd">    Units:</span>
</span><span id="L-82"><a href="#L-82"><span class="linenos">  82</span></a><span class="sd">        ft lb_Force lb_DryAir⁻¹ R⁻¹</span>
</span><span id="L-83"><a href="#L-83"><span class="linenos">  83</span></a>
</span><span id="L-84"><a href="#L-84"><span class="linenos">  84</span></a><span class="sd">    Reference:</span>
</span><span id="L-85"><a href="#L-85"><span class="linenos">  85</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1</span>
</span><span id="L-86"><a href="#L-86"><span class="linenos">  86</span></a>
</span><span id="L-87"><a href="#L-87"><span class="linenos">  87</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-88"><a href="#L-88"><span class="linenos">  88</span></a>
</span><span id="L-89"><a href="#L-89"><span class="linenos">  89</span></a><span class="n">R_DA_SI</span> <span class="o">=</span> <span class="mf">287.042</span>
</span><span id="L-90"><a href="#L-90"><span class="linenos">  90</span></a><span class="sd">&quot;&quot;&quot;float: Universal gas constant for dry air (SI version)</span>
</span><span id="L-91"><a href="#L-91"><span class="linenos">  91</span></a>
</span><span id="L-92"><a href="#L-92"><span class="linenos">  92</span></a><span class="sd">    Units:</span>
</span><span id="L-93"><a href="#L-93"><span class="linenos">  93</span></a><span class="sd">        J kg_DryAir⁻¹ K⁻¹</span>
</span><span id="L-94"><a href="#L-94"><span class="linenos">  94</span></a>
</span><span id="L-95"><a href="#L-95"><span class="linenos">  95</span></a><span class="sd">    Reference:</span>
</span><span id="L-96"><a href="#L-96"><span class="linenos">  96</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1</span>
</span><span id="L-97"><a href="#L-97"><span class="linenos">  97</span></a>
</span><span id="L-98"><a href="#L-98"><span class="linenos">  98</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-99"><a href="#L-99"><span class="linenos">  99</span></a>
</span><span id="L-100"><a href="#L-100"><span class="linenos"> 100</span></a><span class="n">MAX_ITER_COUNT</span> <span class="o">=</span> <span class="mi">100</span>
</span><span id="L-101"><a href="#L-101"><span class="linenos"> 101</span></a><span class="sd">&quot;&quot;&quot;int: Maximum number of iterations before exiting while loops.</span>
</span><span id="L-102"><a href="#L-102"><span class="linenos"> 102</span></a>
</span><span id="L-103"><a href="#L-103"><span class="linenos"> 103</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-104"><a href="#L-104"><span class="linenos"> 104</span></a>
</span><span id="L-105"><a href="#L-105"><span class="linenos"> 105</span></a><span class="n">MIN_HUM_RATIO</span> <span class="o">=</span> <span class="mf">1e-7</span>
</span><span id="L-106"><a href="#L-106"><span class="linenos"> 106</span></a><span class="sd">&quot;&quot;&quot;float: Minimum acceptable humidity ratio used/returned by any functions.</span>
</span><span id="L-107"><a href="#L-107"><span class="linenos"> 107</span></a><span class="sd">          Any value above 0 or below the MIN_HUM_RATIO will be reset to this value.</span>
</span><span id="L-108"><a href="#L-108"><span class="linenos"> 108</span></a>
</span><span id="L-109"><a href="#L-109"><span class="linenos"> 109</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-110"><a href="#L-110"><span class="linenos"> 110</span></a>
</span><span id="L-111"><a href="#L-111"><span class="linenos"> 111</span></a><span class="n">FREEZING_POINT_WATER_IP</span> <span class="o">=</span> <span class="mf">32.0</span>
</span><span id="L-112"><a href="#L-112"><span class="linenos"> 112</span></a><span class="sd">&quot;&quot;&quot;float: Freezing point of water in Fahrenheit.</span>
</span><span id="L-113"><a href="#L-113"><span class="linenos"> 113</span></a>
</span><span id="L-114"><a href="#L-114"><span class="linenos"> 114</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-115"><a href="#L-115"><span class="linenos"> 115</span></a>
</span><span id="L-116"><a href="#L-116"><span class="linenos"> 116</span></a><span class="n">FREEZING_POINT_WATER_SI</span> <span class="o">=</span> <span class="mf">0.0</span>
</span><span id="L-117"><a href="#L-117"><span class="linenos"> 117</span></a><span class="sd">&quot;&quot;&quot;float: Freezing point of water in Celsius.</span>
</span><span id="L-118"><a href="#L-118"><span class="linenos"> 118</span></a>
</span><span id="L-119"><a href="#L-119"><span class="linenos"> 119</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-120"><a href="#L-120"><span class="linenos"> 120</span></a>
</span><span id="L-121"><a href="#L-121"><span class="linenos"> 121</span></a><span class="n">TRIPLE_POINT_WATER_IP</span> <span class="o">=</span> <span class="mf">32.018</span>
</span><span id="L-122"><a href="#L-122"><span class="linenos"> 122</span></a><span class="sd">&quot;&quot;&quot;float: Triple point of water in Fahrenheit.</span>
</span><span id="L-123"><a href="#L-123"><span class="linenos"> 123</span></a>
</span><span id="L-124"><a href="#L-124"><span class="linenos"> 124</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-125"><a href="#L-125"><span class="linenos"> 125</span></a>
</span><span id="L-126"><a href="#L-126"><span class="linenos"> 126</span></a><span class="n">TRIPLE_POINT_WATER_SI</span> <span class="o">=</span> <span class="mf">0.01</span>
</span><span id="L-127"><a href="#L-127"><span class="linenos"> 127</span></a><span class="sd">&quot;&quot;&quot;float: Triple point of water in Celsius.</span>
</span><span id="L-128"><a href="#L-128"><span class="linenos"> 128</span></a>
</span><span id="L-129"><a href="#L-129"><span class="linenos"> 129</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-130"><a href="#L-130"><span class="linenos"> 130</span></a>
</span><span id="L-131"><a href="#L-131"><span class="linenos"> 131</span></a><span class="c1">#######################################################################################################</span>
</span><span id="L-132"><a href="#L-132"><span class="linenos"> 132</span></a><span class="c1"># Helper functions</span>
</span><span id="L-133"><a href="#L-133"><span class="linenos"> 133</span></a><span class="c1">#######################################################################################################</span>
</span><span id="L-134"><a href="#L-134"><span class="linenos"> 134</span></a>
</span><span id="L-135"><a href="#L-135"><span class="linenos"> 135</span></a><span class="c1"># Unit system to use.</span>
</span><span id="L-136"><a href="#L-136"><span class="linenos"> 136</span></a><span class="k">class</span> <span class="nc">UnitSystem</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
</span><span id="L-137"><a href="#L-137"><span class="linenos"> 137</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-138"><a href="#L-138"><span class="linenos"> 138</span></a><span class="sd">    Private class not exposed used to set automatic enumeration values.</span>
</span><span id="L-139"><a href="#L-139"><span class="linenos"> 139</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-140"><a href="#L-140"><span class="linenos"> 140</span></a>    <span class="n">IP</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
</span><span id="L-141"><a href="#L-141"><span class="linenos"> 141</span></a>    <span class="n">SI</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
</span><span id="L-142"><a href="#L-142"><span class="linenos"> 142</span></a>
</span><span id="L-143"><a href="#L-143"><span class="linenos"> 143</span></a><span class="n">IP</span> <span class="o">=</span> <span class="n">UnitSystem</span><span class="o">.</span><span class="n">IP</span>
</span><span id="L-144"><a href="#L-144"><span class="linenos"> 144</span></a><span class="n">SI</span> <span class="o">=</span> <span class="n">UnitSystem</span><span class="o">.</span><span class="n">SI</span>
</span><span id="L-145"><a href="#L-145"><span class="linenos"> 145</span></a>
</span><span id="L-146"><a href="#L-146"><span class="linenos"> 146</span></a><span class="n">PSYCHROLIB_UNITS</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="L-147"><a href="#L-147"><span class="linenos"> 147</span></a>
</span><span id="L-148"><a href="#L-148"><span class="linenos"> 148</span></a><span class="n">PSYCHROLIB_TOLERANCE</span> <span class="o">=</span> <span class="mf">1.0</span>
</span><span id="L-149"><a href="#L-149"><span class="linenos"> 149</span></a><span class="c1"># Tolerance of temperature calculations</span>
</span><span id="L-150"><a href="#L-150"><span class="linenos"> 150</span></a>
</span><span id="L-151"><a href="#L-151"><span class="linenos"> 151</span></a><span class="k">def</span> <span class="nf">SetUnitSystem</span><span class="p">(</span><span class="n">Units</span><span class="p">:</span> <span class="n">UnitSystem</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-152"><a href="#L-152"><span class="linenos"> 152</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-153"><a href="#L-153"><span class="linenos"> 153</span></a><span class="sd">    Set the system of units to use (SI or IP).</span>
</span><span id="L-154"><a href="#L-154"><span class="linenos"> 154</span></a>
</span><span id="L-155"><a href="#L-155"><span class="linenos"> 155</span></a><span class="sd">    Args:</span>
</span><span id="L-156"><a href="#L-156"><span class="linenos"> 156</span></a><span class="sd">        Units: string indicating the system of units chosen (SI or IP)</span>
</span><span id="L-157"><a href="#L-157"><span class="linenos"> 157</span></a>
</span><span id="L-158"><a href="#L-158"><span class="linenos"> 158</span></a><span class="sd">    Notes:</span>
</span><span id="L-159"><a href="#L-159"><span class="linenos"> 159</span></a><span class="sd">        This function *HAS TO BE CALLED* before the library can be used</span>
</span><span id="L-160"><a href="#L-160"><span class="linenos"> 160</span></a>
</span><span id="L-161"><a href="#L-161"><span class="linenos"> 161</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-162"><a href="#L-162"><span class="linenos"> 162</span></a>    <span class="k">global</span> <span class="n">PSYCHROLIB_UNITS</span>
</span><span id="L-163"><a href="#L-163"><span class="linenos"> 163</span></a>    <span class="k">global</span> <span class="n">PSYCHROLIB_TOLERANCE</span>
</span><span id="L-164"><a href="#L-164"><span class="linenos"> 164</span></a>
</span><span id="L-165"><a href="#L-165"><span class="linenos"> 165</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">Units</span><span class="p">,</span> <span class="n">UnitSystem</span><span class="p">):</span>
</span><span id="L-166"><a href="#L-166"><span class="linenos"> 166</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;The system of units has to be either SI or IP.&quot;</span><span class="p">)</span>
</span><span id="L-167"><a href="#L-167"><span class="linenos"> 167</span></a>
</span><span id="L-168"><a href="#L-168"><span class="linenos"> 168</span></a>    <span class="n">PSYCHROLIB_UNITS</span> <span class="o">=</span> <span class="n">Units</span>
</span><span id="L-169"><a href="#L-169"><span class="linenos"> 169</span></a>
</span><span id="L-170"><a href="#L-170"><span class="linenos"> 170</span></a>    <span class="c1"># Define tolerance on temperature calculations</span>
</span><span id="L-171"><a href="#L-171"><span class="linenos"> 171</span></a>    <span class="c1"># The tolerance is the same in IP and SI</span>
</span><span id="L-172"><a href="#L-172"><span class="linenos"> 172</span></a>    <span class="k">if</span> <span class="n">Units</span> <span class="o">==</span> <span class="n">IP</span><span class="p">:</span>
</span><span id="L-173"><a href="#L-173"><span class="linenos"> 173</span></a>        <span class="n">PSYCHROLIB_TOLERANCE</span> <span class="o">=</span> <span class="mf">0.001</span> <span class="o">*</span> <span class="mf">9.</span> <span class="o">/</span> <span class="mf">5.</span>
</span><span id="L-174"><a href="#L-174"><span class="linenos"> 174</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="L-175"><a href="#L-175"><span class="linenos"> 175</span></a>        <span class="n">PSYCHROLIB_TOLERANCE</span> <span class="o">=</span> <span class="mf">0.001</span>
</span><span id="L-176"><a href="#L-176"><span class="linenos"> 176</span></a>
</span><span id="L-177"><a href="#L-177"><span class="linenos"> 177</span></a>    <span class="k">if</span> <span class="n">has_numba</span><span class="p">:</span>
</span><span id="L-178"><a href="#L-178"><span class="linenos"> 178</span></a>        <span class="c1"># Need to recompile functions when the system of units is changed as Numba considers these global variables compile-time constants.</span>
</span><span id="L-179"><a href="#L-179"><span class="linenos"> 179</span></a>        <span class="c1"># See https://numba.pydata.org/numba-doc/dev/user/faq.html#numba-doesn-t-seem-to-care-when-i-modify-a-global-variable</span>
</span><span id="L-180"><a href="#L-180"><span class="linenos"> 180</span></a>        <span class="nb">globals</span><span class="p">()[</span><span class="s1">&#39;isIP&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">njit</span><span class="p">(</span><span class="n">isIP</span><span class="o">.</span><span class="n">py_func</span><span class="p">)</span>
</span><span id="L-181"><a href="#L-181"><span class="linenos"> 181</span></a>        <span class="k">for</span> <span class="n">func</span> <span class="ow">in</span> <span class="n">func_list</span><span class="p">:</span>
</span><span id="L-182"><a href="#L-182"><span class="linenos"> 182</span></a>            <span class="nb">globals</span><span class="p">()[</span><span class="n">func</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">=</span> <span class="n">vectorize</span><span class="p">(</span><span class="n">func</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span><span id="L-183"><a href="#L-183"><span class="linenos"> 183</span></a>
</span><span id="L-184"><a href="#L-184"><span class="linenos"> 184</span></a><span class="k">def</span> <span class="nf">GetUnitSystem</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UnitSystem</span><span class="p">]:</span>
</span><span id="L-185"><a href="#L-185"><span class="linenos"> 185</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-186"><a href="#L-186"><span class="linenos"> 186</span></a><span class="sd">    Return system of units in use.</span>
</span><span id="L-187"><a href="#L-187"><span class="linenos"> 187</span></a>
</span><span id="L-188"><a href="#L-188"><span class="linenos"> 188</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-189"><a href="#L-189"><span class="linenos"> 189</span></a>    <span class="k">return</span> <span class="n">PSYCHROLIB_UNITS</span>
</span><span id="L-190"><a href="#L-190"><span class="linenos"> 190</span></a>
</span><span id="L-191"><a href="#L-191"><span class="linenos"> 191</span></a><span class="k">def</span> <span class="nf">isIP</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="L-192"><a href="#L-192"><span class="linenos"> 192</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-193"><a href="#L-193"><span class="linenos"> 193</span></a><span class="sd">    Check whether the system in use is IP or SI.</span>
</span><span id="L-194"><a href="#L-194"><span class="linenos"> 194</span></a>
</span><span id="L-195"><a href="#L-195"><span class="linenos"> 195</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-196"><a href="#L-196"><span class="linenos"> 196</span></a>    <span class="k">if</span> <span class="n">PSYCHROLIB_UNITS</span> <span class="o">==</span> <span class="n">IP</span><span class="p">:</span>
</span><span id="L-197"><a href="#L-197"><span class="linenos"> 197</span></a>        <span class="k">return</span> <span class="kc">True</span>
</span><span id="L-198"><a href="#L-198"><span class="linenos"> 198</span></a>    <span class="k">elif</span> <span class="n">PSYCHROLIB_UNITS</span> <span class="o">==</span> <span class="n">SI</span><span class="p">:</span>
</span><span id="L-199"><a href="#L-199"><span class="linenos"> 199</span></a>        <span class="k">return</span> <span class="kc">False</span>
</span><span id="L-200"><a href="#L-200"><span class="linenos"> 200</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="L-201"><a href="#L-201"><span class="linenos"> 201</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;The system of units has not been defined.&#39;</span><span class="p">)</span>
</span><span id="L-202"><a href="#L-202"><span class="linenos"> 202</span></a>
</span><span id="L-203"><a href="#L-203"><span class="linenos"> 203</span></a>
</span><span id="L-204"><a href="#L-204"><span class="linenos"> 204</span></a><span class="c1">#######################################################################################################</span>
</span><span id="L-205"><a href="#L-205"><span class="linenos"> 205</span></a><span class="c1"># Conversion between temperature units</span>
</span><span id="L-206"><a href="#L-206"><span class="linenos"> 206</span></a><span class="c1">#######################################################################################################</span>
</span><span id="L-207"><a href="#L-207"><span class="linenos"> 207</span></a>
</span><span id="L-208"><a href="#L-208"><span class="linenos"> 208</span></a><span class="k">def</span> <span class="nf">GetTRankineFromTFahrenheit</span><span class="p">(</span><span class="n">TFahrenheit</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="L-209"><a href="#L-209"><span class="linenos"> 209</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-210"><a href="#L-210"><span class="linenos"> 210</span></a><span class="sd">    Utility function to convert temperature to degree Rankine (°R)</span>
</span><span id="L-211"><a href="#L-211"><span class="linenos"> 211</span></a><span class="sd">    given temperature in degree Fahrenheit (°F).</span>
</span><span id="L-212"><a href="#L-212"><span class="linenos"> 212</span></a>
</span><span id="L-213"><a href="#L-213"><span class="linenos"> 213</span></a><span class="sd">    Args:</span>
</span><span id="L-214"><a href="#L-214"><span class="linenos"> 214</span></a><span class="sd">        TRankine: Temperature in degree Fahrenheit (°F)</span>
</span><span id="L-215"><a href="#L-215"><span class="linenos"> 215</span></a>
</span><span id="L-216"><a href="#L-216"><span class="linenos"> 216</span></a><span class="sd">    Returns:</span>
</span><span id="L-217"><a href="#L-217"><span class="linenos"> 217</span></a><span class="sd">        Temperature in degree Rankine (°R)</span>
</span><span id="L-218"><a href="#L-218"><span class="linenos"> 218</span></a>
</span><span id="L-219"><a href="#L-219"><span class="linenos"> 219</span></a><span class="sd">    Reference:</span>
</span><span id="L-220"><a href="#L-220"><span class="linenos"> 220</span></a><span class="sd">        Reference: ASHRAE Handbook - Fundamentals (2017) ch. 1 section 3</span>
</span><span id="L-221"><a href="#L-221"><span class="linenos"> 221</span></a>
</span><span id="L-222"><a href="#L-222"><span class="linenos"> 222</span></a><span class="sd">    Notes:</span>
</span><span id="L-223"><a href="#L-223"><span class="linenos"> 223</span></a><span class="sd">        Exact conversion.</span>
</span><span id="L-224"><a href="#L-224"><span class="linenos"> 224</span></a>
</span><span id="L-225"><a href="#L-225"><span class="linenos"> 225</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-226"><a href="#L-226"><span class="linenos"> 226</span></a>    <span class="n">TRankine</span> <span class="o">=</span> <span class="n">TFahrenheit</span> <span class="o">+</span> <span class="n">ZERO_FAHRENHEIT_AS_RANKINE</span>
</span><span id="L-227"><a href="#L-227"><span class="linenos"> 227</span></a>    <span class="k">return</span> <span class="n">TRankine</span>
</span><span id="L-228"><a href="#L-228"><span class="linenos"> 228</span></a>
</span><span id="L-229"><a href="#L-229"><span class="linenos"> 229</span></a><span class="k">def</span> <span class="nf">GetTFahrenheitFromTRankine</span><span class="p">(</span><span class="n">TRankine</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="L-230"><a href="#L-230"><span class="linenos"> 230</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-231"><a href="#L-231"><span class="linenos"> 231</span></a><span class="sd">    Utility function to convert temperature to degree Fahrenheit (°F)</span>
</span><span id="L-232"><a href="#L-232"><span class="linenos"> 232</span></a><span class="sd">    given temperature in degree Rankine (°R).</span>
</span><span id="L-233"><a href="#L-233"><span class="linenos"> 233</span></a>
</span><span id="L-234"><a href="#L-234"><span class="linenos"> 234</span></a><span class="sd">    Args:</span>
</span><span id="L-235"><a href="#L-235"><span class="linenos"> 235</span></a><span class="sd">        TRankine: Temperature in degree Rankine (°R)</span>
</span><span id="L-236"><a href="#L-236"><span class="linenos"> 236</span></a>
</span><span id="L-237"><a href="#L-237"><span class="linenos"> 237</span></a><span class="sd">    Returns:</span>
</span><span id="L-238"><a href="#L-238"><span class="linenos"> 238</span></a><span class="sd">        Temperature in degree Fahrenheit (°F)</span>
</span><span id="L-239"><a href="#L-239"><span class="linenos"> 239</span></a>
</span><span id="L-240"><a href="#L-240"><span class="linenos"> 240</span></a><span class="sd">    Reference:</span>
</span><span id="L-241"><a href="#L-241"><span class="linenos"> 241</span></a><span class="sd">        Reference: ASHRAE Handbook - Fundamentals (2017) ch. 1 section 3</span>
</span><span id="L-242"><a href="#L-242"><span class="linenos"> 242</span></a>
</span><span id="L-243"><a href="#L-243"><span class="linenos"> 243</span></a><span class="sd">    Notes:</span>
</span><span id="L-244"><a href="#L-244"><span class="linenos"> 244</span></a><span class="sd">        Exact conversion.</span>
</span><span id="L-245"><a href="#L-245"><span class="linenos"> 245</span></a>
</span><span id="L-246"><a href="#L-246"><span class="linenos"> 246</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-247"><a href="#L-247"><span class="linenos"> 247</span></a>    <span class="k">return</span> <span class="n">TRankine</span> <span class="o">-</span> <span class="n">ZERO_FAHRENHEIT_AS_RANKINE</span>
</span><span id="L-248"><a href="#L-248"><span class="linenos"> 248</span></a>
</span><span id="L-249"><a href="#L-249"><span class="linenos"> 249</span></a><span class="k">def</span> <span class="nf">GetTKelvinFromTCelsius</span><span class="p">(</span><span class="n">TCelsius</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="L-250"><a href="#L-250"><span class="linenos"> 250</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-251"><a href="#L-251"><span class="linenos"> 251</span></a><span class="sd">    Utility function to convert temperature to Kelvin (K)</span>
</span><span id="L-252"><a href="#L-252"><span class="linenos"> 252</span></a><span class="sd">    given temperature in degree Celsius (°C).</span>
</span><span id="L-253"><a href="#L-253"><span class="linenos"> 253</span></a>
</span><span id="L-254"><a href="#L-254"><span class="linenos"> 254</span></a><span class="sd">    Args:</span>
</span><span id="L-255"><a href="#L-255"><span class="linenos"> 255</span></a><span class="sd">        TCelsius: Temperature in degree Celsius (°C)</span>
</span><span id="L-256"><a href="#L-256"><span class="linenos"> 256</span></a>
</span><span id="L-257"><a href="#L-257"><span class="linenos"> 257</span></a><span class="sd">    Returns:</span>
</span><span id="L-258"><a href="#L-258"><span class="linenos"> 258</span></a><span class="sd">        Temperature in Kelvin (K)</span>
</span><span id="L-259"><a href="#L-259"><span class="linenos"> 259</span></a>
</span><span id="L-260"><a href="#L-260"><span class="linenos"> 260</span></a><span class="sd">    Reference:</span>
</span><span id="L-261"><a href="#L-261"><span class="linenos"> 261</span></a><span class="sd">        Reference: ASHRAE Handbook - Fundamentals (2017) ch. 1 section 3</span>
</span><span id="L-262"><a href="#L-262"><span class="linenos"> 262</span></a>
</span><span id="L-263"><a href="#L-263"><span class="linenos"> 263</span></a><span class="sd">    Notes:</span>
</span><span id="L-264"><a href="#L-264"><span class="linenos"> 264</span></a><span class="sd">        Exact conversion.</span>
</span><span id="L-265"><a href="#L-265"><span class="linenos"> 265</span></a>
</span><span id="L-266"><a href="#L-266"><span class="linenos"> 266</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-267"><a href="#L-267"><span class="linenos"> 267</span></a>    <span class="n">TKelvin</span> <span class="o">=</span> <span class="n">TCelsius</span> <span class="o">+</span> <span class="n">ZERO_CELSIUS_AS_KELVIN</span>
</span><span id="L-268"><a href="#L-268"><span class="linenos"> 268</span></a>    <span class="k">return</span> <span class="n">TKelvin</span>
</span><span id="L-269"><a href="#L-269"><span class="linenos"> 269</span></a>
</span><span id="L-270"><a href="#L-270"><span class="linenos"> 270</span></a><span class="k">def</span> <span class="nf">GetTCelsiusFromTKelvin</span><span class="p">(</span><span class="n">TKelvin</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="L-271"><a href="#L-271"><span class="linenos"> 271</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-272"><a href="#L-272"><span class="linenos"> 272</span></a><span class="sd">    Utility function to convert temperature to degree Celsius (°C)</span>
</span><span id="L-273"><a href="#L-273"><span class="linenos"> 273</span></a><span class="sd">    given temperature in Kelvin (K).</span>
</span><span id="L-274"><a href="#L-274"><span class="linenos"> 274</span></a>
</span><span id="L-275"><a href="#L-275"><span class="linenos"> 275</span></a><span class="sd">    Args:</span>
</span><span id="L-276"><a href="#L-276"><span class="linenos"> 276</span></a><span class="sd">        TKelvin: Temperature in Kelvin (K)</span>
</span><span id="L-277"><a href="#L-277"><span class="linenos"> 277</span></a>
</span><span id="L-278"><a href="#L-278"><span class="linenos"> 278</span></a><span class="sd">    Returns:</span>
</span><span id="L-279"><a href="#L-279"><span class="linenos"> 279</span></a><span class="sd">        Temperature in degree Celsius (°C)</span>
</span><span id="L-280"><a href="#L-280"><span class="linenos"> 280</span></a>
</span><span id="L-281"><a href="#L-281"><span class="linenos"> 281</span></a><span class="sd">    Reference:</span>
</span><span id="L-282"><a href="#L-282"><span class="linenos"> 282</span></a><span class="sd">        Reference: ASHRAE Handbook - Fundamentals (2017) ch. 1 section 3</span>
</span><span id="L-283"><a href="#L-283"><span class="linenos"> 283</span></a>
</span><span id="L-284"><a href="#L-284"><span class="linenos"> 284</span></a><span class="sd">    Notes:</span>
</span><span id="L-285"><a href="#L-285"><span class="linenos"> 285</span></a><span class="sd">        Exact conversion.</span>
</span><span id="L-286"><a href="#L-286"><span class="linenos"> 286</span></a>
</span><span id="L-287"><a href="#L-287"><span class="linenos"> 287</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-288"><a href="#L-288"><span class="linenos"> 288</span></a>    <span class="k">return</span> <span class="n">TKelvin</span> <span class="o">-</span> <span class="n">ZERO_CELSIUS_AS_KELVIN</span>
</span><span id="L-289"><a href="#L-289"><span class="linenos"> 289</span></a>
</span><span id="L-290"><a href="#L-290"><span class="linenos"> 290</span></a>
</span><span id="L-291"><a href="#L-291"><span class="linenos"> 291</span></a><span class="c1">#######################################################################################################</span>
</span><span id="L-292"><a href="#L-292"><span class="linenos"> 292</span></a><span class="c1"># Conversions between dew point, wet bulb, and relative humidity</span>
</span><span id="L-293"><a href="#L-293"><span class="linenos"> 293</span></a><span class="c1">#######################################################################################################</span>
</span><span id="L-294"><a href="#L-294"><span class="linenos"> 294</span></a>
</span><span id="L-295"><a href="#L-295"><span class="linenos"> 295</span></a><span class="k">def</span> <span class="nf">GetTWetBulbFromTDewPoint</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">TDewPoint</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="L-296"><a href="#L-296"><span class="linenos"> 296</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-297"><a href="#L-297"><span class="linenos"> 297</span></a><span class="sd">    Return wet-bulb temperature given dry-bulb temperature, dew-point temperature, and pressure.</span>
</span><span id="L-298"><a href="#L-298"><span class="linenos"> 298</span></a>
</span><span id="L-299"><a href="#L-299"><span class="linenos"> 299</span></a><span class="sd">    Args:</span>
</span><span id="L-300"><a href="#L-300"><span class="linenos"> 300</span></a><span class="sd">        TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="L-301"><a href="#L-301"><span class="linenos"> 301</span></a><span class="sd">        TDewPoint : Dew-point temperature in °F [IP] or °C [SI]</span>
</span><span id="L-302"><a href="#L-302"><span class="linenos"> 302</span></a><span class="sd">        Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</span>
</span><span id="L-303"><a href="#L-303"><span class="linenos"> 303</span></a>
</span><span id="L-304"><a href="#L-304"><span class="linenos"> 304</span></a><span class="sd">    Returns:</span>
</span><span id="L-305"><a href="#L-305"><span class="linenos"> 305</span></a><span class="sd">        Wet-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="L-306"><a href="#L-306"><span class="linenos"> 306</span></a>
</span><span id="L-307"><a href="#L-307"><span class="linenos"> 307</span></a><span class="sd">    Reference:</span>
</span><span id="L-308"><a href="#L-308"><span class="linenos"> 308</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1</span>
</span><span id="L-309"><a href="#L-309"><span class="linenos"> 309</span></a>
</span><span id="L-310"><a href="#L-310"><span class="linenos"> 310</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-311"><a href="#L-311"><span class="linenos"> 311</span></a>    <span class="k">if</span> <span class="n">TDewPoint</span> <span class="o">&gt;</span> <span class="n">TDryBulb</span><span class="p">:</span>
</span><span id="L-312"><a href="#L-312"><span class="linenos"> 312</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Dew point temperature is above dry bulb temperature&quot;</span><span class="p">)</span>
</span><span id="L-313"><a href="#L-313"><span class="linenos"> 313</span></a>
</span><span id="L-314"><a href="#L-314"><span class="linenos"> 314</span></a>    <span class="n">HumRatio</span> <span class="o">=</span> <span class="n">GetHumRatioFromTDewPoint</span><span class="p">(</span><span class="n">TDewPoint</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="L-315"><a href="#L-315"><span class="linenos"> 315</span></a>    <span class="n">TWetBulb</span> <span class="o">=</span> <span class="n">GetTWetBulbFromHumRatio</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">HumRatio</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="L-316"><a href="#L-316"><span class="linenos"> 316</span></a>    <span class="k">return</span> <span class="n">TWetBulb</span>
</span><span id="L-317"><a href="#L-317"><span class="linenos"> 317</span></a>
</span><span id="L-318"><a href="#L-318"><span class="linenos"> 318</span></a><span class="k">def</span> <span class="nf">GetTWetBulbFromRelHum</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">RelHum</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="L-319"><a href="#L-319"><span class="linenos"> 319</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-320"><a href="#L-320"><span class="linenos"> 320</span></a><span class="sd">    Return wet-bulb temperature given dry-bulb temperature, relative humidity, and pressure.</span>
</span><span id="L-321"><a href="#L-321"><span class="linenos"> 321</span></a>
</span><span id="L-322"><a href="#L-322"><span class="linenos"> 322</span></a><span class="sd">    Args:</span>
</span><span id="L-323"><a href="#L-323"><span class="linenos"> 323</span></a><span class="sd">        TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="L-324"><a href="#L-324"><span class="linenos"> 324</span></a><span class="sd">        RelHum : Relative humidity in range [0, 1]</span>
</span><span id="L-325"><a href="#L-325"><span class="linenos"> 325</span></a><span class="sd">        Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</span>
</span><span id="L-326"><a href="#L-326"><span class="linenos"> 326</span></a>
</span><span id="L-327"><a href="#L-327"><span class="linenos"> 327</span></a><span class="sd">    Returns:</span>
</span><span id="L-328"><a href="#L-328"><span class="linenos"> 328</span></a><span class="sd">        Wet-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="L-329"><a href="#L-329"><span class="linenos"> 329</span></a>
</span><span id="L-330"><a href="#L-330"><span class="linenos"> 330</span></a><span class="sd">    Reference:</span>
</span><span id="L-331"><a href="#L-331"><span class="linenos"> 331</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1</span>
</span><span id="L-332"><a href="#L-332"><span class="linenos"> 332</span></a>
</span><span id="L-333"><a href="#L-333"><span class="linenos"> 333</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-334"><a href="#L-334"><span class="linenos"> 334</span></a>    <span class="k">if</span> <span class="n">RelHum</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">RelHum</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="L-335"><a href="#L-335"><span class="linenos"> 335</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Relative humidity is outside range [0, 1]&quot;</span><span class="p">)</span>
</span><span id="L-336"><a href="#L-336"><span class="linenos"> 336</span></a>
</span><span id="L-337"><a href="#L-337"><span class="linenos"> 337</span></a>    <span class="n">HumRatio</span> <span class="o">=</span> <span class="n">GetHumRatioFromRelHum</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">RelHum</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="L-338"><a href="#L-338"><span class="linenos"> 338</span></a>    <span class="n">TWetBulb</span> <span class="o">=</span> <span class="n">GetTWetBulbFromHumRatio</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">HumRatio</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="L-339"><a href="#L-339"><span class="linenos"> 339</span></a>    <span class="k">return</span> <span class="n">TWetBulb</span>
</span><span id="L-340"><a href="#L-340"><span class="linenos"> 340</span></a>
</span><span id="L-341"><a href="#L-341"><span class="linenos"> 341</span></a><span class="k">def</span> <span class="nf">GetRelHumFromTDewPoint</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">TDewPoint</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="L-342"><a href="#L-342"><span class="linenos"> 342</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-343"><a href="#L-343"><span class="linenos"> 343</span></a><span class="sd">    Return relative humidity given dry-bulb temperature and dew-point temperature.</span>
</span><span id="L-344"><a href="#L-344"><span class="linenos"> 344</span></a>
</span><span id="L-345"><a href="#L-345"><span class="linenos"> 345</span></a><span class="sd">    Args:</span>
</span><span id="L-346"><a href="#L-346"><span class="linenos"> 346</span></a><span class="sd">        TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="L-347"><a href="#L-347"><span class="linenos"> 347</span></a><span class="sd">        TDewPoint : Dew-point temperature in °F [IP] or °C [SI]</span>
</span><span id="L-348"><a href="#L-348"><span class="linenos"> 348</span></a>
</span><span id="L-349"><a href="#L-349"><span class="linenos"> 349</span></a><span class="sd">    Returns:</span>
</span><span id="L-350"><a href="#L-350"><span class="linenos"> 350</span></a><span class="sd">        Relative humidity in range [0, 1]</span>
</span><span id="L-351"><a href="#L-351"><span class="linenos"> 351</span></a>
</span><span id="L-352"><a href="#L-352"><span class="linenos"> 352</span></a><span class="sd">    Reference:</span>
</span><span id="L-353"><a href="#L-353"><span class="linenos"> 353</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn 22</span>
</span><span id="L-354"><a href="#L-354"><span class="linenos"> 354</span></a>
</span><span id="L-355"><a href="#L-355"><span class="linenos"> 355</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-356"><a href="#L-356"><span class="linenos"> 356</span></a>    <span class="k">if</span> <span class="n">TDewPoint</span> <span class="o">&gt;</span> <span class="n">TDryBulb</span><span class="p">:</span>
</span><span id="L-357"><a href="#L-357"><span class="linenos"> 357</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Dew point temperature is above dry bulb temperature&quot;</span><span class="p">)</span>
</span><span id="L-358"><a href="#L-358"><span class="linenos"> 358</span></a>
</span><span id="L-359"><a href="#L-359"><span class="linenos"> 359</span></a>    <span class="n">VapPres</span> <span class="o">=</span> <span class="n">GetSatVapPres</span><span class="p">(</span><span class="n">TDewPoint</span><span class="p">)</span>
</span><span id="L-360"><a href="#L-360"><span class="linenos"> 360</span></a>    <span class="n">SatVapPres</span> <span class="o">=</span> <span class="n">GetSatVapPres</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">)</span>
</span><span id="L-361"><a href="#L-361"><span class="linenos"> 361</span></a>    <span class="n">RelHum</span> <span class="o">=</span> <span class="n">VapPres</span> <span class="o">/</span> <span class="n">SatVapPres</span>
</span><span id="L-362"><a href="#L-362"><span class="linenos"> 362</span></a>    <span class="k">return</span> <span class="n">RelHum</span>
</span><span id="L-363"><a href="#L-363"><span class="linenos"> 363</span></a>
</span><span id="L-364"><a href="#L-364"><span class="linenos"> 364</span></a><span class="k">def</span> <span class="nf">GetRelHumFromTWetBulb</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">TWetBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="L-365"><a href="#L-365"><span class="linenos"> 365</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-366"><a href="#L-366"><span class="linenos"> 366</span></a><span class="sd">    Return relative humidity given dry-bulb temperature, wet bulb temperature and pressure.</span>
</span><span id="L-367"><a href="#L-367"><span class="linenos"> 367</span></a>
</span><span id="L-368"><a href="#L-368"><span class="linenos"> 368</span></a><span class="sd">    Args:</span>
</span><span id="L-369"><a href="#L-369"><span class="linenos"> 369</span></a><span class="sd">        TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="L-370"><a href="#L-370"><span class="linenos"> 370</span></a><span class="sd">        TWetBulb : Wet-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="L-371"><a href="#L-371"><span class="linenos"> 371</span></a><span class="sd">        Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</span>
</span><span id="L-372"><a href="#L-372"><span class="linenos"> 372</span></a>
</span><span id="L-373"><a href="#L-373"><span class="linenos"> 373</span></a><span class="sd">    Returns:</span>
</span><span id="L-374"><a href="#L-374"><span class="linenos"> 374</span></a><span class="sd">        Relative humidity in range [0, 1]</span>
</span><span id="L-375"><a href="#L-375"><span class="linenos"> 375</span></a>
</span><span id="L-376"><a href="#L-376"><span class="linenos"> 376</span></a><span class="sd">    Reference:</span>
</span><span id="L-377"><a href="#L-377"><span class="linenos"> 377</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1</span>
</span><span id="L-378"><a href="#L-378"><span class="linenos"> 378</span></a>
</span><span id="L-379"><a href="#L-379"><span class="linenos"> 379</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-380"><a href="#L-380"><span class="linenos"> 380</span></a>    <span class="k">if</span> <span class="n">TWetBulb</span> <span class="o">&gt;</span> <span class="n">TDryBulb</span><span class="p">:</span>
</span><span id="L-381"><a href="#L-381"><span class="linenos"> 381</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Wet bulb temperature is above dry bulb temperature&quot;</span><span class="p">)</span>
</span><span id="L-382"><a href="#L-382"><span class="linenos"> 382</span></a>
</span><span id="L-383"><a href="#L-383"><span class="linenos"> 383</span></a>    <span class="n">HumRatio</span> <span class="o">=</span> <span class="n">GetHumRatioFromTWetBulb</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">TWetBulb</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="L-384"><a href="#L-384"><span class="linenos"> 384</span></a>    <span class="n">RelHum</span> <span class="o">=</span>  <span class="n">GetRelHumFromHumRatio</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">HumRatio</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="L-385"><a href="#L-385"><span class="linenos"> 385</span></a>    <span class="k">return</span> <span class="n">RelHum</span>
</span><span id="L-386"><a href="#L-386"><span class="linenos"> 386</span></a>
</span><span id="L-387"><a href="#L-387"><span class="linenos"> 387</span></a><span class="k">def</span> <span class="nf">GetTDewPointFromRelHum</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">RelHum</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="L-388"><a href="#L-388"><span class="linenos"> 388</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-389"><a href="#L-389"><span class="linenos"> 389</span></a><span class="sd">    Return dew-point temperature given dry-bulb temperature and relative humidity.</span>
</span><span id="L-390"><a href="#L-390"><span class="linenos"> 390</span></a>
</span><span id="L-391"><a href="#L-391"><span class="linenos"> 391</span></a><span class="sd">    Args:</span>
</span><span id="L-392"><a href="#L-392"><span class="linenos"> 392</span></a><span class="sd">        TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="L-393"><a href="#L-393"><span class="linenos"> 393</span></a><span class="sd">        RelHum: Relative humidity in range [0, 1]</span>
</span><span id="L-394"><a href="#L-394"><span class="linenos"> 394</span></a>
</span><span id="L-395"><a href="#L-395"><span class="linenos"> 395</span></a><span class="sd">    Returns:</span>
</span><span id="L-396"><a href="#L-396"><span class="linenos"> 396</span></a><span class="sd">        Dew-point temperature in °F [IP] or °C [SI]</span>
</span><span id="L-397"><a href="#L-397"><span class="linenos"> 397</span></a>
</span><span id="L-398"><a href="#L-398"><span class="linenos"> 398</span></a><span class="sd">    Reference:</span>
</span><span id="L-399"><a href="#L-399"><span class="linenos"> 399</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1</span>
</span><span id="L-400"><a href="#L-400"><span class="linenos"> 400</span></a>
</span><span id="L-401"><a href="#L-401"><span class="linenos"> 401</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-402"><a href="#L-402"><span class="linenos"> 402</span></a>    <span class="k">if</span> <span class="n">RelHum</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">RelHum</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="L-403"><a href="#L-403"><span class="linenos"> 403</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Relative humidity is outside range [0, 1]&quot;</span><span class="p">)</span>
</span><span id="L-404"><a href="#L-404"><span class="linenos"> 404</span></a>
</span><span id="L-405"><a href="#L-405"><span class="linenos"> 405</span></a>    <span class="n">VapPres</span> <span class="o">=</span> <span class="n">GetVapPresFromRelHum</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">RelHum</span><span class="p">)</span>
</span><span id="L-406"><a href="#L-406"><span class="linenos"> 406</span></a>    <span class="n">TDewPoint</span> <span class="o">=</span> <span class="n">GetTDewPointFromVapPres</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">VapPres</span><span class="p">)</span>
</span><span id="L-407"><a href="#L-407"><span class="linenos"> 407</span></a>    <span class="k">return</span> <span class="n">TDewPoint</span>
</span><span id="L-408"><a href="#L-408"><span class="linenos"> 408</span></a>
</span><span id="L-409"><a href="#L-409"><span class="linenos"> 409</span></a><span class="k">def</span> <span class="nf">GetTDewPointFromTWetBulb</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">TWetBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="L-410"><a href="#L-410"><span class="linenos"> 410</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-411"><a href="#L-411"><span class="linenos"> 411</span></a><span class="sd">    Return dew-point temperature given dry-bulb temperature, wet-bulb temperature, and pressure.</span>
</span><span id="L-412"><a href="#L-412"><span class="linenos"> 412</span></a>
</span><span id="L-413"><a href="#L-413"><span class="linenos"> 413</span></a><span class="sd">    Args:</span>
</span><span id="L-414"><a href="#L-414"><span class="linenos"> 414</span></a><span class="sd">        TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="L-415"><a href="#L-415"><span class="linenos"> 415</span></a><span class="sd">        TWetBulb : Wet-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="L-416"><a href="#L-416"><span class="linenos"> 416</span></a><span class="sd">        Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</span>
</span><span id="L-417"><a href="#L-417"><span class="linenos"> 417</span></a>
</span><span id="L-418"><a href="#L-418"><span class="linenos"> 418</span></a><span class="sd">    Returns:</span>
</span><span id="L-419"><a href="#L-419"><span class="linenos"> 419</span></a><span class="sd">        Dew-point temperature in °F [IP] or °C [SI]</span>
</span><span id="L-420"><a href="#L-420"><span class="linenos"> 420</span></a>
</span><span id="L-421"><a href="#L-421"><span class="linenos"> 421</span></a><span class="sd">    Reference:</span>
</span><span id="L-422"><a href="#L-422"><span class="linenos"> 422</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1</span>
</span><span id="L-423"><a href="#L-423"><span class="linenos"> 423</span></a>
</span><span id="L-424"><a href="#L-424"><span class="linenos"> 424</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-425"><a href="#L-425"><span class="linenos"> 425</span></a>    <span class="k">if</span> <span class="n">TWetBulb</span> <span class="o">&gt;</span> <span class="n">TDryBulb</span><span class="p">:</span>
</span><span id="L-426"><a href="#L-426"><span class="linenos"> 426</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Wet bulb temperature is above dry bulb temperature&quot;</span><span class="p">)</span>
</span><span id="L-427"><a href="#L-427"><span class="linenos"> 427</span></a>
</span><span id="L-428"><a href="#L-428"><span class="linenos"> 428</span></a>    <span class="n">HumRatio</span> <span class="o">=</span> <span class="n">GetHumRatioFromTWetBulb</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">TWetBulb</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="L-429"><a href="#L-429"><span class="linenos"> 429</span></a>    <span class="n">TDewPoint</span> <span class="o">=</span> <span class="n">GetTDewPointFromHumRatio</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">HumRatio</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="L-430"><a href="#L-430"><span class="linenos"> 430</span></a>    <span class="k">return</span> <span class="n">TDewPoint</span>
</span><span id="L-431"><a href="#L-431"><span class="linenos"> 431</span></a>
</span><span id="L-432"><a href="#L-432"><span class="linenos"> 432</span></a>
</span><span id="L-433"><a href="#L-433"><span class="linenos"> 433</span></a><span class="c1">#######################################################################################################</span>
</span><span id="L-434"><a href="#L-434"><span class="linenos"> 434</span></a><span class="c1"># Conversions between dew point, or relative humidity and vapor pressure</span>
</span><span id="L-435"><a href="#L-435"><span class="linenos"> 435</span></a><span class="c1">#######################################################################################################</span>
</span><span id="L-436"><a href="#L-436"><span class="linenos"> 436</span></a>
</span><span id="L-437"><a href="#L-437"><span class="linenos"> 437</span></a><span class="k">def</span> <span class="nf">GetVapPresFromRelHum</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">RelHum</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="L-438"><a href="#L-438"><span class="linenos"> 438</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-439"><a href="#L-439"><span class="linenos"> 439</span></a><span class="sd">    Return partial pressure of water vapor as a function of relative humidity and temperature.</span>
</span><span id="L-440"><a href="#L-440"><span class="linenos"> 440</span></a>
</span><span id="L-441"><a href="#L-441"><span class="linenos"> 441</span></a><span class="sd">    Args:</span>
</span><span id="L-442"><a href="#L-442"><span class="linenos"> 442</span></a><span class="sd">        TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="L-443"><a href="#L-443"><span class="linenos"> 443</span></a><span class="sd">        RelHum : Relative humidity in range [0, 1]</span>
</span><span id="L-444"><a href="#L-444"><span class="linenos"> 444</span></a>
</span><span id="L-445"><a href="#L-445"><span class="linenos"> 445</span></a><span class="sd">    Returns:</span>
</span><span id="L-446"><a href="#L-446"><span class="linenos"> 446</span></a><span class="sd">        Partial pressure of water vapor in moist air in Psi [IP] or Pa [SI]</span>
</span><span id="L-447"><a href="#L-447"><span class="linenos"> 447</span></a>
</span><span id="L-448"><a href="#L-448"><span class="linenos"> 448</span></a><span class="sd">    Reference:</span>
</span><span id="L-449"><a href="#L-449"><span class="linenos"> 449</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn 12, 22</span>
</span><span id="L-450"><a href="#L-450"><span class="linenos"> 450</span></a>
</span><span id="L-451"><a href="#L-451"><span class="linenos"> 451</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-452"><a href="#L-452"><span class="linenos"> 452</span></a>    <span class="k">if</span> <span class="n">RelHum</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">RelHum</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="L-453"><a href="#L-453"><span class="linenos"> 453</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Relative humidity is outside range [0, 1]&quot;</span><span class="p">)</span>
</span><span id="L-454"><a href="#L-454"><span class="linenos"> 454</span></a>
</span><span id="L-455"><a href="#L-455"><span class="linenos"> 455</span></a>    <span class="n">VapPres</span> <span class="o">=</span> <span class="n">RelHum</span> <span class="o">*</span> <span class="n">GetSatVapPres</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">)</span>
</span><span id="L-456"><a href="#L-456"><span class="linenos"> 456</span></a>    <span class="k">return</span> <span class="n">VapPres</span>
</span><span id="L-457"><a href="#L-457"><span class="linenos"> 457</span></a>
</span><span id="L-458"><a href="#L-458"><span class="linenos"> 458</span></a><span class="k">def</span> <span class="nf">GetRelHumFromVapPres</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">VapPres</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="L-459"><a href="#L-459"><span class="linenos"> 459</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-460"><a href="#L-460"><span class="linenos"> 460</span></a><span class="sd">    Return relative humidity given dry-bulb temperature and vapor pressure.</span>
</span><span id="L-461"><a href="#L-461"><span class="linenos"> 461</span></a>
</span><span id="L-462"><a href="#L-462"><span class="linenos"> 462</span></a><span class="sd">    Args:</span>
</span><span id="L-463"><a href="#L-463"><span class="linenos"> 463</span></a><span class="sd">        TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="L-464"><a href="#L-464"><span class="linenos"> 464</span></a><span class="sd">        VapPres: Partial pressure of water vapor in moist air in Psi [IP] or Pa [SI]</span>
</span><span id="L-465"><a href="#L-465"><span class="linenos"> 465</span></a>
</span><span id="L-466"><a href="#L-466"><span class="linenos"> 466</span></a><span class="sd">    Returns:</span>
</span><span id="L-467"><a href="#L-467"><span class="linenos"> 467</span></a><span class="sd">        Relative humidity in range [0, 1]</span>
</span><span id="L-468"><a href="#L-468"><span class="linenos"> 468</span></a>
</span><span id="L-469"><a href="#L-469"><span class="linenos"> 469</span></a><span class="sd">    Reference:</span>
</span><span id="L-470"><a href="#L-470"><span class="linenos"> 470</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn 12, 22</span>
</span><span id="L-471"><a href="#L-471"><span class="linenos"> 471</span></a>
</span><span id="L-472"><a href="#L-472"><span class="linenos"> 472</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-473"><a href="#L-473"><span class="linenos"> 473</span></a>    <span class="k">if</span> <span class="n">VapPres</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-474"><a href="#L-474"><span class="linenos"> 474</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Partial pressure of water vapor in moist air cannot be negative&quot;</span><span class="p">)</span>
</span><span id="L-475"><a href="#L-475"><span class="linenos"> 475</span></a>
</span><span id="L-476"><a href="#L-476"><span class="linenos"> 476</span></a>    <span class="n">RelHum</span> <span class="o">=</span> <span class="n">VapPres</span> <span class="o">/</span> <span class="n">GetSatVapPres</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">)</span>
</span><span id="L-477"><a href="#L-477"><span class="linenos"> 477</span></a>    <span class="k">return</span> <span class="n">RelHum</span>
</span><span id="L-478"><a href="#L-478"><span class="linenos"> 478</span></a>
</span><span id="L-479"><a href="#L-479"><span class="linenos"> 479</span></a><span class="k">def</span> <span class="nf">dLnPws_</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="L-480"><a href="#L-480"><span class="linenos"> 480</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-481"><a href="#L-481"><span class="linenos"> 481</span></a><span class="sd">    Helper function returning the derivative of the natural log of the saturation vapor pressure </span>
</span><span id="L-482"><a href="#L-482"><span class="linenos"> 482</span></a><span class="sd">    as a function of dry-bulb temperature.</span>
</span><span id="L-483"><a href="#L-483"><span class="linenos"> 483</span></a>
</span><span id="L-484"><a href="#L-484"><span class="linenos"> 484</span></a><span class="sd">    Args:</span>
</span><span id="L-485"><a href="#L-485"><span class="linenos"> 485</span></a><span class="sd">        TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="L-486"><a href="#L-486"><span class="linenos"> 486</span></a>
</span><span id="L-487"><a href="#L-487"><span class="linenos"> 487</span></a><span class="sd">    Returns:</span>
</span><span id="L-488"><a href="#L-488"><span class="linenos"> 488</span></a><span class="sd">        Derivative of natural log of vapor pressure of saturated air in Psi [IP] or Pa [SI]</span>
</span><span id="L-489"><a href="#L-489"><span class="linenos"> 489</span></a>
</span><span id="L-490"><a href="#L-490"><span class="linenos"> 490</span></a><span class="sd">    Reference:</span>
</span><span id="L-491"><a href="#L-491"><span class="linenos"> 491</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1  eqn 5 &amp; 6</span>
</span><span id="L-492"><a href="#L-492"><span class="linenos"> 492</span></a>
</span><span id="L-493"><a href="#L-493"><span class="linenos"> 493</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-494"><a href="#L-494"><span class="linenos"> 494</span></a>    <span class="k">if</span> <span class="n">isIP</span><span class="p">():</span>
</span><span id="L-495"><a href="#L-495"><span class="linenos"> 495</span></a>        <span class="n">T</span> <span class="o">=</span> <span class="n">GetTRankineFromTFahrenheit</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">)</span>
</span><span id="L-496"><a href="#L-496"><span class="linenos"> 496</span></a>        <span class="k">if</span> <span class="n">TDryBulb</span> <span class="o">&lt;=</span> <span class="n">TRIPLE_POINT_WATER_IP</span><span class="p">:</span>
</span><span id="L-497"><a href="#L-497"><span class="linenos"> 497</span></a>            <span class="n">dLnPws</span> <span class="o">=</span> <span class="mf">1.0214165E+04</span> <span class="o">/</span> <span class="n">math</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="mf">5.3765794E-03</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="mf">1.9202377E-07</span> <span class="o">*</span> <span class="n">T</span> \
</span><span id="L-498"><a href="#L-498"><span class="linenos"> 498</span></a>                  <span class="o">+</span> <span class="mi">3</span> <span class="o">*</span> <span class="mf">3.5575832E-10</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="mi">4</span> <span class="o">*</span> <span class="mf">9.0344688E-14</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="o">+</span> <span class="mf">4.1635019</span> <span class="o">/</span> <span class="n">T</span>
</span><span id="L-499"><a href="#L-499"><span class="linenos"> 499</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-500"><a href="#L-500"><span class="linenos"> 500</span></a>            <span class="n">dLnPws</span> <span class="o">=</span> <span class="mf">1.0440397E+04</span> <span class="o">/</span> <span class="n">math</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="mf">2.7022355E-02</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="mf">1.2890360E-05</span> <span class="o">*</span> <span class="n">T</span> \
</span><span id="L-501"><a href="#L-501"><span class="linenos"> 501</span></a>                  <span class="o">-</span> <span class="mi">3</span> <span class="o">*</span> <span class="mf">2.4780681E-09</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="mf">6.5459673</span> <span class="o">/</span> <span class="n">T</span>
</span><span id="L-502"><a href="#L-502"><span class="linenos"> 502</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="L-503"><a href="#L-503"><span class="linenos"> 503</span></a>        <span class="n">T</span> <span class="o">=</span> <span class="n">GetTKelvinFromTCelsius</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">)</span>
</span><span id="L-504"><a href="#L-504"><span class="linenos"> 504</span></a>        <span class="k">if</span> <span class="n">TDryBulb</span> <span class="o">&lt;=</span> <span class="n">TRIPLE_POINT_WATER_SI</span><span class="p">:</span>
</span><span id="L-505"><a href="#L-505"><span class="linenos"> 505</span></a>            <span class="n">dLnPws</span> <span class="o">=</span> <span class="mf">5.6745359E+03</span> <span class="o">/</span> <span class="n">math</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="mf">9.677843E-03</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="mf">6.2215701E-07</span> <span class="o">*</span> <span class="n">T</span> \
</span><span id="L-506"><a href="#L-506"><span class="linenos"> 506</span></a>                  <span class="o">+</span> <span class="mi">3</span> <span class="o">*</span> <span class="mf">2.0747825E-09</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="mi">4</span> <span class="o">*</span> <span class="mf">9.484024E-13</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="o">+</span> <span class="mf">4.1635019</span> <span class="o">/</span> <span class="n">T</span>
</span><span id="L-507"><a href="#L-507"><span class="linenos"> 507</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-508"><a href="#L-508"><span class="linenos"> 508</span></a>            <span class="n">dLnPws</span> <span class="o">=</span> <span class="mf">5.8002206E+03</span> <span class="o">/</span> <span class="n">math</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="mf">4.8640239E-02</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="mf">4.1764768E-05</span> <span class="o">*</span> <span class="n">T</span> \
</span><span id="L-509"><a href="#L-509"><span class="linenos"> 509</span></a>                  <span class="o">-</span> <span class="mi">3</span> <span class="o">*</span> <span class="mf">1.4452093E-08</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="mf">6.5459673</span> <span class="o">/</span> <span class="n">T</span>
</span><span id="L-510"><a href="#L-510"><span class="linenos"> 510</span></a>
</span><span id="L-511"><a href="#L-511"><span class="linenos"> 511</span></a>    <span class="k">return</span> <span class="n">dLnPws</span>
</span><span id="L-512"><a href="#L-512"><span class="linenos"> 512</span></a>
</span><span id="L-513"><a href="#L-513"><span class="linenos"> 513</span></a><span class="k">def</span> <span class="nf">GetTDewPointFromVapPres</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">VapPres</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="L-514"><a href="#L-514"><span class="linenos"> 514</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-515"><a href="#L-515"><span class="linenos"> 515</span></a><span class="sd">    Return dew-point temperature given dry-bulb temperature and vapor pressure.</span>
</span><span id="L-516"><a href="#L-516"><span class="linenos"> 516</span></a>
</span><span id="L-517"><a href="#L-517"><span class="linenos"> 517</span></a><span class="sd">    Args:</span>
</span><span id="L-518"><a href="#L-518"><span class="linenos"> 518</span></a><span class="sd">        TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="L-519"><a href="#L-519"><span class="linenos"> 519</span></a><span class="sd">        VapPres: Partial pressure of water vapor in moist air in Psi [IP] or Pa [SI]</span>
</span><span id="L-520"><a href="#L-520"><span class="linenos"> 520</span></a>
</span><span id="L-521"><a href="#L-521"><span class="linenos"> 521</span></a><span class="sd">    Returns:</span>
</span><span id="L-522"><a href="#L-522"><span class="linenos"> 522</span></a><span class="sd">        Dew-point temperature in °F [IP] or °C [SI]</span>
</span><span id="L-523"><a href="#L-523"><span class="linenos"> 523</span></a>
</span><span id="L-524"><a href="#L-524"><span class="linenos"> 524</span></a><span class="sd">    Reference:</span>
</span><span id="L-525"><a href="#L-525"><span class="linenos"> 525</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn. 5 and 6</span>
</span><span id="L-526"><a href="#L-526"><span class="linenos"> 526</span></a>
</span><span id="L-527"><a href="#L-527"><span class="linenos"> 527</span></a><span class="sd">    Notes:</span>
</span><span id="L-528"><a href="#L-528"><span class="linenos"> 528</span></a><span class="sd">        The dew point temperature is solved by inverting the equation giving water vapor pressure</span>
</span><span id="L-529"><a href="#L-529"><span class="linenos"> 529</span></a><span class="sd">        at saturation from temperature rather than using the regressions provided</span>
</span><span id="L-530"><a href="#L-530"><span class="linenos"> 530</span></a><span class="sd">        by ASHRAE (eqn. 37 and 38) which are much less accurate and have a</span>
</span><span id="L-531"><a href="#L-531"><span class="linenos"> 531</span></a><span class="sd">        narrower range of validity.</span>
</span><span id="L-532"><a href="#L-532"><span class="linenos"> 532</span></a><span class="sd">        The Newton-Raphson (NR) method is used on the logarithm of water vapour</span>
</span><span id="L-533"><a href="#L-533"><span class="linenos"> 533</span></a><span class="sd">        pressure as a function of temperature, which is a very smooth function</span>
</span><span id="L-534"><a href="#L-534"><span class="linenos"> 534</span></a><span class="sd">        Convergence is usually achieved in 3 to 5 iterations. </span>
</span><span id="L-535"><a href="#L-535"><span class="linenos"> 535</span></a><span class="sd">        TDryBulb is not really needed here, just used for convenience.</span>
</span><span id="L-536"><a href="#L-536"><span class="linenos"> 536</span></a>
</span><span id="L-537"><a href="#L-537"><span class="linenos"> 537</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-538"><a href="#L-538"><span class="linenos"> 538</span></a>    <span class="k">if</span> <span class="n">isIP</span><span class="p">():</span>
</span><span id="L-539"><a href="#L-539"><span class="linenos"> 539</span></a>        <span class="n">BOUNDS</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">148</span><span class="p">,</span> <span class="mi">392</span><span class="p">]</span>
</span><span id="L-540"><a href="#L-540"><span class="linenos"> 540</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="L-541"><a href="#L-541"><span class="linenos"> 541</span></a>        <span class="n">BOUNDS</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">]</span>
</span><span id="L-542"><a href="#L-542"><span class="linenos"> 542</span></a>
</span><span id="L-543"><a href="#L-543"><span class="linenos"> 543</span></a>    <span class="c1"># Validity check -- bounds outside which a solution cannot be found</span>
</span><span id="L-544"><a href="#L-544"><span class="linenos"> 544</span></a>    <span class="k">if</span> <span class="n">VapPres</span> <span class="o">&lt;</span> <span class="n">GetSatVapPres</span><span class="p">(</span><span class="n">BOUNDS</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="ow">or</span> <span class="n">VapPres</span> <span class="o">&gt;</span> <span class="n">GetSatVapPres</span><span class="p">(</span><span class="n">BOUNDS</span><span class="p">[</span><span class="mi">1</span><span class="p">]):</span>
</span><span id="L-545"><a href="#L-545"><span class="linenos"> 545</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Partial pressure of water vapor is outside range of validity of equations&quot;</span><span class="p">)</span>
</span><span id="L-546"><a href="#L-546"><span class="linenos"> 546</span></a>
</span><span id="L-547"><a href="#L-547"><span class="linenos"> 547</span></a>    <span class="c1"># We use NR to approximate the solution.</span>
</span><span id="L-548"><a href="#L-548"><span class="linenos"> 548</span></a>    <span class="c1"># First guess</span>
</span><span id="L-549"><a href="#L-549"><span class="linenos"> 549</span></a>    <span class="n">TDewPoint</span> <span class="o">=</span> <span class="n">TDryBulb</span>        <span class="c1"># Calculated value of dew point temperatures, solved for iteratively</span>
</span><span id="L-550"><a href="#L-550"><span class="linenos"> 550</span></a>    <span class="n">lnVP</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">VapPres</span><span class="p">)</span>    <span class="c1"># Partial pressure of water vapor in moist air</span>
</span><span id="L-551"><a href="#L-551"><span class="linenos"> 551</span></a>
</span><span id="L-552"><a href="#L-552"><span class="linenos"> 552</span></a>    <span class="n">index</span> <span class="o">=</span> <span class="mi">1</span>
</span><span id="L-553"><a href="#L-553"><span class="linenos"> 553</span></a>
</span><span id="L-554"><a href="#L-554"><span class="linenos"> 554</span></a>    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
</span><span id="L-555"><a href="#L-555"><span class="linenos"> 555</span></a>        <span class="n">TDewPoint_iter</span> <span class="o">=</span> <span class="n">TDewPoint</span>   <span class="c1"># TDewPoint used in NR calculation</span>
</span><span id="L-556"><a href="#L-556"><span class="linenos"> 556</span></a>        <span class="n">lnVP_iter</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">GetSatVapPres</span><span class="p">(</span><span class="n">TDewPoint_iter</span><span class="p">))</span>
</span><span id="L-557"><a href="#L-557"><span class="linenos"> 557</span></a>
</span><span id="L-558"><a href="#L-558"><span class="linenos"> 558</span></a>        <span class="c1"># Derivative of function, calculated analytically</span>
</span><span id="L-559"><a href="#L-559"><span class="linenos"> 559</span></a>        <span class="n">d_lnVP</span> <span class="o">=</span> <span class="n">dLnPws_</span><span class="p">(</span><span class="n">TDewPoint_iter</span><span class="p">)</span>
</span><span id="L-560"><a href="#L-560"><span class="linenos"> 560</span></a>
</span><span id="L-561"><a href="#L-561"><span class="linenos"> 561</span></a>        <span class="c1"># New estimate, bounded by the search domain defined above</span>
</span><span id="L-562"><a href="#L-562"><span class="linenos"> 562</span></a>        <span class="n">TDewPoint</span> <span class="o">=</span> <span class="n">TDewPoint_iter</span> <span class="o">-</span> <span class="p">(</span><span class="n">lnVP_iter</span> <span class="o">-</span> <span class="n">lnVP</span><span class="p">)</span> <span class="o">/</span> <span class="n">d_lnVP</span>
</span><span id="L-563"><a href="#L-563"><span class="linenos"> 563</span></a>        <span class="n">TDewPoint</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">TDewPoint</span><span class="p">,</span> <span class="n">BOUNDS</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</span><span id="L-564"><a href="#L-564"><span class="linenos"> 564</span></a>        <span class="n">TDewPoint</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">TDewPoint</span><span class="p">,</span> <span class="n">BOUNDS</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span><span id="L-565"><a href="#L-565"><span class="linenos"> 565</span></a>
</span><span id="L-566"><a href="#L-566"><span class="linenos"> 566</span></a>        <span class="k">if</span> <span class="p">((</span><span class="n">math</span><span class="o">.</span><span class="n">fabs</span><span class="p">(</span><span class="n">TDewPoint</span> <span class="o">-</span> <span class="n">TDewPoint_iter</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">PSYCHROLIB_TOLERANCE</span><span class="p">)):</span>
</span><span id="L-567"><a href="#L-567"><span class="linenos"> 567</span></a>            <span class="k">break</span>
</span><span id="L-568"><a href="#L-568"><span class="linenos"> 568</span></a>
</span><span id="L-569"><a href="#L-569"><span class="linenos"> 569</span></a>        <span class="k">if</span> <span class="p">(</span><span class="n">index</span> <span class="o">&gt;</span> <span class="n">MAX_ITER_COUNT</span><span class="p">):</span>
</span><span id="L-570"><a href="#L-570"><span class="linenos"> 570</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Convergence not reached in GetTDewPointFromVapPres. Stopping.&quot;</span><span class="p">)</span>
</span><span id="L-571"><a href="#L-571"><span class="linenos"> 571</span></a>
</span><span id="L-572"><a href="#L-572"><span class="linenos"> 572</span></a>        <span class="n">index</span> <span class="o">=</span> <span class="n">index</span> <span class="o">+</span> <span class="mi">1</span>
</span><span id="L-573"><a href="#L-573"><span class="linenos"> 573</span></a>
</span><span id="L-574"><a href="#L-574"><span class="linenos"> 574</span></a>    <span class="n">TDewPoint</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">TDewPoint</span><span class="p">,</span> <span class="n">TDryBulb</span><span class="p">)</span>
</span><span id="L-575"><a href="#L-575"><span class="linenos"> 575</span></a>    <span class="k">return</span> <span class="n">TDewPoint</span>
</span><span id="L-576"><a href="#L-576"><span class="linenos"> 576</span></a>
</span><span id="L-577"><a href="#L-577"><span class="linenos"> 577</span></a><span class="k">def</span> <span class="nf">GetVapPresFromTDewPoint</span><span class="p">(</span><span class="n">TDewPoint</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="L-578"><a href="#L-578"><span class="linenos"> 578</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-579"><a href="#L-579"><span class="linenos"> 579</span></a><span class="sd">    Return vapor pressure given dew point temperature.</span>
</span><span id="L-580"><a href="#L-580"><span class="linenos"> 580</span></a>
</span><span id="L-581"><a href="#L-581"><span class="linenos"> 581</span></a><span class="sd">    Args:</span>
</span><span id="L-582"><a href="#L-582"><span class="linenos"> 582</span></a><span class="sd">        TDewPoint : Dew-point temperature in °F [IP] or °C [SI]</span>
</span><span id="L-583"><a href="#L-583"><span class="linenos"> 583</span></a>
</span><span id="L-584"><a href="#L-584"><span class="linenos"> 584</span></a><span class="sd">    Returns:</span>
</span><span id="L-585"><a href="#L-585"><span class="linenos"> 585</span></a><span class="sd">        Partial pressure of water vapor in moist air in Psi [IP] or Pa [SI]</span>
</span><span id="L-586"><a href="#L-586"><span class="linenos"> 586</span></a>
</span><span id="L-587"><a href="#L-587"><span class="linenos"> 587</span></a><span class="sd">    Reference:</span>
</span><span id="L-588"><a href="#L-588"><span class="linenos"> 588</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn 36</span>
</span><span id="L-589"><a href="#L-589"><span class="linenos"> 589</span></a>
</span><span id="L-590"><a href="#L-590"><span class="linenos"> 590</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-591"><a href="#L-591"><span class="linenos"> 591</span></a>    <span class="n">VapPres</span> <span class="o">=</span> <span class="n">GetSatVapPres</span><span class="p">(</span><span class="n">TDewPoint</span><span class="p">)</span>
</span><span id="L-592"><a href="#L-592"><span class="linenos"> 592</span></a>    <span class="k">return</span> <span class="n">VapPres</span>
</span><span id="L-593"><a href="#L-593"><span class="linenos"> 593</span></a>
</span><span id="L-594"><a href="#L-594"><span class="linenos"> 594</span></a>
</span><span id="L-595"><a href="#L-595"><span class="linenos"> 595</span></a><span class="c1">#######################################################################################################</span>
</span><span id="L-596"><a href="#L-596"><span class="linenos"> 596</span></a><span class="c1"># Conversions from wet-bulb temperature, dew-point temperature, or relative humidity to humidity ratio</span>
</span><span id="L-597"><a href="#L-597"><span class="linenos"> 597</span></a><span class="c1">#######################################################################################################</span>
</span><span id="L-598"><a href="#L-598"><span class="linenos"> 598</span></a>
</span><span id="L-599"><a href="#L-599"><span class="linenos"> 599</span></a><span class="k">def</span> <span class="nf">GetTWetBulbFromHumRatio</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">HumRatio</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="L-600"><a href="#L-600"><span class="linenos"> 600</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-601"><a href="#L-601"><span class="linenos"> 601</span></a><span class="sd">    Return wet-bulb temperature given dry-bulb temperature, humidity ratio, and pressure.</span>
</span><span id="L-602"><a href="#L-602"><span class="linenos"> 602</span></a>
</span><span id="L-603"><a href="#L-603"><span class="linenos"> 603</span></a><span class="sd">    Args:</span>
</span><span id="L-604"><a href="#L-604"><span class="linenos"> 604</span></a><span class="sd">        TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="L-605"><a href="#L-605"><span class="linenos"> 605</span></a><span class="sd">        HumRatio : Humidity ratio in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]</span>
</span><span id="L-606"><a href="#L-606"><span class="linenos"> 606</span></a><span class="sd">        Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</span>
</span><span id="L-607"><a href="#L-607"><span class="linenos"> 607</span></a>
</span><span id="L-608"><a href="#L-608"><span class="linenos"> 608</span></a><span class="sd">    Returns:</span>
</span><span id="L-609"><a href="#L-609"><span class="linenos"> 609</span></a><span class="sd">        Wet-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="L-610"><a href="#L-610"><span class="linenos"> 610</span></a>
</span><span id="L-611"><a href="#L-611"><span class="linenos"> 611</span></a><span class="sd">    Reference:</span>
</span><span id="L-612"><a href="#L-612"><span class="linenos"> 612</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn 33 and 35 solved for Tstar</span>
</span><span id="L-613"><a href="#L-613"><span class="linenos"> 613</span></a>
</span><span id="L-614"><a href="#L-614"><span class="linenos"> 614</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-615"><a href="#L-615"><span class="linenos"> 615</span></a>    <span class="k">if</span> <span class="n">HumRatio</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-616"><a href="#L-616"><span class="linenos"> 616</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Humidity ratio cannot be negative&quot;</span><span class="p">)</span>
</span><span id="L-617"><a href="#L-617"><span class="linenos"> 617</span></a>    <span class="n">BoundedHumRatio</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">HumRatio</span><span class="p">,</span> <span class="n">MIN_HUM_RATIO</span><span class="p">)</span>
</span><span id="L-618"><a href="#L-618"><span class="linenos"> 618</span></a>
</span><span id="L-619"><a href="#L-619"><span class="linenos"> 619</span></a>    <span class="n">TDewPoint</span> <span class="o">=</span> <span class="n">GetTDewPointFromHumRatio</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">BoundedHumRatio</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="L-620"><a href="#L-620"><span class="linenos"> 620</span></a>
</span><span id="L-621"><a href="#L-621"><span class="linenos"> 621</span></a>    <span class="c1"># Initial guesses</span>
</span><span id="L-622"><a href="#L-622"><span class="linenos"> 622</span></a>    <span class="n">TWetBulbSup</span> <span class="o">=</span> <span class="n">TDryBulb</span>
</span><span id="L-623"><a href="#L-623"><span class="linenos"> 623</span></a>    <span class="n">TWetBulbInf</span> <span class="o">=</span> <span class="n">TDewPoint</span>
</span><span id="L-624"><a href="#L-624"><span class="linenos"> 624</span></a>    <span class="n">TWetBulb</span> <span class="o">=</span> <span class="p">(</span><span class="n">TWetBulbInf</span> <span class="o">+</span> <span class="n">TWetBulbSup</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span>
</span><span id="L-625"><a href="#L-625"><span class="linenos"> 625</span></a>
</span><span id="L-626"><a href="#L-626"><span class="linenos"> 626</span></a>    <span class="n">index</span> <span class="o">=</span> <span class="mi">1</span>
</span><span id="L-627"><a href="#L-627"><span class="linenos"> 627</span></a>    <span class="c1"># Bisection loop</span>
</span><span id="L-628"><a href="#L-628"><span class="linenos"> 628</span></a>    <span class="k">while</span> <span class="p">((</span><span class="n">TWetBulbSup</span> <span class="o">-</span> <span class="n">TWetBulbInf</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">PSYCHROLIB_TOLERANCE</span><span class="p">):</span>
</span><span id="L-629"><a href="#L-629"><span class="linenos"> 629</span></a>
</span><span id="L-630"><a href="#L-630"><span class="linenos"> 630</span></a>        <span class="c1"># Compute humidity ratio at temperature Tstar</span>
</span><span id="L-631"><a href="#L-631"><span class="linenos"> 631</span></a>        <span class="n">Wstar</span> <span class="o">=</span> <span class="n">GetHumRatioFromTWetBulb</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">TWetBulb</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="L-632"><a href="#L-632"><span class="linenos"> 632</span></a>
</span><span id="L-633"><a href="#L-633"><span class="linenos"> 633</span></a>        <span class="c1"># Get new bounds</span>
</span><span id="L-634"><a href="#L-634"><span class="linenos"> 634</span></a>        <span class="k">if</span> <span class="n">Wstar</span> <span class="o">&gt;</span> <span class="n">BoundedHumRatio</span><span class="p">:</span>
</span><span id="L-635"><a href="#L-635"><span class="linenos"> 635</span></a>            <span class="n">TWetBulbSup</span> <span class="o">=</span> <span class="n">TWetBulb</span>
</span><span id="L-636"><a href="#L-636"><span class="linenos"> 636</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-637"><a href="#L-637"><span class="linenos"> 637</span></a>            <span class="n">TWetBulbInf</span> <span class="o">=</span> <span class="n">TWetBulb</span>
</span><span id="L-638"><a href="#L-638"><span class="linenos"> 638</span></a>
</span><span id="L-639"><a href="#L-639"><span class="linenos"> 639</span></a>        <span class="c1"># New guess of wet bulb temperature</span>
</span><span id="L-640"><a href="#L-640"><span class="linenos"> 640</span></a>        <span class="n">TWetBulb</span> <span class="o">=</span> <span class="p">(</span><span class="n">TWetBulbSup</span> <span class="o">+</span> <span class="n">TWetBulbInf</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span>
</span><span id="L-641"><a href="#L-641"><span class="linenos"> 641</span></a>
</span><span id="L-642"><a href="#L-642"><span class="linenos"> 642</span></a>        <span class="k">if</span> <span class="p">(</span><span class="n">index</span> <span class="o">&gt;=</span> <span class="n">MAX_ITER_COUNT</span><span class="p">):</span>
</span><span id="L-643"><a href="#L-643"><span class="linenos"> 643</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Convergence not reached in GetTWetBulbFromHumRatio. Stopping.&quot;</span><span class="p">)</span>
</span><span id="L-644"><a href="#L-644"><span class="linenos"> 644</span></a>
</span><span id="L-645"><a href="#L-645"><span class="linenos"> 645</span></a>        <span class="n">index</span> <span class="o">=</span> <span class="n">index</span> <span class="o">+</span> <span class="mi">1</span>
</span><span id="L-646"><a href="#L-646"><span class="linenos"> 646</span></a>    <span class="k">return</span> <span class="n">TWetBulb</span>
</span><span id="L-647"><a href="#L-647"><span class="linenos"> 647</span></a>
</span><span id="L-648"><a href="#L-648"><span class="linenos"> 648</span></a><span class="k">def</span> <span class="nf">GetHumRatioFromTWetBulb</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">TWetBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="L-649"><a href="#L-649"><span class="linenos"> 649</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-650"><a href="#L-650"><span class="linenos"> 650</span></a><span class="sd">    Return humidity ratio given dry-bulb temperature, wet-bulb temperature, and pressure.</span>
</span><span id="L-651"><a href="#L-651"><span class="linenos"> 651</span></a>
</span><span id="L-652"><a href="#L-652"><span class="linenos"> 652</span></a><span class="sd">    Args:</span>
</span><span id="L-653"><a href="#L-653"><span class="linenos"> 653</span></a><span class="sd">        TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="L-654"><a href="#L-654"><span class="linenos"> 654</span></a><span class="sd">        TWetBulb : Wet-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="L-655"><a href="#L-655"><span class="linenos"> 655</span></a><span class="sd">        Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</span>
</span><span id="L-656"><a href="#L-656"><span class="linenos"> 656</span></a>
</span><span id="L-657"><a href="#L-657"><span class="linenos"> 657</span></a><span class="sd">    Returns:</span>
</span><span id="L-658"><a href="#L-658"><span class="linenos"> 658</span></a><span class="sd">        Humidity ratio in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]</span>
</span><span id="L-659"><a href="#L-659"><span class="linenos"> 659</span></a>
</span><span id="L-660"><a href="#L-660"><span class="linenos"> 660</span></a><span class="sd">    Reference:</span>
</span><span id="L-661"><a href="#L-661"><span class="linenos"> 661</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn 33 and 35</span>
</span><span id="L-662"><a href="#L-662"><span class="linenos"> 662</span></a>
</span><span id="L-663"><a href="#L-663"><span class="linenos"> 663</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-664"><a href="#L-664"><span class="linenos"> 664</span></a>    <span class="k">if</span> <span class="n">TWetBulb</span> <span class="o">&gt;</span> <span class="n">TDryBulb</span><span class="p">:</span>
</span><span id="L-665"><a href="#L-665"><span class="linenos"> 665</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Wet bulb temperature is above dry bulb temperature&quot;</span><span class="p">)</span>
</span><span id="L-666"><a href="#L-666"><span class="linenos"> 666</span></a>
</span><span id="L-667"><a href="#L-667"><span class="linenos"> 667</span></a>    <span class="n">Wsstar</span> <span class="o">=</span> <span class="n">GetSatHumRatio</span><span class="p">(</span><span class="n">TWetBulb</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="L-668"><a href="#L-668"><span class="linenos"> 668</span></a>
</span><span id="L-669"><a href="#L-669"><span class="linenos"> 669</span></a>    <span class="k">if</span> <span class="n">isIP</span><span class="p">():</span>
</span><span id="L-670"><a href="#L-670"><span class="linenos"> 670</span></a>       <span class="k">if</span> <span class="n">TWetBulb</span> <span class="o">&gt;=</span> <span class="n">FREEZING_POINT_WATER_IP</span><span class="p">:</span>
</span><span id="L-671"><a href="#L-671"><span class="linenos"> 671</span></a>           <span class="n">HumRatio</span> <span class="o">=</span> <span class="p">((</span><span class="mi">1093</span> <span class="o">-</span> <span class="mf">0.556</span> <span class="o">*</span> <span class="n">TWetBulb</span><span class="p">)</span> <span class="o">*</span> <span class="n">Wsstar</span> <span class="o">-</span> <span class="mf">0.240</span> <span class="o">*</span> <span class="p">(</span><span class="n">TDryBulb</span> <span class="o">-</span> <span class="n">TWetBulb</span><span class="p">))</span> \
</span><span id="L-672"><a href="#L-672"><span class="linenos"> 672</span></a>                    <span class="o">/</span> <span class="p">(</span><span class="mi">1093</span> <span class="o">+</span> <span class="mf">0.444</span> <span class="o">*</span> <span class="n">TDryBulb</span> <span class="o">-</span> <span class="n">TWetBulb</span><span class="p">)</span>
</span><span id="L-673"><a href="#L-673"><span class="linenos"> 673</span></a>       <span class="k">else</span><span class="p">:</span>
</span><span id="L-674"><a href="#L-674"><span class="linenos"> 674</span></a>           <span class="n">HumRatio</span> <span class="o">=</span> <span class="p">((</span><span class="mi">1220</span> <span class="o">-</span> <span class="mf">0.04</span> <span class="o">*</span> <span class="n">TWetBulb</span><span class="p">)</span> <span class="o">*</span> <span class="n">Wsstar</span> <span class="o">-</span> <span class="mf">0.240</span> <span class="o">*</span> <span class="p">(</span><span class="n">TDryBulb</span> <span class="o">-</span> <span class="n">TWetBulb</span><span class="p">))</span> \
</span><span id="L-675"><a href="#L-675"><span class="linenos"> 675</span></a>                    <span class="o">/</span> <span class="p">(</span><span class="mi">1220</span> <span class="o">+</span> <span class="mf">0.444</span> <span class="o">*</span> <span class="n">TDryBulb</span> <span class="o">-</span> <span class="mf">0.48</span><span class="o">*</span><span class="n">TWetBulb</span><span class="p">)</span>
</span><span id="L-676"><a href="#L-676"><span class="linenos"> 676</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="L-677"><a href="#L-677"><span class="linenos"> 677</span></a>       <span class="k">if</span> <span class="n">TWetBulb</span> <span class="o">&gt;=</span> <span class="n">FREEZING_POINT_WATER_SI</span><span class="p">:</span>
</span><span id="L-678"><a href="#L-678"><span class="linenos"> 678</span></a>           <span class="n">HumRatio</span> <span class="o">=</span> <span class="p">((</span><span class="mf">2501.</span> <span class="o">-</span> <span class="mf">2.326</span> <span class="o">*</span> <span class="n">TWetBulb</span><span class="p">)</span> <span class="o">*</span> <span class="n">Wsstar</span> <span class="o">-</span> <span class="mf">1.006</span> <span class="o">*</span> <span class="p">(</span><span class="n">TDryBulb</span> <span class="o">-</span> <span class="n">TWetBulb</span><span class="p">))</span> \
</span><span id="L-679"><a href="#L-679"><span class="linenos"> 679</span></a>                    <span class="o">/</span> <span class="p">(</span><span class="mf">2501.</span> <span class="o">+</span> <span class="mf">1.86</span> <span class="o">*</span> <span class="n">TDryBulb</span> <span class="o">-</span> <span class="mf">4.186</span> <span class="o">*</span> <span class="n">TWetBulb</span><span class="p">)</span>
</span><span id="L-680"><a href="#L-680"><span class="linenos"> 680</span></a>       <span class="k">else</span><span class="p">:</span>
</span><span id="L-681"><a href="#L-681"><span class="linenos"> 681</span></a>           <span class="n">HumRatio</span> <span class="o">=</span> <span class="p">((</span><span class="mf">2830.</span> <span class="o">-</span> <span class="mf">0.24</span> <span class="o">*</span> <span class="n">TWetBulb</span><span class="p">)</span> <span class="o">*</span> <span class="n">Wsstar</span> <span class="o">-</span> <span class="mf">1.006</span> <span class="o">*</span> <span class="p">(</span><span class="n">TDryBulb</span> <span class="o">-</span> <span class="n">TWetBulb</span><span class="p">))</span> \
</span><span id="L-682"><a href="#L-682"><span class="linenos"> 682</span></a>                    <span class="o">/</span> <span class="p">(</span><span class="mf">2830.</span> <span class="o">+</span> <span class="mf">1.86</span> <span class="o">*</span> <span class="n">TDryBulb</span> <span class="o">-</span> <span class="mf">2.1</span> <span class="o">*</span> <span class="n">TWetBulb</span><span class="p">)</span>
</span><span id="L-683"><a href="#L-683"><span class="linenos"> 683</span></a>    <span class="c1"># Validity check.</span>
</span><span id="L-684"><a href="#L-684"><span class="linenos"> 684</span></a>    <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="n">HumRatio</span><span class="p">,</span> <span class="n">MIN_HUM_RATIO</span><span class="p">)</span>
</span><span id="L-685"><a href="#L-685"><span class="linenos"> 685</span></a>
</span><span id="L-686"><a href="#L-686"><span class="linenos"> 686</span></a><span class="k">def</span> <span class="nf">GetHumRatioFromRelHum</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">RelHum</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="L-687"><a href="#L-687"><span class="linenos"> 687</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-688"><a href="#L-688"><span class="linenos"> 688</span></a><span class="sd">    Return humidity ratio given dry-bulb temperature, relative humidity, and pressure.</span>
</span><span id="L-689"><a href="#L-689"><span class="linenos"> 689</span></a>
</span><span id="L-690"><a href="#L-690"><span class="linenos"> 690</span></a><span class="sd">    Args:</span>
</span><span id="L-691"><a href="#L-691"><span class="linenos"> 691</span></a><span class="sd">        TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="L-692"><a href="#L-692"><span class="linenos"> 692</span></a><span class="sd">        RelHum : Relative humidity in range [0, 1]</span>
</span><span id="L-693"><a href="#L-693"><span class="linenos"> 693</span></a><span class="sd">        Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</span>
</span><span id="L-694"><a href="#L-694"><span class="linenos"> 694</span></a>
</span><span id="L-695"><a href="#L-695"><span class="linenos"> 695</span></a><span class="sd">    Returns:</span>
</span><span id="L-696"><a href="#L-696"><span class="linenos"> 696</span></a><span class="sd">        Humidity ratio in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]</span>
</span><span id="L-697"><a href="#L-697"><span class="linenos"> 697</span></a>
</span><span id="L-698"><a href="#L-698"><span class="linenos"> 698</span></a><span class="sd">    Reference:</span>
</span><span id="L-699"><a href="#L-699"><span class="linenos"> 699</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1</span>
</span><span id="L-700"><a href="#L-700"><span class="linenos"> 700</span></a>
</span><span id="L-701"><a href="#L-701"><span class="linenos"> 701</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-702"><a href="#L-702"><span class="linenos"> 702</span></a>    <span class="k">if</span> <span class="n">RelHum</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">RelHum</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="L-703"><a href="#L-703"><span class="linenos"> 703</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Relative humidity is outside range [0, 1]&quot;</span><span class="p">)</span>
</span><span id="L-704"><a href="#L-704"><span class="linenos"> 704</span></a>
</span><span id="L-705"><a href="#L-705"><span class="linenos"> 705</span></a>    <span class="n">VapPres</span> <span class="o">=</span> <span class="n">GetVapPresFromRelHum</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">RelHum</span><span class="p">)</span>
</span><span id="L-706"><a href="#L-706"><span class="linenos"> 706</span></a>    <span class="n">HumRatio</span> <span class="o">=</span> <span class="n">GetHumRatioFromVapPres</span><span class="p">(</span><span class="n">VapPres</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="L-707"><a href="#L-707"><span class="linenos"> 707</span></a>    <span class="k">return</span> <span class="n">HumRatio</span>
</span><span id="L-708"><a href="#L-708"><span class="linenos"> 708</span></a>
</span><span id="L-709"><a href="#L-709"><span class="linenos"> 709</span></a><span class="k">def</span> <span class="nf">GetRelHumFromHumRatio</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">HumRatio</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="L-710"><a href="#L-710"><span class="linenos"> 710</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-711"><a href="#L-711"><span class="linenos"> 711</span></a><span class="sd">    Return relative humidity given dry-bulb temperature, humidity ratio, and pressure.</span>
</span><span id="L-712"><a href="#L-712"><span class="linenos"> 712</span></a>
</span><span id="L-713"><a href="#L-713"><span class="linenos"> 713</span></a><span class="sd">    Args:</span>
</span><span id="L-714"><a href="#L-714"><span class="linenos"> 714</span></a><span class="sd">        TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="L-715"><a href="#L-715"><span class="linenos"> 715</span></a><span class="sd">        HumRatio : Humidity ratio in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]</span>
</span><span id="L-716"><a href="#L-716"><span class="linenos"> 716</span></a><span class="sd">        Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</span>
</span><span id="L-717"><a href="#L-717"><span class="linenos"> 717</span></a>
</span><span id="L-718"><a href="#L-718"><span class="linenos"> 718</span></a><span class="sd">    Returns:</span>
</span><span id="L-719"><a href="#L-719"><span class="linenos"> 719</span></a><span class="sd">        Relative humidity in range [0, 1]</span>
</span><span id="L-720"><a href="#L-720"><span class="linenos"> 720</span></a>
</span><span id="L-721"><a href="#L-721"><span class="linenos"> 721</span></a><span class="sd">    Reference:</span>
</span><span id="L-722"><a href="#L-722"><span class="linenos"> 722</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1</span>
</span><span id="L-723"><a href="#L-723"><span class="linenos"> 723</span></a>
</span><span id="L-724"><a href="#L-724"><span class="linenos"> 724</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-725"><a href="#L-725"><span class="linenos"> 725</span></a>    <span class="k">if</span> <span class="n">HumRatio</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-726"><a href="#L-726"><span class="linenos"> 726</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Humidity ratio cannot be negative&quot;</span><span class="p">)</span>
</span><span id="L-727"><a href="#L-727"><span class="linenos"> 727</span></a>
</span><span id="L-728"><a href="#L-728"><span class="linenos"> 728</span></a>    <span class="n">VapPres</span> <span class="o">=</span> <span class="n">GetVapPresFromHumRatio</span><span class="p">(</span><span class="n">HumRatio</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="L-729"><a href="#L-729"><span class="linenos"> 729</span></a>    <span class="n">RelHum</span> <span class="o">=</span> <span class="n">GetRelHumFromVapPres</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">VapPres</span><span class="p">)</span>
</span><span id="L-730"><a href="#L-730"><span class="linenos"> 730</span></a>    <span class="k">return</span> <span class="n">RelHum</span>
</span><span id="L-731"><a href="#L-731"><span class="linenos"> 731</span></a>
</span><span id="L-732"><a href="#L-732"><span class="linenos"> 732</span></a><span class="k">def</span> <span class="nf">GetHumRatioFromTDewPoint</span><span class="p">(</span><span class="n">TDewPoint</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="L-733"><a href="#L-733"><span class="linenos"> 733</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-734"><a href="#L-734"><span class="linenos"> 734</span></a><span class="sd">    Return humidity ratio given dew-point temperature and pressure.</span>
</span><span id="L-735"><a href="#L-735"><span class="linenos"> 735</span></a>
</span><span id="L-736"><a href="#L-736"><span class="linenos"> 736</span></a><span class="sd">    Args:</span>
</span><span id="L-737"><a href="#L-737"><span class="linenos"> 737</span></a><span class="sd">        TDewPoint : Dew-point temperature in °F [IP] or °C [SI]</span>
</span><span id="L-738"><a href="#L-738"><span class="linenos"> 738</span></a><span class="sd">        Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</span>
</span><span id="L-739"><a href="#L-739"><span class="linenos"> 739</span></a>
</span><span id="L-740"><a href="#L-740"><span class="linenos"> 740</span></a><span class="sd">    Returns:</span>
</span><span id="L-741"><a href="#L-741"><span class="linenos"> 741</span></a><span class="sd">        Humidity ratio in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]</span>
</span><span id="L-742"><a href="#L-742"><span class="linenos"> 742</span></a>
</span><span id="L-743"><a href="#L-743"><span class="linenos"> 743</span></a><span class="sd">    Reference:</span>
</span><span id="L-744"><a href="#L-744"><span class="linenos"> 744</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn 13</span>
</span><span id="L-745"><a href="#L-745"><span class="linenos"> 745</span></a>
</span><span id="L-746"><a href="#L-746"><span class="linenos"> 746</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-747"><a href="#L-747"><span class="linenos"> 747</span></a>    <span class="n">VapPres</span> <span class="o">=</span> <span class="n">GetSatVapPres</span><span class="p">(</span><span class="n">TDewPoint</span><span class="p">)</span>
</span><span id="L-748"><a href="#L-748"><span class="linenos"> 748</span></a>    <span class="n">HumRatio</span> <span class="o">=</span> <span class="n">GetHumRatioFromVapPres</span><span class="p">(</span><span class="n">VapPres</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="L-749"><a href="#L-749"><span class="linenos"> 749</span></a>    <span class="k">return</span> <span class="n">HumRatio</span>
</span><span id="L-750"><a href="#L-750"><span class="linenos"> 750</span></a>
</span><span id="L-751"><a href="#L-751"><span class="linenos"> 751</span></a><span class="k">def</span> <span class="nf">GetTDewPointFromHumRatio</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">HumRatio</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="L-752"><a href="#L-752"><span class="linenos"> 752</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-753"><a href="#L-753"><span class="linenos"> 753</span></a><span class="sd">    Return dew-point temperature given dry-bulb temperature, humidity ratio, and pressure.</span>
</span><span id="L-754"><a href="#L-754"><span class="linenos"> 754</span></a>
</span><span id="L-755"><a href="#L-755"><span class="linenos"> 755</span></a><span class="sd">    Args:</span>
</span><span id="L-756"><a href="#L-756"><span class="linenos"> 756</span></a><span class="sd">        TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="L-757"><a href="#L-757"><span class="linenos"> 757</span></a><span class="sd">        HumRatio : Humidity ratio in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]</span>
</span><span id="L-758"><a href="#L-758"><span class="linenos"> 758</span></a><span class="sd">        Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</span>
</span><span id="L-759"><a href="#L-759"><span class="linenos"> 759</span></a>
</span><span id="L-760"><a href="#L-760"><span class="linenos"> 760</span></a><span class="sd">    Returns:</span>
</span><span id="L-761"><a href="#L-761"><span class="linenos"> 761</span></a><span class="sd">        Dew-point temperature in °F [IP] or °C [SI]</span>
</span><span id="L-762"><a href="#L-762"><span class="linenos"> 762</span></a>
</span><span id="L-763"><a href="#L-763"><span class="linenos"> 763</span></a><span class="sd">    Reference:</span>
</span><span id="L-764"><a href="#L-764"><span class="linenos"> 764</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1</span>
</span><span id="L-765"><a href="#L-765"><span class="linenos"> 765</span></a>
</span><span id="L-766"><a href="#L-766"><span class="linenos"> 766</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-767"><a href="#L-767"><span class="linenos"> 767</span></a>    <span class="k">if</span> <span class="n">HumRatio</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-768"><a href="#L-768"><span class="linenos"> 768</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Humidity ratio cannot be negative&quot;</span><span class="p">)</span>
</span><span id="L-769"><a href="#L-769"><span class="linenos"> 769</span></a>
</span><span id="L-770"><a href="#L-770"><span class="linenos"> 770</span></a>    <span class="n">VapPres</span> <span class="o">=</span> <span class="n">GetVapPresFromHumRatio</span><span class="p">(</span><span class="n">HumRatio</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="L-771"><a href="#L-771"><span class="linenos"> 771</span></a>    <span class="n">TDewPoint</span> <span class="o">=</span> <span class="n">GetTDewPointFromVapPres</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">VapPres</span><span class="p">)</span>
</span><span id="L-772"><a href="#L-772"><span class="linenos"> 772</span></a>    <span class="k">return</span> <span class="n">TDewPoint</span>
</span><span id="L-773"><a href="#L-773"><span class="linenos"> 773</span></a>
</span><span id="L-774"><a href="#L-774"><span class="linenos"> 774</span></a>
</span><span id="L-775"><a href="#L-775"><span class="linenos"> 775</span></a><span class="c1">#######################################################################################################</span>
</span><span id="L-776"><a href="#L-776"><span class="linenos"> 776</span></a><span class="c1"># Conversions between humidity ratio and vapor pressure</span>
</span><span id="L-777"><a href="#L-777"><span class="linenos"> 777</span></a><span class="c1">#######################################################################################################</span>
</span><span id="L-778"><a href="#L-778"><span class="linenos"> 778</span></a>
</span><span id="L-779"><a href="#L-779"><span class="linenos"> 779</span></a><span class="k">def</span> <span class="nf">GetHumRatioFromVapPres</span><span class="p">(</span><span class="n">VapPres</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="L-780"><a href="#L-780"><span class="linenos"> 780</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-781"><a href="#L-781"><span class="linenos"> 781</span></a><span class="sd">    Return humidity ratio given water vapor pressure and atmospheric pressure.</span>
</span><span id="L-782"><a href="#L-782"><span class="linenos"> 782</span></a>
</span><span id="L-783"><a href="#L-783"><span class="linenos"> 783</span></a><span class="sd">    Args:</span>
</span><span id="L-784"><a href="#L-784"><span class="linenos"> 784</span></a><span class="sd">        VapPres : Partial pressure of water vapor in moist air in Psi [IP] or Pa [SI]</span>
</span><span id="L-785"><a href="#L-785"><span class="linenos"> 785</span></a><span class="sd">        Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</span>
</span><span id="L-786"><a href="#L-786"><span class="linenos"> 786</span></a>
</span><span id="L-787"><a href="#L-787"><span class="linenos"> 787</span></a><span class="sd">    Returns:</span>
</span><span id="L-788"><a href="#L-788"><span class="linenos"> 788</span></a><span class="sd">        Humidity ratio in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]</span>
</span><span id="L-789"><a href="#L-789"><span class="linenos"> 789</span></a>
</span><span id="L-790"><a href="#L-790"><span class="linenos"> 790</span></a><span class="sd">    Reference:</span>
</span><span id="L-791"><a href="#L-791"><span class="linenos"> 791</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn 20</span>
</span><span id="L-792"><a href="#L-792"><span class="linenos"> 792</span></a>
</span><span id="L-793"><a href="#L-793"><span class="linenos"> 793</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-794"><a href="#L-794"><span class="linenos"> 794</span></a>    <span class="k">if</span> <span class="n">VapPres</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-795"><a href="#L-795"><span class="linenos"> 795</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Partial pressure of water vapor in moist air cannot be negative&quot;</span><span class="p">)</span>
</span><span id="L-796"><a href="#L-796"><span class="linenos"> 796</span></a>
</span><span id="L-797"><a href="#L-797"><span class="linenos"> 797</span></a>    <span class="n">HumRatio</span> <span class="o">=</span> <span class="mf">0.621945</span> <span class="o">*</span> <span class="n">VapPres</span> <span class="o">/</span> <span class="p">(</span><span class="n">Pressure</span> <span class="o">-</span> <span class="n">VapPres</span><span class="p">)</span>
</span><span id="L-798"><a href="#L-798"><span class="linenos"> 798</span></a>
</span><span id="L-799"><a href="#L-799"><span class="linenos"> 799</span></a>    <span class="c1"># Validity check.</span>
</span><span id="L-800"><a href="#L-800"><span class="linenos"> 800</span></a>    <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="n">HumRatio</span><span class="p">,</span> <span class="n">MIN_HUM_RATIO</span><span class="p">)</span>
</span><span id="L-801"><a href="#L-801"><span class="linenos"> 801</span></a>
</span><span id="L-802"><a href="#L-802"><span class="linenos"> 802</span></a><span class="k">def</span> <span class="nf">GetVapPresFromHumRatio</span><span class="p">(</span><span class="n">HumRatio</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="L-803"><a href="#L-803"><span class="linenos"> 803</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-804"><a href="#L-804"><span class="linenos"> 804</span></a><span class="sd">    Return vapor pressure given humidity ratio and pressure.</span>
</span><span id="L-805"><a href="#L-805"><span class="linenos"> 805</span></a>
</span><span id="L-806"><a href="#L-806"><span class="linenos"> 806</span></a><span class="sd">    Args:</span>
</span><span id="L-807"><a href="#L-807"><span class="linenos"> 807</span></a><span class="sd">        HumRatio : Humidity ratio in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]</span>
</span><span id="L-808"><a href="#L-808"><span class="linenos"> 808</span></a><span class="sd">        Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</span>
</span><span id="L-809"><a href="#L-809"><span class="linenos"> 809</span></a>
</span><span id="L-810"><a href="#L-810"><span class="linenos"> 810</span></a><span class="sd">    Returns:</span>
</span><span id="L-811"><a href="#L-811"><span class="linenos"> 811</span></a><span class="sd">        Partial pressure of water vapor in moist air in Psi [IP] or Pa [SI]</span>
</span><span id="L-812"><a href="#L-812"><span class="linenos"> 812</span></a>
</span><span id="L-813"><a href="#L-813"><span class="linenos"> 813</span></a><span class="sd">    Reference:</span>
</span><span id="L-814"><a href="#L-814"><span class="linenos"> 814</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn 20 solved for pw</span>
</span><span id="L-815"><a href="#L-815"><span class="linenos"> 815</span></a>
</span><span id="L-816"><a href="#L-816"><span class="linenos"> 816</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-817"><a href="#L-817"><span class="linenos"> 817</span></a>    <span class="k">if</span> <span class="n">HumRatio</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-818"><a href="#L-818"><span class="linenos"> 818</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Humidity ratio is negative&quot;</span><span class="p">)</span>
</span><span id="L-819"><a href="#L-819"><span class="linenos"> 819</span></a>    <span class="n">BoundedHumRatio</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">HumRatio</span><span class="p">,</span> <span class="n">MIN_HUM_RATIO</span><span class="p">)</span>
</span><span id="L-820"><a href="#L-820"><span class="linenos"> 820</span></a>
</span><span id="L-821"><a href="#L-821"><span class="linenos"> 821</span></a>    <span class="n">VapPres</span> <span class="o">=</span> <span class="n">Pressure</span> <span class="o">*</span> <span class="n">BoundedHumRatio</span> <span class="o">/</span> <span class="p">(</span><span class="mf">0.621945</span> <span class="o">+</span> <span class="n">BoundedHumRatio</span><span class="p">)</span>
</span><span id="L-822"><a href="#L-822"><span class="linenos"> 822</span></a>    <span class="k">return</span> <span class="n">VapPres</span>
</span><span id="L-823"><a href="#L-823"><span class="linenos"> 823</span></a>
</span><span id="L-824"><a href="#L-824"><span class="linenos"> 824</span></a>
</span><span id="L-825"><a href="#L-825"><span class="linenos"> 825</span></a><span class="c1">#######################################################################################################</span>
</span><span id="L-826"><a href="#L-826"><span class="linenos"> 826</span></a><span class="c1"># Conversions between humidity ratio and specific humidity</span>
</span><span id="L-827"><a href="#L-827"><span class="linenos"> 827</span></a><span class="c1">#######################################################################################################</span>
</span><span id="L-828"><a href="#L-828"><span class="linenos"> 828</span></a>
</span><span id="L-829"><a href="#L-829"><span class="linenos"> 829</span></a><span class="k">def</span> <span class="nf">GetSpecificHumFromHumRatio</span><span class="p">(</span><span class="n">HumRatio</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="L-830"><a href="#L-830"><span class="linenos"> 830</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-831"><a href="#L-831"><span class="linenos"> 831</span></a><span class="sd">    Return the specific humidity from humidity ratio (aka mixing ratio).</span>
</span><span id="L-832"><a href="#L-832"><span class="linenos"> 832</span></a>
</span><span id="L-833"><a href="#L-833"><span class="linenos"> 833</span></a><span class="sd">    Args:</span>
</span><span id="L-834"><a href="#L-834"><span class="linenos"> 834</span></a><span class="sd">        HumRatio : Humidity ratio in lb_H₂O lb_Dry_Air⁻¹ [IP] or kg_H₂O kg_Dry_Air⁻¹ [SI]</span>
</span><span id="L-835"><a href="#L-835"><span class="linenos"> 835</span></a>
</span><span id="L-836"><a href="#L-836"><span class="linenos"> 836</span></a><span class="sd">    Returns:</span>
</span><span id="L-837"><a href="#L-837"><span class="linenos"> 837</span></a><span class="sd">        Specific humidity in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]</span>
</span><span id="L-838"><a href="#L-838"><span class="linenos"> 838</span></a>
</span><span id="L-839"><a href="#L-839"><span class="linenos"> 839</span></a><span class="sd">    Reference:</span>
</span><span id="L-840"><a href="#L-840"><span class="linenos"> 840</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn 9b</span>
</span><span id="L-841"><a href="#L-841"><span class="linenos"> 841</span></a>
</span><span id="L-842"><a href="#L-842"><span class="linenos"> 842</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-843"><a href="#L-843"><span class="linenos"> 843</span></a>    <span class="k">if</span> <span class="n">HumRatio</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-844"><a href="#L-844"><span class="linenos"> 844</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Humidity ratio cannot be negative&quot;</span><span class="p">)</span>
</span><span id="L-845"><a href="#L-845"><span class="linenos"> 845</span></a>    <span class="n">BoundedHumRatio</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">HumRatio</span><span class="p">,</span> <span class="n">MIN_HUM_RATIO</span><span class="p">)</span>
</span><span id="L-846"><a href="#L-846"><span class="linenos"> 846</span></a>
</span><span id="L-847"><a href="#L-847"><span class="linenos"> 847</span></a>    <span class="n">SpecificHum</span> <span class="o">=</span> <span class="n">BoundedHumRatio</span> <span class="o">/</span> <span class="p">(</span><span class="mf">1.0</span> <span class="o">+</span> <span class="n">BoundedHumRatio</span><span class="p">)</span>
</span><span id="L-848"><a href="#L-848"><span class="linenos"> 848</span></a>    <span class="k">return</span> <span class="n">SpecificHum</span>
</span><span id="L-849"><a href="#L-849"><span class="linenos"> 849</span></a>
</span><span id="L-850"><a href="#L-850"><span class="linenos"> 850</span></a><span class="k">def</span> <span class="nf">GetHumRatioFromSpecificHum</span><span class="p">(</span><span class="n">SpecificHum</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="L-851"><a href="#L-851"><span class="linenos"> 851</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-852"><a href="#L-852"><span class="linenos"> 852</span></a><span class="sd">    Return the humidity ratio (aka mixing ratio) from specific humidity.</span>
</span><span id="L-853"><a href="#L-853"><span class="linenos"> 853</span></a>
</span><span id="L-854"><a href="#L-854"><span class="linenos"> 854</span></a><span class="sd">    Args:</span>
</span><span id="L-855"><a href="#L-855"><span class="linenos"> 855</span></a><span class="sd">        SpecificHum : Specific humidity in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]</span>
</span><span id="L-856"><a href="#L-856"><span class="linenos"> 856</span></a>
</span><span id="L-857"><a href="#L-857"><span class="linenos"> 857</span></a><span class="sd">    Returns:</span>
</span><span id="L-858"><a href="#L-858"><span class="linenos"> 858</span></a><span class="sd">        Humidity ratio in lb_H₂O lb_Dry_Air⁻¹ [IP] or kg_H₂O kg_Dry_Air⁻¹ [SI]</span>
</span><span id="L-859"><a href="#L-859"><span class="linenos"> 859</span></a>
</span><span id="L-860"><a href="#L-860"><span class="linenos"> 860</span></a><span class="sd">    Reference:</span>
</span><span id="L-861"><a href="#L-861"><span class="linenos"> 861</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn 9b (solved for humidity ratio)</span>
</span><span id="L-862"><a href="#L-862"><span class="linenos"> 862</span></a>
</span><span id="L-863"><a href="#L-863"><span class="linenos"> 863</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-864"><a href="#L-864"><span class="linenos"> 864</span></a>    <span class="k">if</span> <span class="n">SpecificHum</span> <span class="o">&lt;</span> <span class="mf">0.0</span> <span class="ow">or</span> <span class="n">SpecificHum</span> <span class="o">&gt;=</span> <span class="mf">1.0</span><span class="p">:</span>
</span><span id="L-865"><a href="#L-865"><span class="linenos"> 865</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Specific humidity is outside range [0, 1)&quot;</span><span class="p">)</span>
</span><span id="L-866"><a href="#L-866"><span class="linenos"> 866</span></a>
</span><span id="L-867"><a href="#L-867"><span class="linenos"> 867</span></a>    <span class="n">HumRatio</span> <span class="o">=</span> <span class="n">SpecificHum</span> <span class="o">/</span> <span class="p">(</span><span class="mf">1.0</span> <span class="o">-</span> <span class="n">SpecificHum</span><span class="p">)</span>
</span><span id="L-868"><a href="#L-868"><span class="linenos"> 868</span></a>
</span><span id="L-869"><a href="#L-869"><span class="linenos"> 869</span></a>    <span class="c1"># Validity check.</span>
</span><span id="L-870"><a href="#L-870"><span class="linenos"> 870</span></a>    <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="n">HumRatio</span><span class="p">,</span> <span class="n">MIN_HUM_RATIO</span><span class="p">)</span>
</span><span id="L-871"><a href="#L-871"><span class="linenos"> 871</span></a>
</span><span id="L-872"><a href="#L-872"><span class="linenos"> 872</span></a>
</span><span id="L-873"><a href="#L-873"><span class="linenos"> 873</span></a><span class="c1">#######################################################################################################</span>
</span><span id="L-874"><a href="#L-874"><span class="linenos"> 874</span></a><span class="c1"># Dry Air Calculations</span>
</span><span id="L-875"><a href="#L-875"><span class="linenos"> 875</span></a><span class="c1">#######################################################################################################</span>
</span><span id="L-876"><a href="#L-876"><span class="linenos"> 876</span></a>
</span><span id="L-877"><a href="#L-877"><span class="linenos"> 877</span></a><span class="k">def</span> <span class="nf">GetDryAirEnthalpy</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="L-878"><a href="#L-878"><span class="linenos"> 878</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-879"><a href="#L-879"><span class="linenos"> 879</span></a><span class="sd">    Return dry-air enthalpy given dry-bulb temperature.</span>
</span><span id="L-880"><a href="#L-880"><span class="linenos"> 880</span></a>
</span><span id="L-881"><a href="#L-881"><span class="linenos"> 881</span></a><span class="sd">    Args:</span>
</span><span id="L-882"><a href="#L-882"><span class="linenos"> 882</span></a><span class="sd">        TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="L-883"><a href="#L-883"><span class="linenos"> 883</span></a>
</span><span id="L-884"><a href="#L-884"><span class="linenos"> 884</span></a><span class="sd">    Returns:</span>
</span><span id="L-885"><a href="#L-885"><span class="linenos"> 885</span></a><span class="sd">        Dry air enthalpy in Btu lb⁻¹ [IP] or J kg⁻¹ [SI]</span>
</span><span id="L-886"><a href="#L-886"><span class="linenos"> 886</span></a>
</span><span id="L-887"><a href="#L-887"><span class="linenos"> 887</span></a><span class="sd">    Reference:</span>
</span><span id="L-888"><a href="#L-888"><span class="linenos"> 888</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn 28</span>
</span><span id="L-889"><a href="#L-889"><span class="linenos"> 889</span></a>
</span><span id="L-890"><a href="#L-890"><span class="linenos"> 890</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-891"><a href="#L-891"><span class="linenos"> 891</span></a>    <span class="k">if</span> <span class="n">isIP</span><span class="p">():</span>
</span><span id="L-892"><a href="#L-892"><span class="linenos"> 892</span></a>        <span class="n">DryAirEnthalpy</span> <span class="o">=</span> <span class="mf">0.240</span> <span class="o">*</span> <span class="n">TDryBulb</span>
</span><span id="L-893"><a href="#L-893"><span class="linenos"> 893</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="L-894"><a href="#L-894"><span class="linenos"> 894</span></a>        <span class="n">DryAirEnthalpy</span> <span class="o">=</span> <span class="mi">1006</span> <span class="o">*</span> <span class="n">TDryBulb</span>
</span><span id="L-895"><a href="#L-895"><span class="linenos"> 895</span></a>    <span class="k">return</span> <span class="n">DryAirEnthalpy</span>
</span><span id="L-896"><a href="#L-896"><span class="linenos"> 896</span></a>
</span><span id="L-897"><a href="#L-897"><span class="linenos"> 897</span></a><span class="k">def</span> <span class="nf">GetDryAirDensity</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="L-898"><a href="#L-898"><span class="linenos"> 898</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-899"><a href="#L-899"><span class="linenos"> 899</span></a><span class="sd">    Return dry-air density given dry-bulb temperature and pressure.</span>
</span><span id="L-900"><a href="#L-900"><span class="linenos"> 900</span></a>
</span><span id="L-901"><a href="#L-901"><span class="linenos"> 901</span></a><span class="sd">    Args:</span>
</span><span id="L-902"><a href="#L-902"><span class="linenos"> 902</span></a><span class="sd">        TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="L-903"><a href="#L-903"><span class="linenos"> 903</span></a><span class="sd">        Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</span>
</span><span id="L-904"><a href="#L-904"><span class="linenos"> 904</span></a>
</span><span id="L-905"><a href="#L-905"><span class="linenos"> 905</span></a><span class="sd">    Returns:</span>
</span><span id="L-906"><a href="#L-906"><span class="linenos"> 906</span></a><span class="sd">        Dry air density in lb ft⁻³ [IP] or kg m⁻³ [SI]</span>
</span><span id="L-907"><a href="#L-907"><span class="linenos"> 907</span></a>
</span><span id="L-908"><a href="#L-908"><span class="linenos"> 908</span></a><span class="sd">    Reference:</span>
</span><span id="L-909"><a href="#L-909"><span class="linenos"> 909</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1</span>
</span><span id="L-910"><a href="#L-910"><span class="linenos"> 910</span></a>
</span><span id="L-911"><a href="#L-911"><span class="linenos"> 911</span></a><span class="sd">    Notes:</span>
</span><span id="L-912"><a href="#L-912"><span class="linenos"> 912</span></a><span class="sd">        Eqn 14 for the perfect gas relationship for dry air.</span>
</span><span id="L-913"><a href="#L-913"><span class="linenos"> 913</span></a><span class="sd">        Eqn 1 for the universal gas constant.</span>
</span><span id="L-914"><a href="#L-914"><span class="linenos"> 914</span></a><span class="sd">        The factor 144 in IP is for the conversion of Psi = lb in⁻² to lb ft⁻².</span>
</span><span id="L-915"><a href="#L-915"><span class="linenos"> 915</span></a>
</span><span id="L-916"><a href="#L-916"><span class="linenos"> 916</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-917"><a href="#L-917"><span class="linenos"> 917</span></a>    <span class="k">if</span> <span class="n">isIP</span><span class="p">():</span>
</span><span id="L-918"><a href="#L-918"><span class="linenos"> 918</span></a>        <span class="n">DryAirDensity</span> <span class="o">=</span> <span class="p">(</span><span class="mi">144</span> <span class="o">*</span> <span class="n">Pressure</span><span class="p">)</span> <span class="o">/</span> <span class="n">R_DA_IP</span> <span class="o">/</span> <span class="n">GetTRankineFromTFahrenheit</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">)</span>
</span><span id="L-919"><a href="#L-919"><span class="linenos"> 919</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="L-920"><a href="#L-920"><span class="linenos"> 920</span></a>        <span class="n">DryAirDensity</span> <span class="o">=</span> <span class="n">Pressure</span> <span class="o">/</span> <span class="n">R_DA_SI</span> <span class="o">/</span> <span class="n">GetTKelvinFromTCelsius</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">)</span>
</span><span id="L-921"><a href="#L-921"><span class="linenos"> 921</span></a>    <span class="k">return</span> <span class="n">DryAirDensity</span>
</span><span id="L-922"><a href="#L-922"><span class="linenos"> 922</span></a>
</span><span id="L-923"><a href="#L-923"><span class="linenos"> 923</span></a><span class="k">def</span> <span class="nf">GetDryAirVolume</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="L-924"><a href="#L-924"><span class="linenos"> 924</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-925"><a href="#L-925"><span class="linenos"> 925</span></a><span class="sd">    Return dry-air volume given dry-bulb temperature and pressure.</span>
</span><span id="L-926"><a href="#L-926"><span class="linenos"> 926</span></a>
</span><span id="L-927"><a href="#L-927"><span class="linenos"> 927</span></a><span class="sd">    Args:</span>
</span><span id="L-928"><a href="#L-928"><span class="linenos"> 928</span></a><span class="sd">        TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="L-929"><a href="#L-929"><span class="linenos"> 929</span></a><span class="sd">        Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</span>
</span><span id="L-930"><a href="#L-930"><span class="linenos"> 930</span></a>
</span><span id="L-931"><a href="#L-931"><span class="linenos"> 931</span></a><span class="sd">    Returns:</span>
</span><span id="L-932"><a href="#L-932"><span class="linenos"> 932</span></a><span class="sd">        Dry air volume in ft³ lb⁻¹ [IP] or in m³ kg⁻¹ [SI]</span>
</span><span id="L-933"><a href="#L-933"><span class="linenos"> 933</span></a>
</span><span id="L-934"><a href="#L-934"><span class="linenos"> 934</span></a><span class="sd">    Reference:</span>
</span><span id="L-935"><a href="#L-935"><span class="linenos"> 935</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1</span>
</span><span id="L-936"><a href="#L-936"><span class="linenos"> 936</span></a>
</span><span id="L-937"><a href="#L-937"><span class="linenos"> 937</span></a><span class="sd">    Notes:</span>
</span><span id="L-938"><a href="#L-938"><span class="linenos"> 938</span></a><span class="sd">        Eqn 14 for the perfect gas relationship for dry air.</span>
</span><span id="L-939"><a href="#L-939"><span class="linenos"> 939</span></a><span class="sd">        Eqn 1 for the universal gas constant.</span>
</span><span id="L-940"><a href="#L-940"><span class="linenos"> 940</span></a><span class="sd">        The factor 144 in IP is for the conversion of Psi = lb in⁻² to lb ft⁻².</span>
</span><span id="L-941"><a href="#L-941"><span class="linenos"> 941</span></a>
</span><span id="L-942"><a href="#L-942"><span class="linenos"> 942</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-943"><a href="#L-943"><span class="linenos"> 943</span></a>    <span class="k">if</span> <span class="n">isIP</span><span class="p">():</span>
</span><span id="L-944"><a href="#L-944"><span class="linenos"> 944</span></a>        <span class="n">DryAirVolume</span> <span class="o">=</span> <span class="n">R_DA_IP</span> <span class="o">*</span> <span class="n">GetTRankineFromTFahrenheit</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mi">144</span> <span class="o">*</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="L-945"><a href="#L-945"><span class="linenos"> 945</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="L-946"><a href="#L-946"><span class="linenos"> 946</span></a>        <span class="n">DryAirVolume</span> <span class="o">=</span> <span class="n">R_DA_SI</span> <span class="o">*</span> <span class="n">GetTKelvinFromTCelsius</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">)</span> <span class="o">/</span> <span class="n">Pressure</span>
</span><span id="L-947"><a href="#L-947"><span class="linenos"> 947</span></a>    <span class="k">return</span> <span class="n">DryAirVolume</span>
</span><span id="L-948"><a href="#L-948"><span class="linenos"> 948</span></a>
</span><span id="L-949"><a href="#L-949"><span class="linenos"> 949</span></a>
</span><span id="L-950"><a href="#L-950"><span class="linenos"> 950</span></a><span class="k">def</span> <span class="nf">GetTDryBulbFromEnthalpyAndHumRatio</span><span class="p">(</span><span class="n">MoistAirEnthalpy</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">HumRatio</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="L-951"><a href="#L-951"><span class="linenos"> 951</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-952"><a href="#L-952"><span class="linenos"> 952</span></a><span class="sd">    Return dry bulb temperature from enthalpy and humidity ratio.</span>
</span><span id="L-953"><a href="#L-953"><span class="linenos"> 953</span></a>
</span><span id="L-954"><a href="#L-954"><span class="linenos"> 954</span></a>
</span><span id="L-955"><a href="#L-955"><span class="linenos"> 955</span></a><span class="sd">    Args:</span>
</span><span id="L-956"><a href="#L-956"><span class="linenos"> 956</span></a><span class="sd">        MoistAirEnthalpy : Moist air enthalpy in Btu lb⁻¹ [IP] or J kg⁻¹</span>
</span><span id="L-957"><a href="#L-957"><span class="linenos"> 957</span></a><span class="sd">        HumRatio : Humidity ratio in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]</span>
</span><span id="L-958"><a href="#L-958"><span class="linenos"> 958</span></a>
</span><span id="L-959"><a href="#L-959"><span class="linenos"> 959</span></a><span class="sd">    Returns:</span>
</span><span id="L-960"><a href="#L-960"><span class="linenos"> 960</span></a><span class="sd">        Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="L-961"><a href="#L-961"><span class="linenos"> 961</span></a>
</span><span id="L-962"><a href="#L-962"><span class="linenos"> 962</span></a><span class="sd">    Reference:</span>
</span><span id="L-963"><a href="#L-963"><span class="linenos"> 963</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn 30</span>
</span><span id="L-964"><a href="#L-964"><span class="linenos"> 964</span></a>
</span><span id="L-965"><a href="#L-965"><span class="linenos"> 965</span></a><span class="sd">    Notes:</span>
</span><span id="L-966"><a href="#L-966"><span class="linenos"> 966</span></a><span class="sd">        Based on the `GetMoistAirEnthalpy` function, rearranged for temperature.</span>
</span><span id="L-967"><a href="#L-967"><span class="linenos"> 967</span></a>
</span><span id="L-968"><a href="#L-968"><span class="linenos"> 968</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-969"><a href="#L-969"><span class="linenos"> 969</span></a>    <span class="k">if</span> <span class="n">HumRatio</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-970"><a href="#L-970"><span class="linenos"> 970</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Humidity ratio is negative&quot;</span><span class="p">)</span>
</span><span id="L-971"><a href="#L-971"><span class="linenos"> 971</span></a>    <span class="n">BoundedHumRatio</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">HumRatio</span><span class="p">,</span> <span class="n">MIN_HUM_RATIO</span><span class="p">)</span>
</span><span id="L-972"><a href="#L-972"><span class="linenos"> 972</span></a>
</span><span id="L-973"><a href="#L-973"><span class="linenos"> 973</span></a>    <span class="k">if</span> <span class="n">isIP</span><span class="p">():</span>
</span><span id="L-974"><a href="#L-974"><span class="linenos"> 974</span></a>        <span class="n">TDryBulb</span>  <span class="o">=</span> <span class="p">(</span><span class="n">MoistAirEnthalpy</span> <span class="o">-</span> <span class="mf">1061.0</span> <span class="o">*</span> <span class="n">BoundedHumRatio</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mf">0.240</span> <span class="o">+</span> <span class="mf">0.444</span> <span class="o">*</span> <span class="n">BoundedHumRatio</span><span class="p">)</span>
</span><span id="L-975"><a href="#L-975"><span class="linenos"> 975</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="L-976"><a href="#L-976"><span class="linenos"> 976</span></a>        <span class="n">TDryBulb</span>  <span class="o">=</span> <span class="p">(</span><span class="n">MoistAirEnthalpy</span> <span class="o">/</span> <span class="mf">1000.0</span> <span class="o">-</span> <span class="mf">2501.0</span> <span class="o">*</span> <span class="n">BoundedHumRatio</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mf">1.006</span> <span class="o">+</span> <span class="mf">1.86</span> <span class="o">*</span> <span class="n">BoundedHumRatio</span><span class="p">)</span>
</span><span id="L-977"><a href="#L-977"><span class="linenos"> 977</span></a>    <span class="k">return</span> <span class="n">TDryBulb</span>
</span><span id="L-978"><a href="#L-978"><span class="linenos"> 978</span></a>
</span><span id="L-979"><a href="#L-979"><span class="linenos"> 979</span></a><span class="k">def</span> <span class="nf">GetHumRatioFromEnthalpyAndTDryBulb</span><span class="p">(</span><span class="n">MoistAirEnthalpy</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="L-980"><a href="#L-980"><span class="linenos"> 980</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-981"><a href="#L-981"><span class="linenos"> 981</span></a><span class="sd">    Return humidity ratio from enthalpy and dry-bulb temperature.</span>
</span><span id="L-982"><a href="#L-982"><span class="linenos"> 982</span></a>
</span><span id="L-983"><a href="#L-983"><span class="linenos"> 983</span></a>
</span><span id="L-984"><a href="#L-984"><span class="linenos"> 984</span></a><span class="sd">    Args:</span>
</span><span id="L-985"><a href="#L-985"><span class="linenos"> 985</span></a><span class="sd">        MoistAirEnthalpy : Moist air enthalpy in Btu lb⁻¹ [IP] or J kg⁻¹</span>
</span><span id="L-986"><a href="#L-986"><span class="linenos"> 986</span></a><span class="sd">        TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="L-987"><a href="#L-987"><span class="linenos"> 987</span></a>
</span><span id="L-988"><a href="#L-988"><span class="linenos"> 988</span></a><span class="sd">    Returns:</span>
</span><span id="L-989"><a href="#L-989"><span class="linenos"> 989</span></a><span class="sd">        Humidity ratio in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]</span>
</span><span id="L-990"><a href="#L-990"><span class="linenos"> 990</span></a>
</span><span id="L-991"><a href="#L-991"><span class="linenos"> 991</span></a><span class="sd">    Reference:</span>
</span><span id="L-992"><a href="#L-992"><span class="linenos"> 992</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn 30.</span>
</span><span id="L-993"><a href="#L-993"><span class="linenos"> 993</span></a>
</span><span id="L-994"><a href="#L-994"><span class="linenos"> 994</span></a><span class="sd">    Notes:</span>
</span><span id="L-995"><a href="#L-995"><span class="linenos"> 995</span></a><span class="sd">        Based on the `GetMoistAirEnthalpy` function, rearranged for humidity ratio.</span>
</span><span id="L-996"><a href="#L-996"><span class="linenos"> 996</span></a>
</span><span id="L-997"><a href="#L-997"><span class="linenos"> 997</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-998"><a href="#L-998"><span class="linenos"> 998</span></a>    <span class="k">if</span> <span class="n">isIP</span><span class="p">():</span>
</span><span id="L-999"><a href="#L-999"><span class="linenos"> 999</span></a>        <span class="n">HumRatio</span>  <span class="o">=</span> <span class="p">(</span><span class="n">MoistAirEnthalpy</span> <span class="o">-</span> <span class="mf">0.240</span> <span class="o">*</span> <span class="n">TDryBulb</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mf">1061.0</span> <span class="o">+</span> <span class="mf">0.444</span> <span class="o">*</span> <span class="n">TDryBulb</span><span class="p">)</span>
</span><span id="L-1000"><a href="#L-1000"><span class="linenos">1000</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="L-1001"><a href="#L-1001"><span class="linenos">1001</span></a>        <span class="n">HumRatio</span>  <span class="o">=</span> <span class="p">(</span><span class="n">MoistAirEnthalpy</span> <span class="o">/</span> <span class="mf">1000.0</span> <span class="o">-</span> <span class="mf">1.006</span> <span class="o">*</span> <span class="n">TDryBulb</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mf">2501.0</span> <span class="o">+</span> <span class="mf">1.86</span> <span class="o">*</span> <span class="n">TDryBulb</span><span class="p">)</span>
</span><span id="L-1002"><a href="#L-1002"><span class="linenos">1002</span></a>
</span><span id="L-1003"><a href="#L-1003"><span class="linenos">1003</span></a>    <span class="c1"># Validity check.</span>
</span><span id="L-1004"><a href="#L-1004"><span class="linenos">1004</span></a>    <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="n">HumRatio</span><span class="p">,</span> <span class="n">MIN_HUM_RATIO</span><span class="p">)</span>
</span><span id="L-1005"><a href="#L-1005"><span class="linenos">1005</span></a>
</span><span id="L-1006"><a href="#L-1006"><span class="linenos">1006</span></a>
</span><span id="L-1007"><a href="#L-1007"><span class="linenos">1007</span></a><span class="c1">#######################################################################################################</span>
</span><span id="L-1008"><a href="#L-1008"><span class="linenos">1008</span></a><span class="c1"># Saturated Air Calculations</span>
</span><span id="L-1009"><a href="#L-1009"><span class="linenos">1009</span></a><span class="c1">#######################################################################################################</span>
</span><span id="L-1010"><a href="#L-1010"><span class="linenos">1010</span></a>
</span><span id="L-1011"><a href="#L-1011"><span class="linenos">1011</span></a><span class="k">def</span> <span class="nf">GetSatVapPres</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="L-1012"><a href="#L-1012"><span class="linenos">1012</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1013"><a href="#L-1013"><span class="linenos">1013</span></a><span class="sd">    Return saturation vapor pressure given dry-bulb temperature.</span>
</span><span id="L-1014"><a href="#L-1014"><span class="linenos">1014</span></a>
</span><span id="L-1015"><a href="#L-1015"><span class="linenos">1015</span></a><span class="sd">    Args:</span>
</span><span id="L-1016"><a href="#L-1016"><span class="linenos">1016</span></a><span class="sd">        TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="L-1017"><a href="#L-1017"><span class="linenos">1017</span></a>
</span><span id="L-1018"><a href="#L-1018"><span class="linenos">1018</span></a><span class="sd">    Returns:</span>
</span><span id="L-1019"><a href="#L-1019"><span class="linenos">1019</span></a><span class="sd">        Vapor pressure of saturated air in Psi [IP] or Pa [SI]</span>
</span><span id="L-1020"><a href="#L-1020"><span class="linenos">1020</span></a>
</span><span id="L-1021"><a href="#L-1021"><span class="linenos">1021</span></a><span class="sd">    Reference:</span>
</span><span id="L-1022"><a href="#L-1022"><span class="linenos">1022</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1  eqn 5 &amp; 6</span>
</span><span id="L-1023"><a href="#L-1023"><span class="linenos">1023</span></a><span class="sd">        Important note: the ASHRAE formulae are defined above and below the freezing point but have</span>
</span><span id="L-1024"><a href="#L-1024"><span class="linenos">1024</span></a><span class="sd">        a discontinuity at the freezing point. This is a small inaccuracy on ASHRAE&#39;s part: the formulae</span>
</span><span id="L-1025"><a href="#L-1025"><span class="linenos">1025</span></a><span class="sd">        should be defined above and below the triple point of water (not the feezing point) in which case</span>
</span><span id="L-1026"><a href="#L-1026"><span class="linenos">1026</span></a><span class="sd">        the discontinuity vanishes. It is essential to use the triple point of water otherwise function</span>
</span><span id="L-1027"><a href="#L-1027"><span class="linenos">1027</span></a><span class="sd">        GetTDewPointFromVapPres, which inverts the present function, does not converge properly around</span>
</span><span id="L-1028"><a href="#L-1028"><span class="linenos">1028</span></a><span class="sd">        the freezing point.</span>
</span><span id="L-1029"><a href="#L-1029"><span class="linenos">1029</span></a>
</span><span id="L-1030"><a href="#L-1030"><span class="linenos">1030</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1031"><a href="#L-1031"><span class="linenos">1031</span></a>    <span class="k">if</span> <span class="n">isIP</span><span class="p">():</span>
</span><span id="L-1032"><a href="#L-1032"><span class="linenos">1032</span></a>        <span class="k">if</span> <span class="p">(</span><span class="n">TDryBulb</span> <span class="o">&lt;</span> <span class="o">-</span><span class="mi">148</span> <span class="ow">or</span> <span class="n">TDryBulb</span> <span class="o">&gt;</span> <span class="mi">392</span><span class="p">):</span>
</span><span id="L-1033"><a href="#L-1033"><span class="linenos">1033</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Dry bulb temperature must be in range [-148, 392]°F&quot;</span><span class="p">)</span>
</span><span id="L-1034"><a href="#L-1034"><span class="linenos">1034</span></a>
</span><span id="L-1035"><a href="#L-1035"><span class="linenos">1035</span></a>        <span class="n">T</span> <span class="o">=</span> <span class="n">GetTRankineFromTFahrenheit</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">)</span>
</span><span id="L-1036"><a href="#L-1036"><span class="linenos">1036</span></a>
</span><span id="L-1037"><a href="#L-1037"><span class="linenos">1037</span></a>        <span class="k">if</span> <span class="p">(</span><span class="n">TDryBulb</span> <span class="o">&lt;=</span> <span class="n">TRIPLE_POINT_WATER_IP</span><span class="p">):</span>
</span><span id="L-1038"><a href="#L-1038"><span class="linenos">1038</span></a>            <span class="n">LnPws</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="mf">1.0214165E+04</span> <span class="o">/</span> <span class="n">T</span> <span class="o">-</span> <span class="mf">4.8932428</span> <span class="o">-</span> <span class="mf">5.3765794E-03</span> <span class="o">*</span> <span class="n">T</span> <span class="o">+</span> <span class="mf">1.9202377E-07</span> <span class="o">*</span> <span class="n">T</span><span class="o">**</span><span class="mi">2</span> \
</span><span id="L-1039"><a href="#L-1039"><span class="linenos">1039</span></a>                  <span class="o">+</span> <span class="mf">3.5575832E-10</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="o">-</span> <span class="mf">9.0344688E-14</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="o">+</span> <span class="mf">4.1635019</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">T</span><span class="p">))</span>
</span><span id="L-1040"><a href="#L-1040"><span class="linenos">1040</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-1041"><a href="#L-1041"><span class="linenos">1041</span></a>            <span class="n">LnPws</span> <span class="o">=</span> <span class="o">-</span><span class="mf">1.0440397E+04</span> <span class="o">/</span> <span class="n">T</span> <span class="o">-</span> <span class="mf">1.1294650E+01</span> <span class="o">-</span> <span class="mf">2.7022355E-02</span><span class="o">*</span> <span class="n">T</span> <span class="o">+</span> <span class="mf">1.2890360E-05</span> <span class="o">*</span> <span class="n">T</span><span class="o">**</span><span class="mi">2</span> \
</span><span id="L-1042"><a href="#L-1042"><span class="linenos">1042</span></a>                  <span class="o">-</span> <span class="mf">2.4780681E-09</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="o">+</span> <span class="mf">6.5459673</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">T</span><span class="p">)</span>
</span><span id="L-1043"><a href="#L-1043"><span class="linenos">1043</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="L-1044"><a href="#L-1044"><span class="linenos">1044</span></a>        <span class="k">if</span> <span class="p">(</span><span class="n">TDryBulb</span> <span class="o">&lt;</span> <span class="o">-</span><span class="mi">100</span> <span class="ow">or</span> <span class="n">TDryBulb</span> <span class="o">&gt;</span> <span class="mi">200</span><span class="p">):</span>
</span><span id="L-1045"><a href="#L-1045"><span class="linenos">1045</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Dry bulb temperature must be in range [-100, 200]°C&quot;</span><span class="p">)</span>
</span><span id="L-1046"><a href="#L-1046"><span class="linenos">1046</span></a>
</span><span id="L-1047"><a href="#L-1047"><span class="linenos">1047</span></a>        <span class="n">T</span> <span class="o">=</span> <span class="n">GetTKelvinFromTCelsius</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">)</span>
</span><span id="L-1048"><a href="#L-1048"><span class="linenos">1048</span></a>
</span><span id="L-1049"><a href="#L-1049"><span class="linenos">1049</span></a>        <span class="k">if</span> <span class="p">(</span><span class="n">TDryBulb</span> <span class="o">&lt;=</span> <span class="n">TRIPLE_POINT_WATER_SI</span><span class="p">):</span>
</span><span id="L-1050"><a href="#L-1050"><span class="linenos">1050</span></a>            <span class="n">LnPws</span> <span class="o">=</span> <span class="o">-</span><span class="mf">5.6745359E+03</span> <span class="o">/</span> <span class="n">T</span> <span class="o">+</span> <span class="mf">6.3925247</span> <span class="o">-</span> <span class="mf">9.677843E-03</span> <span class="o">*</span> <span class="n">T</span> <span class="o">+</span> <span class="mf">6.2215701E-07</span> <span class="o">*</span> <span class="n">T</span><span class="o">**</span><span class="mi">2</span> \
</span><span id="L-1051"><a href="#L-1051"><span class="linenos">1051</span></a>                  <span class="o">+</span> <span class="mf">2.0747825E-09</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="o">-</span> <span class="mf">9.484024E-13</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="o">+</span> <span class="mf">4.1635019</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">T</span><span class="p">)</span>
</span><span id="L-1052"><a href="#L-1052"><span class="linenos">1052</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-1053"><a href="#L-1053"><span class="linenos">1053</span></a>            <span class="n">LnPws</span> <span class="o">=</span> <span class="o">-</span><span class="mf">5.8002206E+03</span> <span class="o">/</span> <span class="n">T</span> <span class="o">+</span> <span class="mf">1.3914993</span> <span class="o">-</span> <span class="mf">4.8640239E-02</span> <span class="o">*</span> <span class="n">T</span> <span class="o">+</span> <span class="mf">4.1764768E-05</span> <span class="o">*</span> <span class="n">T</span><span class="o">**</span><span class="mi">2</span> \
</span><span id="L-1054"><a href="#L-1054"><span class="linenos">1054</span></a>                  <span class="o">-</span> <span class="mf">1.4452093E-08</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="o">+</span> <span class="mf">6.5459673</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">T</span><span class="p">)</span>
</span><span id="L-1055"><a href="#L-1055"><span class="linenos">1055</span></a>
</span><span id="L-1056"><a href="#L-1056"><span class="linenos">1056</span></a>    <span class="n">SatVapPres</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">LnPws</span><span class="p">)</span>
</span><span id="L-1057"><a href="#L-1057"><span class="linenos">1057</span></a>    <span class="k">return</span> <span class="n">SatVapPres</span>
</span><span id="L-1058"><a href="#L-1058"><span class="linenos">1058</span></a>
</span><span id="L-1059"><a href="#L-1059"><span class="linenos">1059</span></a><span class="k">def</span> <span class="nf">GetSatHumRatio</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="L-1060"><a href="#L-1060"><span class="linenos">1060</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1061"><a href="#L-1061"><span class="linenos">1061</span></a><span class="sd">    Return humidity ratio of saturated air given dry-bulb temperature and pressure.</span>
</span><span id="L-1062"><a href="#L-1062"><span class="linenos">1062</span></a>
</span><span id="L-1063"><a href="#L-1063"><span class="linenos">1063</span></a><span class="sd">    Args:</span>
</span><span id="L-1064"><a href="#L-1064"><span class="linenos">1064</span></a><span class="sd">        TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="L-1065"><a href="#L-1065"><span class="linenos">1065</span></a><span class="sd">        Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</span>
</span><span id="L-1066"><a href="#L-1066"><span class="linenos">1066</span></a>
</span><span id="L-1067"><a href="#L-1067"><span class="linenos">1067</span></a><span class="sd">    Returns:</span>
</span><span id="L-1068"><a href="#L-1068"><span class="linenos">1068</span></a><span class="sd">        Humidity ratio of saturated air in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]</span>
</span><span id="L-1069"><a href="#L-1069"><span class="linenos">1069</span></a>
</span><span id="L-1070"><a href="#L-1070"><span class="linenos">1070</span></a><span class="sd">    Reference:</span>
</span><span id="L-1071"><a href="#L-1071"><span class="linenos">1071</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn 36, solved for W</span>
</span><span id="L-1072"><a href="#L-1072"><span class="linenos">1072</span></a>
</span><span id="L-1073"><a href="#L-1073"><span class="linenos">1073</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1074"><a href="#L-1074"><span class="linenos">1074</span></a>    <span class="n">SatVaporPres</span> <span class="o">=</span> <span class="n">GetSatVapPres</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">)</span>
</span><span id="L-1075"><a href="#L-1075"><span class="linenos">1075</span></a>    <span class="n">SatHumRatio</span> <span class="o">=</span> <span class="mf">0.621945</span> <span class="o">*</span> <span class="n">SatVaporPres</span> <span class="o">/</span> <span class="p">(</span><span class="n">Pressure</span> <span class="o">-</span> <span class="n">SatVaporPres</span><span class="p">)</span>
</span><span id="L-1076"><a href="#L-1076"><span class="linenos">1076</span></a>
</span><span id="L-1077"><a href="#L-1077"><span class="linenos">1077</span></a>    <span class="c1"># Validity check.</span>
</span><span id="L-1078"><a href="#L-1078"><span class="linenos">1078</span></a>    <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="n">SatHumRatio</span><span class="p">,</span> <span class="n">MIN_HUM_RATIO</span><span class="p">)</span>
</span><span id="L-1079"><a href="#L-1079"><span class="linenos">1079</span></a>
</span><span id="L-1080"><a href="#L-1080"><span class="linenos">1080</span></a><span class="k">def</span> <span class="nf">GetSatAirEnthalpy</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="L-1081"><a href="#L-1081"><span class="linenos">1081</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1082"><a href="#L-1082"><span class="linenos">1082</span></a><span class="sd">    Return saturated air enthalpy given dry-bulb temperature and pressure.</span>
</span><span id="L-1083"><a href="#L-1083"><span class="linenos">1083</span></a>
</span><span id="L-1084"><a href="#L-1084"><span class="linenos">1084</span></a><span class="sd">    Args:</span>
</span><span id="L-1085"><a href="#L-1085"><span class="linenos">1085</span></a><span class="sd">        TDryBulb: Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="L-1086"><a href="#L-1086"><span class="linenos">1086</span></a><span class="sd">        Pressure: Atmospheric pressure in Psi [IP] or Pa [SI]</span>
</span><span id="L-1087"><a href="#L-1087"><span class="linenos">1087</span></a>
</span><span id="L-1088"><a href="#L-1088"><span class="linenos">1088</span></a><span class="sd">    Returns:</span>
</span><span id="L-1089"><a href="#L-1089"><span class="linenos">1089</span></a><span class="sd">        Saturated air enthalpy in Btu lb⁻¹ [IP] or J kg⁻¹ [SI]</span>
</span><span id="L-1090"><a href="#L-1090"><span class="linenos">1090</span></a>
</span><span id="L-1091"><a href="#L-1091"><span class="linenos">1091</span></a><span class="sd">    Reference:</span>
</span><span id="L-1092"><a href="#L-1092"><span class="linenos">1092</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1</span>
</span><span id="L-1093"><a href="#L-1093"><span class="linenos">1093</span></a>
</span><span id="L-1094"><a href="#L-1094"><span class="linenos">1094</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1095"><a href="#L-1095"><span class="linenos">1095</span></a>    <span class="n">SatHumRatio</span> <span class="o">=</span> <span class="n">GetSatHumRatio</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="L-1096"><a href="#L-1096"><span class="linenos">1096</span></a>    <span class="n">SatAirEnthalpy</span> <span class="o">=</span> <span class="n">GetMoistAirEnthalpy</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">SatHumRatio</span><span class="p">)</span>
</span><span id="L-1097"><a href="#L-1097"><span class="linenos">1097</span></a>    <span class="k">return</span> <span class="n">SatAirEnthalpy</span>
</span><span id="L-1098"><a href="#L-1098"><span class="linenos">1098</span></a>
</span><span id="L-1099"><a href="#L-1099"><span class="linenos">1099</span></a>
</span><span id="L-1100"><a href="#L-1100"><span class="linenos">1100</span></a><span class="c1">#######################################################################################################</span>
</span><span id="L-1101"><a href="#L-1101"><span class="linenos">1101</span></a><span class="c1"># Moist Air Calculations</span>
</span><span id="L-1102"><a href="#L-1102"><span class="linenos">1102</span></a><span class="c1">#######################################################################################################</span>
</span><span id="L-1103"><a href="#L-1103"><span class="linenos">1103</span></a>
</span><span id="L-1104"><a href="#L-1104"><span class="linenos">1104</span></a><span class="k">def</span> <span class="nf">GetVaporPressureDeficit</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">HumRatio</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="L-1105"><a href="#L-1105"><span class="linenos">1105</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1106"><a href="#L-1106"><span class="linenos">1106</span></a><span class="sd">    Return Vapor pressure deficit given dry-bulb temperature, humidity ratio, and pressure.</span>
</span><span id="L-1107"><a href="#L-1107"><span class="linenos">1107</span></a>
</span><span id="L-1108"><a href="#L-1108"><span class="linenos">1108</span></a><span class="sd">    Args:</span>
</span><span id="L-1109"><a href="#L-1109"><span class="linenos">1109</span></a><span class="sd">        TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="L-1110"><a href="#L-1110"><span class="linenos">1110</span></a><span class="sd">        HumRatio : Humidity ratio in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]</span>
</span><span id="L-1111"><a href="#L-1111"><span class="linenos">1111</span></a><span class="sd">        Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</span>
</span><span id="L-1112"><a href="#L-1112"><span class="linenos">1112</span></a>
</span><span id="L-1113"><a href="#L-1113"><span class="linenos">1113</span></a><span class="sd">    Returns:</span>
</span><span id="L-1114"><a href="#L-1114"><span class="linenos">1114</span></a><span class="sd">        Vapor pressure deficit in Psi [IP] or Pa [SI]</span>
</span><span id="L-1115"><a href="#L-1115"><span class="linenos">1115</span></a>
</span><span id="L-1116"><a href="#L-1116"><span class="linenos">1116</span></a><span class="sd">    Reference:</span>
</span><span id="L-1117"><a href="#L-1117"><span class="linenos">1117</span></a><span class="sd">        Oke (1987) eqn 2.13a</span>
</span><span id="L-1118"><a href="#L-1118"><span class="linenos">1118</span></a>
</span><span id="L-1119"><a href="#L-1119"><span class="linenos">1119</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1120"><a href="#L-1120"><span class="linenos">1120</span></a>    <span class="k">if</span> <span class="n">HumRatio</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-1121"><a href="#L-1121"><span class="linenos">1121</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Humidity ratio is negative&quot;</span><span class="p">)</span>
</span><span id="L-1122"><a href="#L-1122"><span class="linenos">1122</span></a>
</span><span id="L-1123"><a href="#L-1123"><span class="linenos">1123</span></a>    <span class="n">RelHum</span> <span class="o">=</span> <span class="n">GetRelHumFromHumRatio</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">HumRatio</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="L-1124"><a href="#L-1124"><span class="linenos">1124</span></a>    <span class="n">VaporPressureDeficit</span> <span class="o">=</span> <span class="n">GetSatVapPres</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">RelHum</span><span class="p">)</span>
</span><span id="L-1125"><a href="#L-1125"><span class="linenos">1125</span></a>    <span class="k">return</span> <span class="n">VaporPressureDeficit</span>
</span><span id="L-1126"><a href="#L-1126"><span class="linenos">1126</span></a>
</span><span id="L-1127"><a href="#L-1127"><span class="linenos">1127</span></a><span class="k">def</span> <span class="nf">GetDegreeOfSaturation</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">HumRatio</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="L-1128"><a href="#L-1128"><span class="linenos">1128</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1129"><a href="#L-1129"><span class="linenos">1129</span></a><span class="sd">    Return the degree of saturation (i.e humidity ratio of the air / humidity ratio of the air at saturation</span>
</span><span id="L-1130"><a href="#L-1130"><span class="linenos">1130</span></a><span class="sd">    at the same temperature and pressure) given dry-bulb temperature, humidity ratio, and atmospheric pressure.</span>
</span><span id="L-1131"><a href="#L-1131"><span class="linenos">1131</span></a>
</span><span id="L-1132"><a href="#L-1132"><span class="linenos">1132</span></a><span class="sd">    Args:</span>
</span><span id="L-1133"><a href="#L-1133"><span class="linenos">1133</span></a><span class="sd">        TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="L-1134"><a href="#L-1134"><span class="linenos">1134</span></a><span class="sd">        HumRatio : Humidity ratio in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]</span>
</span><span id="L-1135"><a href="#L-1135"><span class="linenos">1135</span></a><span class="sd">        Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</span>
</span><span id="L-1136"><a href="#L-1136"><span class="linenos">1136</span></a>
</span><span id="L-1137"><a href="#L-1137"><span class="linenos">1137</span></a><span class="sd">    Returns:</span>
</span><span id="L-1138"><a href="#L-1138"><span class="linenos">1138</span></a><span class="sd">        Degree of saturation in arbitrary unit</span>
</span><span id="L-1139"><a href="#L-1139"><span class="linenos">1139</span></a>
</span><span id="L-1140"><a href="#L-1140"><span class="linenos">1140</span></a><span class="sd">    Reference:</span>
</span><span id="L-1141"><a href="#L-1141"><span class="linenos">1141</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2009) ch. 1 eqn 12</span>
</span><span id="L-1142"><a href="#L-1142"><span class="linenos">1142</span></a>
</span><span id="L-1143"><a href="#L-1143"><span class="linenos">1143</span></a><span class="sd">    Notes:</span>
</span><span id="L-1144"><a href="#L-1144"><span class="linenos">1144</span></a><span class="sd">        This definition is absent from the 2017 Handbook. Using 2009 version instead.</span>
</span><span id="L-1145"><a href="#L-1145"><span class="linenos">1145</span></a>
</span><span id="L-1146"><a href="#L-1146"><span class="linenos">1146</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1147"><a href="#L-1147"><span class="linenos">1147</span></a>    <span class="k">if</span> <span class="n">HumRatio</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-1148"><a href="#L-1148"><span class="linenos">1148</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Humidity ratio is negative&quot;</span><span class="p">)</span>
</span><span id="L-1149"><a href="#L-1149"><span class="linenos">1149</span></a>    <span class="n">BoundedHumRatio</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">HumRatio</span><span class="p">,</span> <span class="n">MIN_HUM_RATIO</span><span class="p">)</span>
</span><span id="L-1150"><a href="#L-1150"><span class="linenos">1150</span></a>
</span><span id="L-1151"><a href="#L-1151"><span class="linenos">1151</span></a>    <span class="n">SatHumRatio</span> <span class="o">=</span> <span class="n">GetSatHumRatio</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="L-1152"><a href="#L-1152"><span class="linenos">1152</span></a>    <span class="n">DegreeOfSaturation</span> <span class="o">=</span> <span class="n">BoundedHumRatio</span> <span class="o">/</span> <span class="n">SatHumRatio</span>
</span><span id="L-1153"><a href="#L-1153"><span class="linenos">1153</span></a>    <span class="k">return</span> <span class="n">DegreeOfSaturation</span>
</span><span id="L-1154"><a href="#L-1154"><span class="linenos">1154</span></a>
</span><span id="L-1155"><a href="#L-1155"><span class="linenos">1155</span></a><span class="k">def</span> <span class="nf">GetMoistAirEnthalpy</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">HumRatio</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="L-1156"><a href="#L-1156"><span class="linenos">1156</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1157"><a href="#L-1157"><span class="linenos">1157</span></a><span class="sd">    Return moist air enthalpy given dry-bulb temperature and humidity ratio.</span>
</span><span id="L-1158"><a href="#L-1158"><span class="linenos">1158</span></a>
</span><span id="L-1159"><a href="#L-1159"><span class="linenos">1159</span></a><span class="sd">    Args:</span>
</span><span id="L-1160"><a href="#L-1160"><span class="linenos">1160</span></a><span class="sd">        TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="L-1161"><a href="#L-1161"><span class="linenos">1161</span></a><span class="sd">        HumRatio : Humidity ratio in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]</span>
</span><span id="L-1162"><a href="#L-1162"><span class="linenos">1162</span></a>
</span><span id="L-1163"><a href="#L-1163"><span class="linenos">1163</span></a><span class="sd">    Returns:</span>
</span><span id="L-1164"><a href="#L-1164"><span class="linenos">1164</span></a><span class="sd">        Moist air enthalpy in Btu lb⁻¹ [IP] or J kg⁻¹</span>
</span><span id="L-1165"><a href="#L-1165"><span class="linenos">1165</span></a>
</span><span id="L-1166"><a href="#L-1166"><span class="linenos">1166</span></a><span class="sd">    Reference:</span>
</span><span id="L-1167"><a href="#L-1167"><span class="linenos">1167</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn 30</span>
</span><span id="L-1168"><a href="#L-1168"><span class="linenos">1168</span></a>
</span><span id="L-1169"><a href="#L-1169"><span class="linenos">1169</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1170"><a href="#L-1170"><span class="linenos">1170</span></a>    <span class="k">if</span> <span class="n">HumRatio</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-1171"><a href="#L-1171"><span class="linenos">1171</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Humidity ratio is negative&quot;</span><span class="p">)</span>
</span><span id="L-1172"><a href="#L-1172"><span class="linenos">1172</span></a>    <span class="n">BoundedHumRatio</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">HumRatio</span><span class="p">,</span> <span class="n">MIN_HUM_RATIO</span><span class="p">)</span>
</span><span id="L-1173"><a href="#L-1173"><span class="linenos">1173</span></a>
</span><span id="L-1174"><a href="#L-1174"><span class="linenos">1174</span></a>    <span class="k">if</span> <span class="n">isIP</span><span class="p">():</span>
</span><span id="L-1175"><a href="#L-1175"><span class="linenos">1175</span></a>        <span class="n">MoistAirEnthalpy</span> <span class="o">=</span> <span class="mf">0.240</span> <span class="o">*</span> <span class="n">TDryBulb</span> <span class="o">+</span> <span class="n">BoundedHumRatio</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1061</span> <span class="o">+</span> <span class="mf">0.444</span> <span class="o">*</span> <span class="n">TDryBulb</span><span class="p">)</span>
</span><span id="L-1176"><a href="#L-1176"><span class="linenos">1176</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="L-1177"><a href="#L-1177"><span class="linenos">1177</span></a>        <span class="n">MoistAirEnthalpy</span> <span class="o">=</span> <span class="p">(</span><span class="mf">1.006</span> <span class="o">*</span> <span class="n">TDryBulb</span> <span class="o">+</span> <span class="n">BoundedHumRatio</span> <span class="o">*</span> <span class="p">(</span><span class="mf">2501.</span> <span class="o">+</span> <span class="mf">1.86</span> <span class="o">*</span> <span class="n">TDryBulb</span><span class="p">))</span> <span class="o">*</span> <span class="mi">1000</span>
</span><span id="L-1178"><a href="#L-1178"><span class="linenos">1178</span></a>    <span class="k">return</span> <span class="n">MoistAirEnthalpy</span>
</span><span id="L-1179"><a href="#L-1179"><span class="linenos">1179</span></a>
</span><span id="L-1180"><a href="#L-1180"><span class="linenos">1180</span></a><span class="k">def</span> <span class="nf">GetMoistAirVolume</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">HumRatio</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="L-1181"><a href="#L-1181"><span class="linenos">1181</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1182"><a href="#L-1182"><span class="linenos">1182</span></a><span class="sd">    Return moist air specific volume given dry-bulb temperature, humidity ratio, and pressure.</span>
</span><span id="L-1183"><a href="#L-1183"><span class="linenos">1183</span></a>
</span><span id="L-1184"><a href="#L-1184"><span class="linenos">1184</span></a><span class="sd">    Args:</span>
</span><span id="L-1185"><a href="#L-1185"><span class="linenos">1185</span></a><span class="sd">        TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="L-1186"><a href="#L-1186"><span class="linenos">1186</span></a><span class="sd">        HumRatio : Humidity ratio in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]</span>
</span><span id="L-1187"><a href="#L-1187"><span class="linenos">1187</span></a><span class="sd">        Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</span>
</span><span id="L-1188"><a href="#L-1188"><span class="linenos">1188</span></a>
</span><span id="L-1189"><a href="#L-1189"><span class="linenos">1189</span></a><span class="sd">    Returns:</span>
</span><span id="L-1190"><a href="#L-1190"><span class="linenos">1190</span></a><span class="sd">        Specific volume of moist air in ft³ lb⁻¹ of dry air [IP] or in m³ kg⁻¹ of dry air [SI]</span>
</span><span id="L-1191"><a href="#L-1191"><span class="linenos">1191</span></a>
</span><span id="L-1192"><a href="#L-1192"><span class="linenos">1192</span></a><span class="sd">    Reference:</span>
</span><span id="L-1193"><a href="#L-1193"><span class="linenos">1193</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn 26</span>
</span><span id="L-1194"><a href="#L-1194"><span class="linenos">1194</span></a>
</span><span id="L-1195"><a href="#L-1195"><span class="linenos">1195</span></a><span class="sd">    Notes:</span>
</span><span id="L-1196"><a href="#L-1196"><span class="linenos">1196</span></a><span class="sd">        In IP units, R_DA_IP / 144 equals 0.370486 which is the coefficient appearing in eqn 26</span>
</span><span id="L-1197"><a href="#L-1197"><span class="linenos">1197</span></a><span class="sd">        The factor 144 is for the conversion of Psi = lb in⁻² to lb ft⁻².</span>
</span><span id="L-1198"><a href="#L-1198"><span class="linenos">1198</span></a>
</span><span id="L-1199"><a href="#L-1199"><span class="linenos">1199</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1200"><a href="#L-1200"><span class="linenos">1200</span></a>    <span class="k">if</span> <span class="n">HumRatio</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-1201"><a href="#L-1201"><span class="linenos">1201</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Humidity ratio is negative&quot;</span><span class="p">)</span>
</span><span id="L-1202"><a href="#L-1202"><span class="linenos">1202</span></a>    <span class="n">BoundedHumRatio</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">HumRatio</span><span class="p">,</span> <span class="n">MIN_HUM_RATIO</span><span class="p">)</span>
</span><span id="L-1203"><a href="#L-1203"><span class="linenos">1203</span></a>
</span><span id="L-1204"><a href="#L-1204"><span class="linenos">1204</span></a>    <span class="k">if</span> <span class="n">isIP</span><span class="p">():</span>
</span><span id="L-1205"><a href="#L-1205"><span class="linenos">1205</span></a>        <span class="n">MoistAirVolume</span> <span class="o">=</span> <span class="n">R_DA_IP</span> <span class="o">*</span> <span class="n">GetTRankineFromTFahrenheit</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="mf">1.607858</span> <span class="o">*</span> <span class="n">BoundedHumRatio</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mi">144</span> <span class="o">*</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="L-1206"><a href="#L-1206"><span class="linenos">1206</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="L-1207"><a href="#L-1207"><span class="linenos">1207</span></a>        <span class="n">MoistAirVolume</span> <span class="o">=</span> <span class="n">R_DA_SI</span> <span class="o">*</span> <span class="n">GetTKelvinFromTCelsius</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="mf">1.607858</span> <span class="o">*</span> <span class="n">BoundedHumRatio</span><span class="p">)</span> <span class="o">/</span> <span class="n">Pressure</span>
</span><span id="L-1208"><a href="#L-1208"><span class="linenos">1208</span></a>    <span class="k">return</span> <span class="n">MoistAirVolume</span>
</span><span id="L-1209"><a href="#L-1209"><span class="linenos">1209</span></a>
</span><span id="L-1210"><a href="#L-1210"><span class="linenos">1210</span></a><span class="k">def</span> <span class="nf">GetTDryBulbFromMoistAirVolumeAndHumRatio</span><span class="p">(</span><span class="n">MoistAirVolume</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">HumRatio</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="L-1211"><a href="#L-1211"><span class="linenos">1211</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1212"><a href="#L-1212"><span class="linenos">1212</span></a><span class="sd">    Return dry-bulb temperature given moist air specific volume, humidity ratio, and pressure.</span>
</span><span id="L-1213"><a href="#L-1213"><span class="linenos">1213</span></a>
</span><span id="L-1214"><a href="#L-1214"><span class="linenos">1214</span></a><span class="sd">    Args:</span>
</span><span id="L-1215"><a href="#L-1215"><span class="linenos">1215</span></a><span class="sd">        MoistAirVolume: Specific volume of moist air in ft³ lb⁻¹ of dry air [IP] or in m³ kg⁻¹ of dry air [SI]</span>
</span><span id="L-1216"><a href="#L-1216"><span class="linenos">1216</span></a><span class="sd">        HumRatio : Humidity ratio in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]</span>
</span><span id="L-1217"><a href="#L-1217"><span class="linenos">1217</span></a><span class="sd">        Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</span>
</span><span id="L-1218"><a href="#L-1218"><span class="linenos">1218</span></a>
</span><span id="L-1219"><a href="#L-1219"><span class="linenos">1219</span></a><span class="sd">    Returns:</span>
</span><span id="L-1220"><a href="#L-1220"><span class="linenos">1220</span></a><span class="sd">        TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="L-1221"><a href="#L-1221"><span class="linenos">1221</span></a>
</span><span id="L-1222"><a href="#L-1222"><span class="linenos">1222</span></a><span class="sd">    Reference:</span>
</span><span id="L-1223"><a href="#L-1223"><span class="linenos">1223</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn 26</span>
</span><span id="L-1224"><a href="#L-1224"><span class="linenos">1224</span></a>
</span><span id="L-1225"><a href="#L-1225"><span class="linenos">1225</span></a><span class="sd">    Notes:</span>
</span><span id="L-1226"><a href="#L-1226"><span class="linenos">1226</span></a><span class="sd">        In IP units, R_DA_IP / 144 equals 0.370486 which is the coefficient appearing in eqn 26</span>
</span><span id="L-1227"><a href="#L-1227"><span class="linenos">1227</span></a><span class="sd">        The factor 144 is for the conversion of Psi = lb in⁻² to lb ft⁻².</span>
</span><span id="L-1228"><a href="#L-1228"><span class="linenos">1228</span></a><span class="sd">        Based on the `GetMoistAirVolume` function, rearranged for dry-bulb temperature.</span>
</span><span id="L-1229"><a href="#L-1229"><span class="linenos">1229</span></a>
</span><span id="L-1230"><a href="#L-1230"><span class="linenos">1230</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1231"><a href="#L-1231"><span class="linenos">1231</span></a>    <span class="k">if</span> <span class="n">HumRatio</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-1232"><a href="#L-1232"><span class="linenos">1232</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Humidity ratio is negative&quot;</span><span class="p">)</span>
</span><span id="L-1233"><a href="#L-1233"><span class="linenos">1233</span></a>    <span class="n">BoundedHumRatio</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">HumRatio</span><span class="p">,</span> <span class="n">MIN_HUM_RATIO</span><span class="p">)</span>
</span><span id="L-1234"><a href="#L-1234"><span class="linenos">1234</span></a>
</span><span id="L-1235"><a href="#L-1235"><span class="linenos">1235</span></a>    <span class="k">if</span> <span class="n">isIP</span><span class="p">():</span>
</span><span id="L-1236"><a href="#L-1236"><span class="linenos">1236</span></a>        <span class="n">TDryBulb</span> <span class="o">=</span> <span class="n">GetTFahrenheitFromTRankine</span><span class="p">(</span><span class="n">MoistAirVolume</span> <span class="o">*</span> <span class="p">(</span><span class="mi">144</span> <span class="o">*</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="L-1237"><a href="#L-1237"><span class="linenos">1237</span></a>                        <span class="o">/</span> <span class="p">(</span><span class="n">R_DA_IP</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="mf">1.607858</span> <span class="o">*</span> <span class="n">BoundedHumRatio</span><span class="p">)))</span>
</span><span id="L-1238"><a href="#L-1238"><span class="linenos">1238</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="L-1239"><a href="#L-1239"><span class="linenos">1239</span></a>        <span class="n">TDryBulb</span> <span class="o">=</span> <span class="n">GetTCelsiusFromTKelvin</span><span class="p">(</span><span class="n">MoistAirVolume</span> <span class="o">*</span> <span class="n">Pressure</span>
</span><span id="L-1240"><a href="#L-1240"><span class="linenos">1240</span></a>                        <span class="o">/</span> <span class="p">(</span><span class="n">R_DA_SI</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="mf">1.607858</span> <span class="o">*</span> <span class="n">BoundedHumRatio</span><span class="p">)))</span>
</span><span id="L-1241"><a href="#L-1241"><span class="linenos">1241</span></a>    <span class="k">return</span> <span class="n">TDryBulb</span>
</span><span id="L-1242"><a href="#L-1242"><span class="linenos">1242</span></a>
</span><span id="L-1243"><a href="#L-1243"><span class="linenos">1243</span></a><span class="k">def</span> <span class="nf">GetMoistAirDensity</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">HumRatio</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">:</span><span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="L-1244"><a href="#L-1244"><span class="linenos">1244</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1245"><a href="#L-1245"><span class="linenos">1245</span></a><span class="sd">    Return moist air density given humidity ratio, dry bulb temperature, and pressure.</span>
</span><span id="L-1246"><a href="#L-1246"><span class="linenos">1246</span></a>
</span><span id="L-1247"><a href="#L-1247"><span class="linenos">1247</span></a><span class="sd">    Args:</span>
</span><span id="L-1248"><a href="#L-1248"><span class="linenos">1248</span></a><span class="sd">        TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="L-1249"><a href="#L-1249"><span class="linenos">1249</span></a><span class="sd">        HumRatio : Humidity ratio in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]</span>
</span><span id="L-1250"><a href="#L-1250"><span class="linenos">1250</span></a><span class="sd">        Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</span>
</span><span id="L-1251"><a href="#L-1251"><span class="linenos">1251</span></a>
</span><span id="L-1252"><a href="#L-1252"><span class="linenos">1252</span></a><span class="sd">    Returns:</span>
</span><span id="L-1253"><a href="#L-1253"><span class="linenos">1253</span></a><span class="sd">        MoistAirDensity: Moist air density in lb ft⁻³ [IP] or kg m⁻³ [SI]</span>
</span><span id="L-1254"><a href="#L-1254"><span class="linenos">1254</span></a>
</span><span id="L-1255"><a href="#L-1255"><span class="linenos">1255</span></a><span class="sd">    Reference:</span>
</span><span id="L-1256"><a href="#L-1256"><span class="linenos">1256</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn 11</span>
</span><span id="L-1257"><a href="#L-1257"><span class="linenos">1257</span></a>
</span><span id="L-1258"><a href="#L-1258"><span class="linenos">1258</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1259"><a href="#L-1259"><span class="linenos">1259</span></a>    <span class="k">if</span> <span class="n">HumRatio</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="L-1260"><a href="#L-1260"><span class="linenos">1260</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Humidity ratio is negative&quot;</span><span class="p">)</span>
</span><span id="L-1261"><a href="#L-1261"><span class="linenos">1261</span></a>    <span class="n">BoundedHumRatio</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">HumRatio</span><span class="p">,</span> <span class="n">MIN_HUM_RATIO</span><span class="p">)</span>
</span><span id="L-1262"><a href="#L-1262"><span class="linenos">1262</span></a>
</span><span id="L-1263"><a href="#L-1263"><span class="linenos">1263</span></a>    <span class="n">MoistAirVolume</span> <span class="o">=</span> <span class="n">GetMoistAirVolume</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">BoundedHumRatio</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="L-1264"><a href="#L-1264"><span class="linenos">1264</span></a>    <span class="n">MoistAirDensity</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">BoundedHumRatio</span><span class="p">)</span> <span class="o">/</span> <span class="n">MoistAirVolume</span>
</span><span id="L-1265"><a href="#L-1265"><span class="linenos">1265</span></a>    <span class="k">return</span> <span class="n">MoistAirDensity</span>
</span><span id="L-1266"><a href="#L-1266"><span class="linenos">1266</span></a>
</span><span id="L-1267"><a href="#L-1267"><span class="linenos">1267</span></a>
</span><span id="L-1268"><a href="#L-1268"><span class="linenos">1268</span></a><span class="c1">#######################################################################################################</span>
</span><span id="L-1269"><a href="#L-1269"><span class="linenos">1269</span></a><span class="c1"># Standard atmosphere</span>
</span><span id="L-1270"><a href="#L-1270"><span class="linenos">1270</span></a><span class="c1">#######################################################################################################</span>
</span><span id="L-1271"><a href="#L-1271"><span class="linenos">1271</span></a>
</span><span id="L-1272"><a href="#L-1272"><span class="linenos">1272</span></a><span class="k">def</span> <span class="nf">GetStandardAtmPressure</span><span class="p">(</span><span class="n">Altitude</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="L-1273"><a href="#L-1273"><span class="linenos">1273</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1274"><a href="#L-1274"><span class="linenos">1274</span></a><span class="sd">    Return standard atmosphere barometric pressure, given the elevation (altitude).</span>
</span><span id="L-1275"><a href="#L-1275"><span class="linenos">1275</span></a>
</span><span id="L-1276"><a href="#L-1276"><span class="linenos">1276</span></a><span class="sd">    Args:</span>
</span><span id="L-1277"><a href="#L-1277"><span class="linenos">1277</span></a><span class="sd">        Altitude: Altitude in ft [IP] or m [SI]</span>
</span><span id="L-1278"><a href="#L-1278"><span class="linenos">1278</span></a>
</span><span id="L-1279"><a href="#L-1279"><span class="linenos">1279</span></a><span class="sd">    Returns:</span>
</span><span id="L-1280"><a href="#L-1280"><span class="linenos">1280</span></a><span class="sd">        Standard atmosphere barometric pressure in Psi [IP] or Pa [SI]</span>
</span><span id="L-1281"><a href="#L-1281"><span class="linenos">1281</span></a>
</span><span id="L-1282"><a href="#L-1282"><span class="linenos">1282</span></a><span class="sd">    Reference:</span>
</span><span id="L-1283"><a href="#L-1283"><span class="linenos">1283</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn 3</span>
</span><span id="L-1284"><a href="#L-1284"><span class="linenos">1284</span></a>
</span><span id="L-1285"><a href="#L-1285"><span class="linenos">1285</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1286"><a href="#L-1286"><span class="linenos">1286</span></a>
</span><span id="L-1287"><a href="#L-1287"><span class="linenos">1287</span></a>    <span class="k">if</span> <span class="n">isIP</span><span class="p">():</span>
</span><span id="L-1288"><a href="#L-1288"><span class="linenos">1288</span></a>        <span class="n">StandardAtmPressure</span> <span class="o">=</span> <span class="mf">14.696</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="mf">6.8754e-06</span> <span class="o">*</span> <span class="n">Altitude</span><span class="p">,</span> <span class="mf">5.2559</span><span class="p">)</span>
</span><span id="L-1289"><a href="#L-1289"><span class="linenos">1289</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="L-1290"><a href="#L-1290"><span class="linenos">1290</span></a>        <span class="n">StandardAtmPressure</span> <span class="o">=</span> <span class="mi">101325</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="mf">2.25577e-05</span> <span class="o">*</span> <span class="n">Altitude</span><span class="p">,</span> <span class="mf">5.2559</span><span class="p">)</span>
</span><span id="L-1291"><a href="#L-1291"><span class="linenos">1291</span></a>    <span class="k">return</span> <span class="n">StandardAtmPressure</span>
</span><span id="L-1292"><a href="#L-1292"><span class="linenos">1292</span></a>
</span><span id="L-1293"><a href="#L-1293"><span class="linenos">1293</span></a><span class="k">def</span> <span class="nf">GetStandardAtmTemperature</span><span class="p">(</span><span class="n">Altitude</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="L-1294"><a href="#L-1294"><span class="linenos">1294</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1295"><a href="#L-1295"><span class="linenos">1295</span></a><span class="sd">    Return standard atmosphere temperature, given the elevation (altitude).</span>
</span><span id="L-1296"><a href="#L-1296"><span class="linenos">1296</span></a>
</span><span id="L-1297"><a href="#L-1297"><span class="linenos">1297</span></a><span class="sd">    Args:</span>
</span><span id="L-1298"><a href="#L-1298"><span class="linenos">1298</span></a><span class="sd">        Altitude: Altitude in ft [IP] or m [SI]</span>
</span><span id="L-1299"><a href="#L-1299"><span class="linenos">1299</span></a>
</span><span id="L-1300"><a href="#L-1300"><span class="linenos">1300</span></a><span class="sd">    Returns:</span>
</span><span id="L-1301"><a href="#L-1301"><span class="linenos">1301</span></a><span class="sd">        Standard atmosphere dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="L-1302"><a href="#L-1302"><span class="linenos">1302</span></a>
</span><span id="L-1303"><a href="#L-1303"><span class="linenos">1303</span></a><span class="sd">    Reference:</span>
</span><span id="L-1304"><a href="#L-1304"><span class="linenos">1304</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn 4</span>
</span><span id="L-1305"><a href="#L-1305"><span class="linenos">1305</span></a>
</span><span id="L-1306"><a href="#L-1306"><span class="linenos">1306</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1307"><a href="#L-1307"><span class="linenos">1307</span></a>    <span class="k">if</span> <span class="n">isIP</span><span class="p">():</span>
</span><span id="L-1308"><a href="#L-1308"><span class="linenos">1308</span></a>        <span class="n">StandardAtmTemperature</span> <span class="o">=</span> <span class="mi">59</span> <span class="o">-</span> <span class="mf">0.00356620</span> <span class="o">*</span> <span class="n">Altitude</span>
</span><span id="L-1309"><a href="#L-1309"><span class="linenos">1309</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="L-1310"><a href="#L-1310"><span class="linenos">1310</span></a>        <span class="n">StandardAtmTemperature</span> <span class="o">=</span> <span class="mi">15</span> <span class="o">-</span> <span class="mf">0.0065</span> <span class="o">*</span> <span class="n">Altitude</span>
</span><span id="L-1311"><a href="#L-1311"><span class="linenos">1311</span></a>    <span class="k">return</span> <span class="n">StandardAtmTemperature</span>
</span><span id="L-1312"><a href="#L-1312"><span class="linenos">1312</span></a>
</span><span id="L-1313"><a href="#L-1313"><span class="linenos">1313</span></a><span class="k">def</span> <span class="nf">GetSeaLevelPressure</span><span class="p">(</span><span class="n">StationPressure</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">Altitude</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="L-1314"><a href="#L-1314"><span class="linenos">1314</span></a>
</span><span id="L-1315"><a href="#L-1315"><span class="linenos">1315</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1316"><a href="#L-1316"><span class="linenos">1316</span></a><span class="sd">    Return sea level pressure given dry-bulb temperature, altitude above sea level and pressure.</span>
</span><span id="L-1317"><a href="#L-1317"><span class="linenos">1317</span></a>
</span><span id="L-1318"><a href="#L-1318"><span class="linenos">1318</span></a><span class="sd">    Args:</span>
</span><span id="L-1319"><a href="#L-1319"><span class="linenos">1319</span></a><span class="sd">        StationPressure : Observed station pressure in Psi [IP] or Pa [SI]</span>
</span><span id="L-1320"><a href="#L-1320"><span class="linenos">1320</span></a><span class="sd">        Altitude: Altitude in ft [IP] or m [SI]</span>
</span><span id="L-1321"><a href="#L-1321"><span class="linenos">1321</span></a><span class="sd">        TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="L-1322"><a href="#L-1322"><span class="linenos">1322</span></a>
</span><span id="L-1323"><a href="#L-1323"><span class="linenos">1323</span></a><span class="sd">    Returns:</span>
</span><span id="L-1324"><a href="#L-1324"><span class="linenos">1324</span></a><span class="sd">        Sea level barometric pressure in Psi [IP] or Pa [SI]</span>
</span><span id="L-1325"><a href="#L-1325"><span class="linenos">1325</span></a>
</span><span id="L-1326"><a href="#L-1326"><span class="linenos">1326</span></a><span class="sd">    Reference:</span>
</span><span id="L-1327"><a href="#L-1327"><span class="linenos">1327</span></a><span class="sd">        Hess SL, Introduction to theoretical meteorology, Holt Rinehart and Winston, NY 1959,</span>
</span><span id="L-1328"><a href="#L-1328"><span class="linenos">1328</span></a><span class="sd">        ch. 6.5; Stull RB, Meteorology for scientists and engineers, 2nd edition,</span>
</span><span id="L-1329"><a href="#L-1329"><span class="linenos">1329</span></a><span class="sd">        Brooks/Cole 2000, ch. 1.</span>
</span><span id="L-1330"><a href="#L-1330"><span class="linenos">1330</span></a>
</span><span id="L-1331"><a href="#L-1331"><span class="linenos">1331</span></a><span class="sd">    Notes:</span>
</span><span id="L-1332"><a href="#L-1332"><span class="linenos">1332</span></a><span class="sd">        The standard procedure for the US is to use for TDryBulb the average</span>
</span><span id="L-1333"><a href="#L-1333"><span class="linenos">1333</span></a><span class="sd">        of the current station temperature and the station temperature from 12 hours ago.</span>
</span><span id="L-1334"><a href="#L-1334"><span class="linenos">1334</span></a>
</span><span id="L-1335"><a href="#L-1335"><span class="linenos">1335</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1336"><a href="#L-1336"><span class="linenos">1336</span></a>    <span class="k">if</span> <span class="n">isIP</span><span class="p">():</span>
</span><span id="L-1337"><a href="#L-1337"><span class="linenos">1337</span></a>        <span class="c1"># Calculate average temperature in column of air, assuming a lapse rate</span>
</span><span id="L-1338"><a href="#L-1338"><span class="linenos">1338</span></a>        <span class="c1"># of 3.6 °F/1000ft</span>
</span><span id="L-1339"><a href="#L-1339"><span class="linenos">1339</span></a>        <span class="n">TColumn</span> <span class="o">=</span> <span class="n">TDryBulb</span> <span class="o">+</span> <span class="mf">0.0036</span> <span class="o">*</span> <span class="n">Altitude</span> <span class="o">/</span> <span class="mi">2</span>
</span><span id="L-1340"><a href="#L-1340"><span class="linenos">1340</span></a>
</span><span id="L-1341"><a href="#L-1341"><span class="linenos">1341</span></a>        <span class="c1"># Determine the scale height</span>
</span><span id="L-1342"><a href="#L-1342"><span class="linenos">1342</span></a>        <span class="n">H</span> <span class="o">=</span> <span class="mf">53.351</span> <span class="o">*</span> <span class="n">GetTRankineFromTFahrenheit</span><span class="p">(</span><span class="n">TColumn</span><span class="p">)</span>
</span><span id="L-1343"><a href="#L-1343"><span class="linenos">1343</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="L-1344"><a href="#L-1344"><span class="linenos">1344</span></a>        <span class="c1"># Calculate average temperature in column of air, assuming a lapse rate</span>
</span><span id="L-1345"><a href="#L-1345"><span class="linenos">1345</span></a>        <span class="c1"># of 6.5 °C/km</span>
</span><span id="L-1346"><a href="#L-1346"><span class="linenos">1346</span></a>        <span class="n">TColumn</span> <span class="o">=</span> <span class="n">TDryBulb</span> <span class="o">+</span> <span class="mf">0.0065</span> <span class="o">*</span> <span class="n">Altitude</span> <span class="o">/</span> <span class="mi">2</span>
</span><span id="L-1347"><a href="#L-1347"><span class="linenos">1347</span></a>
</span><span id="L-1348"><a href="#L-1348"><span class="linenos">1348</span></a>        <span class="c1"># Determine the scale height</span>
</span><span id="L-1349"><a href="#L-1349"><span class="linenos">1349</span></a>        <span class="n">H</span> <span class="o">=</span> <span class="mf">287.055</span> <span class="o">*</span> <span class="n">GetTKelvinFromTCelsius</span><span class="p">(</span><span class="n">TColumn</span><span class="p">)</span> <span class="o">/</span> <span class="mf">9.807</span>
</span><span id="L-1350"><a href="#L-1350"><span class="linenos">1350</span></a>
</span><span id="L-1351"><a href="#L-1351"><span class="linenos">1351</span></a>    <span class="c1"># Calculate the sea level pressure</span>
</span><span id="L-1352"><a href="#L-1352"><span class="linenos">1352</span></a>    <span class="n">SeaLevelPressure</span> <span class="o">=</span> <span class="n">StationPressure</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">Altitude</span> <span class="o">/</span> <span class="n">H</span><span class="p">)</span>
</span><span id="L-1353"><a href="#L-1353"><span class="linenos">1353</span></a>    <span class="k">return</span> <span class="n">SeaLevelPressure</span>
</span><span id="L-1354"><a href="#L-1354"><span class="linenos">1354</span></a>
</span><span id="L-1355"><a href="#L-1355"><span class="linenos">1355</span></a><span class="k">def</span> <span class="nf">GetStationPressure</span><span class="p">(</span><span class="n">SeaLevelPressure</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">Altitude</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="L-1356"><a href="#L-1356"><span class="linenos">1356</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1357"><a href="#L-1357"><span class="linenos">1357</span></a><span class="sd">    Return station pressure from sea level pressure.</span>
</span><span id="L-1358"><a href="#L-1358"><span class="linenos">1358</span></a>
</span><span id="L-1359"><a href="#L-1359"><span class="linenos">1359</span></a><span class="sd">    Args:</span>
</span><span id="L-1360"><a href="#L-1360"><span class="linenos">1360</span></a><span class="sd">        SeaLevelPressure : Sea level barometric pressure in Psi [IP] or Pa [SI]</span>
</span><span id="L-1361"><a href="#L-1361"><span class="linenos">1361</span></a><span class="sd">        Altitude: Altitude in ft [IP] or m [SI]</span>
</span><span id="L-1362"><a href="#L-1362"><span class="linenos">1362</span></a><span class="sd">        TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="L-1363"><a href="#L-1363"><span class="linenos">1363</span></a>
</span><span id="L-1364"><a href="#L-1364"><span class="linenos">1364</span></a><span class="sd">    Returns:</span>
</span><span id="L-1365"><a href="#L-1365"><span class="linenos">1365</span></a><span class="sd">        Station pressure in Psi [IP] or Pa [SI]</span>
</span><span id="L-1366"><a href="#L-1366"><span class="linenos">1366</span></a>
</span><span id="L-1367"><a href="#L-1367"><span class="linenos">1367</span></a><span class="sd">    Reference:</span>
</span><span id="L-1368"><a href="#L-1368"><span class="linenos">1368</span></a><span class="sd">        See &#39;GetSeaLevelPressure&#39;</span>
</span><span id="L-1369"><a href="#L-1369"><span class="linenos">1369</span></a>
</span><span id="L-1370"><a href="#L-1370"><span class="linenos">1370</span></a><span class="sd">    Notes:</span>
</span><span id="L-1371"><a href="#L-1371"><span class="linenos">1371</span></a><span class="sd">        This function is just the inverse of &#39;GetSeaLevelPressure&#39;.</span>
</span><span id="L-1372"><a href="#L-1372"><span class="linenos">1372</span></a>
</span><span id="L-1373"><a href="#L-1373"><span class="linenos">1373</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1374"><a href="#L-1374"><span class="linenos">1374</span></a>    <span class="n">StationPressure</span> <span class="o">=</span> <span class="n">SeaLevelPressure</span> <span class="o">/</span> <span class="n">GetSeaLevelPressure</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">Altitude</span><span class="p">,</span> <span class="n">TDryBulb</span><span class="p">)</span>
</span><span id="L-1375"><a href="#L-1375"><span class="linenos">1375</span></a>    <span class="k">return</span> <span class="n">StationPressure</span>
</span><span id="L-1376"><a href="#L-1376"><span class="linenos">1376</span></a>
</span><span id="L-1377"><a href="#L-1377"><span class="linenos">1377</span></a>
</span><span id="L-1378"><a href="#L-1378"><span class="linenos">1378</span></a><span class="c1">######################################################################################################</span>
</span><span id="L-1379"><a href="#L-1379"><span class="linenos">1379</span></a><span class="c1"># Functions to set all psychrometric values</span>
</span><span id="L-1380"><a href="#L-1380"><span class="linenos">1380</span></a><span class="c1">#######################################################################################################</span>
</span><span id="L-1381"><a href="#L-1381"><span class="linenos">1381</span></a>
</span><span id="L-1382"><a href="#L-1382"><span class="linenos">1382</span></a><span class="k">def</span> <span class="nf">CalcPsychrometricsFromTWetBulb</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">TWetBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">:</span>
</span><span id="L-1383"><a href="#L-1383"><span class="linenos">1383</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1384"><a href="#L-1384"><span class="linenos">1384</span></a><span class="sd">    Utility function to calculate humidity ratio, dew-point temperature, relative humidity,</span>
</span><span id="L-1385"><a href="#L-1385"><span class="linenos">1385</span></a><span class="sd">    vapour pressure, moist air enthalpy, moist air volume, and degree of saturation of air given</span>
</span><span id="L-1386"><a href="#L-1386"><span class="linenos">1386</span></a><span class="sd">    dry-bulb temperature, wet-bulb temperature, and pressure.</span>
</span><span id="L-1387"><a href="#L-1387"><span class="linenos">1387</span></a>
</span><span id="L-1388"><a href="#L-1388"><span class="linenos">1388</span></a><span class="sd">    Args:</span>
</span><span id="L-1389"><a href="#L-1389"><span class="linenos">1389</span></a><span class="sd">        TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="L-1390"><a href="#L-1390"><span class="linenos">1390</span></a><span class="sd">        TWetBulb : Wet-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="L-1391"><a href="#L-1391"><span class="linenos">1391</span></a><span class="sd">        Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</span>
</span><span id="L-1392"><a href="#L-1392"><span class="linenos">1392</span></a>
</span><span id="L-1393"><a href="#L-1393"><span class="linenos">1393</span></a><span class="sd">    Returns:</span>
</span><span id="L-1394"><a href="#L-1394"><span class="linenos">1394</span></a><span class="sd">        Humidity ratio in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]</span>
</span><span id="L-1395"><a href="#L-1395"><span class="linenos">1395</span></a><span class="sd">        Dew-point temperature in °F [IP] or °C [SI]</span>
</span><span id="L-1396"><a href="#L-1396"><span class="linenos">1396</span></a><span class="sd">        Relative humidity in range [0, 1]</span>
</span><span id="L-1397"><a href="#L-1397"><span class="linenos">1397</span></a><span class="sd">        Partial pressure of water vapor in moist air in Psi [IP] or Pa [SI]</span>
</span><span id="L-1398"><a href="#L-1398"><span class="linenos">1398</span></a><span class="sd">        Moist air enthalpy in Btu lb⁻¹ [IP] or J kg⁻¹ [SI]</span>
</span><span id="L-1399"><a href="#L-1399"><span class="linenos">1399</span></a><span class="sd">        Specific volume of moist air in ft³ lb⁻¹ [IP] or in m³ kg⁻¹ [SI]</span>
</span><span id="L-1400"><a href="#L-1400"><span class="linenos">1400</span></a><span class="sd">        Degree of saturation [unitless]</span>
</span><span id="L-1401"><a href="#L-1401"><span class="linenos">1401</span></a>
</span><span id="L-1402"><a href="#L-1402"><span class="linenos">1402</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1403"><a href="#L-1403"><span class="linenos">1403</span></a>    <span class="n">HumRatio</span> <span class="o">=</span> <span class="n">GetHumRatioFromTWetBulb</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">TWetBulb</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="L-1404"><a href="#L-1404"><span class="linenos">1404</span></a>    <span class="n">TDewPoint</span> <span class="o">=</span> <span class="n">GetTDewPointFromHumRatio</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">HumRatio</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="L-1405"><a href="#L-1405"><span class="linenos">1405</span></a>    <span class="n">RelHum</span> <span class="o">=</span> <span class="n">GetRelHumFromHumRatio</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">HumRatio</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="L-1406"><a href="#L-1406"><span class="linenos">1406</span></a>    <span class="n">VapPres</span> <span class="o">=</span> <span class="n">GetVapPresFromHumRatio</span><span class="p">(</span><span class="n">HumRatio</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="L-1407"><a href="#L-1407"><span class="linenos">1407</span></a>    <span class="n">MoistAirEnthalpy</span> <span class="o">=</span> <span class="n">GetMoistAirEnthalpy</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">HumRatio</span><span class="p">)</span>
</span><span id="L-1408"><a href="#L-1408"><span class="linenos">1408</span></a>    <span class="n">MoistAirVolume</span> <span class="o">=</span> <span class="n">GetMoistAirVolume</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">HumRatio</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="L-1409"><a href="#L-1409"><span class="linenos">1409</span></a>    <span class="n">DegreeOfSaturation</span> <span class="o">=</span> <span class="n">GetDegreeOfSaturation</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">HumRatio</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="L-1410"><a href="#L-1410"><span class="linenos">1410</span></a>    <span class="k">return</span> <span class="n">HumRatio</span><span class="p">,</span> <span class="n">TDewPoint</span><span class="p">,</span> <span class="n">RelHum</span><span class="p">,</span> <span class="n">VapPres</span><span class="p">,</span> <span class="n">MoistAirEnthalpy</span><span class="p">,</span> <span class="n">MoistAirVolume</span><span class="p">,</span> <span class="n">DegreeOfSaturation</span>
</span><span id="L-1411"><a href="#L-1411"><span class="linenos">1411</span></a>
</span><span id="L-1412"><a href="#L-1412"><span class="linenos">1412</span></a><span class="k">def</span> <span class="nf">CalcPsychrometricsFromTDewPoint</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">TDewPoint</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">:</span>
</span><span id="L-1413"><a href="#L-1413"><span class="linenos">1413</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1414"><a href="#L-1414"><span class="linenos">1414</span></a><span class="sd">    Utility function to calculate humidity ratio, wet-bulb temperature, relative humidity,</span>
</span><span id="L-1415"><a href="#L-1415"><span class="linenos">1415</span></a><span class="sd">    vapour pressure, moist air enthalpy, moist air volume, and degree of saturation of air given</span>
</span><span id="L-1416"><a href="#L-1416"><span class="linenos">1416</span></a><span class="sd">    dry-bulb temperature, dew-point temperature, and pressure.</span>
</span><span id="L-1417"><a href="#L-1417"><span class="linenos">1417</span></a>
</span><span id="L-1418"><a href="#L-1418"><span class="linenos">1418</span></a><span class="sd">    Args:</span>
</span><span id="L-1419"><a href="#L-1419"><span class="linenos">1419</span></a><span class="sd">        TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="L-1420"><a href="#L-1420"><span class="linenos">1420</span></a><span class="sd">        TDewPoint : Dew-point temperature in °F [IP] or °C [SI]</span>
</span><span id="L-1421"><a href="#L-1421"><span class="linenos">1421</span></a><span class="sd">        Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</span>
</span><span id="L-1422"><a href="#L-1422"><span class="linenos">1422</span></a>
</span><span id="L-1423"><a href="#L-1423"><span class="linenos">1423</span></a><span class="sd">    Returns:</span>
</span><span id="L-1424"><a href="#L-1424"><span class="linenos">1424</span></a><span class="sd">        Humidity ratio in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]</span>
</span><span id="L-1425"><a href="#L-1425"><span class="linenos">1425</span></a><span class="sd">        Wet-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="L-1426"><a href="#L-1426"><span class="linenos">1426</span></a><span class="sd">        Relative humidity in range [0, 1]</span>
</span><span id="L-1427"><a href="#L-1427"><span class="linenos">1427</span></a><span class="sd">        Partial pressure of water vapor in moist air in Psi [IP] or Pa [SI]</span>
</span><span id="L-1428"><a href="#L-1428"><span class="linenos">1428</span></a><span class="sd">        Moist air enthalpy in Btu lb⁻¹ [IP] or J kg⁻¹ [SI]</span>
</span><span id="L-1429"><a href="#L-1429"><span class="linenos">1429</span></a><span class="sd">        Specific volume of moist air in ft³ lb⁻¹ [IP] or in m³ kg⁻¹ [SI]</span>
</span><span id="L-1430"><a href="#L-1430"><span class="linenos">1430</span></a><span class="sd">        Degree of saturation [unitless]</span>
</span><span id="L-1431"><a href="#L-1431"><span class="linenos">1431</span></a>
</span><span id="L-1432"><a href="#L-1432"><span class="linenos">1432</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1433"><a href="#L-1433"><span class="linenos">1433</span></a>    <span class="n">HumRatio</span> <span class="o">=</span> <span class="n">GetHumRatioFromTDewPoint</span><span class="p">(</span><span class="n">TDewPoint</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="L-1434"><a href="#L-1434"><span class="linenos">1434</span></a>    <span class="n">TWetBulb</span> <span class="o">=</span> <span class="n">GetTWetBulbFromHumRatio</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">HumRatio</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="L-1435"><a href="#L-1435"><span class="linenos">1435</span></a>    <span class="n">RelHum</span> <span class="o">=</span> <span class="n">GetRelHumFromHumRatio</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">HumRatio</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="L-1436"><a href="#L-1436"><span class="linenos">1436</span></a>    <span class="n">VapPres</span> <span class="o">=</span> <span class="n">GetVapPresFromHumRatio</span><span class="p">(</span><span class="n">HumRatio</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="L-1437"><a href="#L-1437"><span class="linenos">1437</span></a>    <span class="n">MoistAirEnthalpy</span> <span class="o">=</span> <span class="n">GetMoistAirEnthalpy</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">HumRatio</span><span class="p">)</span>
</span><span id="L-1438"><a href="#L-1438"><span class="linenos">1438</span></a>    <span class="n">MoistAirVolume</span> <span class="o">=</span> <span class="n">GetMoistAirVolume</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">HumRatio</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="L-1439"><a href="#L-1439"><span class="linenos">1439</span></a>    <span class="n">DegreeOfSaturation</span> <span class="o">=</span> <span class="n">GetDegreeOfSaturation</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">HumRatio</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="L-1440"><a href="#L-1440"><span class="linenos">1440</span></a>    <span class="k">return</span> <span class="n">HumRatio</span><span class="p">,</span> <span class="n">TWetBulb</span><span class="p">,</span> <span class="n">RelHum</span><span class="p">,</span> <span class="n">VapPres</span><span class="p">,</span> <span class="n">MoistAirEnthalpy</span><span class="p">,</span> <span class="n">MoistAirVolume</span><span class="p">,</span> <span class="n">DegreeOfSaturation</span>
</span><span id="L-1441"><a href="#L-1441"><span class="linenos">1441</span></a>
</span><span id="L-1442"><a href="#L-1442"><span class="linenos">1442</span></a><span class="k">def</span> <span class="nf">CalcPsychrometricsFromRelHum</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">RelHum</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">:</span>
</span><span id="L-1443"><a href="#L-1443"><span class="linenos">1443</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-1444"><a href="#L-1444"><span class="linenos">1444</span></a><span class="sd">    Utility function to calculate humidity ratio, wet-bulb temperature, dew-point temperature,</span>
</span><span id="L-1445"><a href="#L-1445"><span class="linenos">1445</span></a><span class="sd">    vapour pressure, moist air enthalpy, moist air volume, and degree of saturation of air given</span>
</span><span id="L-1446"><a href="#L-1446"><span class="linenos">1446</span></a><span class="sd">    dry-bulb temperature, relative humidity and pressure.</span>
</span><span id="L-1447"><a href="#L-1447"><span class="linenos">1447</span></a>
</span><span id="L-1448"><a href="#L-1448"><span class="linenos">1448</span></a><span class="sd">    Args:</span>
</span><span id="L-1449"><a href="#L-1449"><span class="linenos">1449</span></a><span class="sd">        TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="L-1450"><a href="#L-1450"><span class="linenos">1450</span></a><span class="sd">        RelHum : Relative humidity in range [0, 1]</span>
</span><span id="L-1451"><a href="#L-1451"><span class="linenos">1451</span></a><span class="sd">        Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</span>
</span><span id="L-1452"><a href="#L-1452"><span class="linenos">1452</span></a>
</span><span id="L-1453"><a href="#L-1453"><span class="linenos">1453</span></a><span class="sd">    Returns:</span>
</span><span id="L-1454"><a href="#L-1454"><span class="linenos">1454</span></a><span class="sd">        Humidity ratio in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]</span>
</span><span id="L-1455"><a href="#L-1455"><span class="linenos">1455</span></a><span class="sd">        Wet-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="L-1456"><a href="#L-1456"><span class="linenos">1456</span></a><span class="sd">        Dew-point temperature in °F [IP] or °C [SI].</span>
</span><span id="L-1457"><a href="#L-1457"><span class="linenos">1457</span></a><span class="sd">        Partial pressure of water vapor in moist air in Psi [IP] or Pa [SI]</span>
</span><span id="L-1458"><a href="#L-1458"><span class="linenos">1458</span></a><span class="sd">        Moist air enthalpy in Btu lb⁻¹ [IP] or J kg⁻¹ [SI]</span>
</span><span id="L-1459"><a href="#L-1459"><span class="linenos">1459</span></a><span class="sd">        Specific volume of moist air in ft³ lb⁻¹ [IP] or in m³ kg⁻¹ [SI]</span>
</span><span id="L-1460"><a href="#L-1460"><span class="linenos">1460</span></a><span class="sd">        Degree of saturation [unitless]</span>
</span><span id="L-1461"><a href="#L-1461"><span class="linenos">1461</span></a>
</span><span id="L-1462"><a href="#L-1462"><span class="linenos">1462</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-1463"><a href="#L-1463"><span class="linenos">1463</span></a>    <span class="n">HumRatio</span> <span class="o">=</span> <span class="n">GetHumRatioFromRelHum</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">RelHum</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="L-1464"><a href="#L-1464"><span class="linenos">1464</span></a>    <span class="n">TWetBulb</span> <span class="o">=</span> <span class="n">GetTWetBulbFromHumRatio</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">HumRatio</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="L-1465"><a href="#L-1465"><span class="linenos">1465</span></a>    <span class="n">TDewPoint</span> <span class="o">=</span> <span class="n">GetTDewPointFromHumRatio</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">HumRatio</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="L-1466"><a href="#L-1466"><span class="linenos">1466</span></a>    <span class="n">VapPres</span> <span class="o">=</span> <span class="n">GetVapPresFromHumRatio</span><span class="p">(</span><span class="n">HumRatio</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="L-1467"><a href="#L-1467"><span class="linenos">1467</span></a>    <span class="n">MoistAirEnthalpy</span> <span class="o">=</span> <span class="n">GetMoistAirEnthalpy</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">HumRatio</span><span class="p">)</span>
</span><span id="L-1468"><a href="#L-1468"><span class="linenos">1468</span></a>    <span class="n">MoistAirVolume</span> <span class="o">=</span> <span class="n">GetMoistAirVolume</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">HumRatio</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="L-1469"><a href="#L-1469"><span class="linenos">1469</span></a>    <span class="n">DegreeOfSaturation</span> <span class="o">=</span> <span class="n">GetDegreeOfSaturation</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">HumRatio</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="L-1470"><a href="#L-1470"><span class="linenos">1470</span></a>    <span class="k">return</span> <span class="n">HumRatio</span><span class="p">,</span> <span class="n">TWetBulb</span><span class="p">,</span> <span class="n">TDewPoint</span><span class="p">,</span> <span class="n">VapPres</span><span class="p">,</span> <span class="n">MoistAirEnthalpy</span><span class="p">,</span> <span class="n">MoistAirVolume</span><span class="p">,</span> <span class="n">DegreeOfSaturation</span>
</span><span id="L-1471"><a href="#L-1471"><span class="linenos">1471</span></a>
</span><span id="L-1472"><a href="#L-1472"><span class="linenos">1472</span></a>
</span><span id="L-1473"><a href="#L-1473"><span class="linenos">1473</span></a><span class="c1"># This section provides support for vectorization through the use of the Numba library (http://numba.pydata.org/)</span>
</span><span id="L-1474"><a href="#L-1474"><span class="linenos">1474</span></a><span class="c1"># If Numba is not installed, the library just works with scalars and vectorization is simply not supported </span>
</span><span id="L-1475"><a href="#L-1475"><span class="linenos">1475</span></a><span class="k">try</span><span class="p">:</span>
</span><span id="L-1476"><a href="#L-1476"><span class="linenos">1476</span></a>    <span class="kn">from</span> <span class="nn">inspect</span> <span class="kn">import</span> <span class="n">isfunction</span>
</span><span id="L-1477"><a href="#L-1477"><span class="linenos">1477</span></a>    <span class="kn">from</span> <span class="nn">numba</span> <span class="kn">import</span> <span class="n">vectorize</span><span class="p">,</span> <span class="n">njit</span>
</span><span id="L-1478"><a href="#L-1478"><span class="linenos">1478</span></a>
</span><span id="L-1479"><a href="#L-1479"><span class="linenos">1479</span></a>    <span class="n">has_numba</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-1480"><a href="#L-1480"><span class="linenos">1480</span></a>    <span class="c1"># Needs to compile as used in vectorized functions below.</span>
</span><span id="L-1481"><a href="#L-1481"><span class="linenos">1481</span></a>    <span class="n">isIP</span> <span class="o">=</span> <span class="n">njit</span><span class="p">(</span><span class="n">isIP</span><span class="p">)</span>
</span><span id="L-1482"><a href="#L-1482"><span class="linenos">1482</span></a>    <span class="c1"># Vectorise all &#39;core&#39; functions. </span>
</span><span id="L-1483"><a href="#L-1483"><span class="linenos">1483</span></a>    <span class="c1"># Utility function are excluded as they are just wrappers.</span>
</span><span id="L-1484"><a href="#L-1484"><span class="linenos">1484</span></a>    <span class="n">func_list</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="L-1485"><a href="#L-1485"><span class="linenos">1485</span></a>    <span class="k">for</span> <span class="n">func</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="nb">globals</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
</span><span id="L-1486"><a href="#L-1486"><span class="linenos">1486</span></a>        <span class="k">if</span> <span class="n">isfunction</span><span class="p">(</span><span class="n">func</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="ow">and</span> <span class="n">func</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">startswith</span><span class="p">((</span><span class="s1">&#39;Get&#39;</span><span class="p">,</span> <span class="s1">&#39;dLnPws_&#39;</span><span class="p">))</span> <span class="ow">and</span> <span class="n">func</span> <span class="o">!=</span> <span class="s1">&#39;GetUnitSystem&#39;</span><span class="p">:</span>
</span><span id="L-1487"><a href="#L-1487"><span class="linenos">1487</span></a>            <span class="nb">globals</span><span class="p">()[</span><span class="n">func</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">=</span> <span class="n">vectorize</span><span class="p">(</span><span class="n">func</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span><span id="L-1488"><a href="#L-1488"><span class="linenos">1488</span></a>            <span class="n">func_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
</span><span id="L-1489"><a href="#L-1489"><span class="linenos">1489</span></a><span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
</span><span id="L-1490"><a href="#L-1490"><span class="linenos">1490</span></a>    <span class="n">has_numba</span> <span class="o">=</span> <span class="kc">False</span>
</span></pre></div>


            </section>
                <section id="ZERO_FAHRENHEIT_AS_RANKINE">
                    <div class="attr variable">
            <span class="name">ZERO_FAHRENHEIT_AS_RANKINE</span>        =
<span class="default_value">459.67</span>

        
    </div>
    <a class="headerlink" href="#ZERO_FAHRENHEIT_AS_RANKINE"></a>
    
            <div class="docstring"><p>float: Zero degree Fahrenheit (°F) expressed as degree Rankine (°R)</p>

<p>Units:
    °R</p>

<p>Reference:
    ASHRAE Handbook - Fundamentals (2017) ch. 39</p>
</div>


                </section>
                <section id="ZERO_CELSIUS_AS_KELVIN">
                    <div class="attr variable">
            <span class="name">ZERO_CELSIUS_AS_KELVIN</span>        =
<span class="default_value">273.15</span>

        
    </div>
    <a class="headerlink" href="#ZERO_CELSIUS_AS_KELVIN"></a>
    
            <div class="docstring"><p>float: Zero degree Celsius (°C) expressed as Kelvin (K)</p>

<p>Units:
    K</p>

<p>Reference:
    ASHRAE Handbook - Fundamentals (2017) ch. 39</p>
</div>


                </section>
                <section id="R_DA_IP">
                    <div class="attr variable">
            <span class="name">R_DA_IP</span>        =
<span class="default_value">53.35</span>

        
    </div>
    <a class="headerlink" href="#R_DA_IP"></a>
    
            <div class="docstring"><p>float: Universal gas constant for dry air (IP version)</p>

<p>Units:
    ft lb_Force lb_DryAir⁻¹ R⁻¹</p>

<p>Reference:
    ASHRAE Handbook - Fundamentals (2017) ch. 1</p>
</div>


                </section>
                <section id="R_DA_SI">
                    <div class="attr variable">
            <span class="name">R_DA_SI</span>        =
<span class="default_value">287.042</span>

        
    </div>
    <a class="headerlink" href="#R_DA_SI"></a>
    
            <div class="docstring"><p>float: Universal gas constant for dry air (SI version)</p>

<p>Units:
    J kg_DryAir⁻¹ K⁻¹</p>

<p>Reference:
    ASHRAE Handbook - Fundamentals (2017) ch. 1</p>
</div>


                </section>
                <section id="MAX_ITER_COUNT">
                    <div class="attr variable">
            <span class="name">MAX_ITER_COUNT</span>        =
<span class="default_value">100</span>

        
    </div>
    <a class="headerlink" href="#MAX_ITER_COUNT"></a>
    
            <div class="docstring"><p>int: Maximum number of iterations before exiting while loops.</p>
</div>


                </section>
                <section id="MIN_HUM_RATIO">
                    <div class="attr variable">
            <span class="name">MIN_HUM_RATIO</span>        =
<span class="default_value">1e-07</span>

        
    </div>
    <a class="headerlink" href="#MIN_HUM_RATIO"></a>
    
            <div class="docstring"><p>float: Minimum acceptable humidity ratio used/returned by any functions.
Any value above 0 or below the MIN_HUM_RATIO will be reset to this value.</p>
</div>


                </section>
                <section id="FREEZING_POINT_WATER_IP">
                    <div class="attr variable">
            <span class="name">FREEZING_POINT_WATER_IP</span>        =
<span class="default_value">32.0</span>

        
    </div>
    <a class="headerlink" href="#FREEZING_POINT_WATER_IP"></a>
    
            <div class="docstring"><p>float: Freezing point of water in Fahrenheit.</p>
</div>


                </section>
                <section id="FREEZING_POINT_WATER_SI">
                    <div class="attr variable">
            <span class="name">FREEZING_POINT_WATER_SI</span>        =
<span class="default_value">0.0</span>

        
    </div>
    <a class="headerlink" href="#FREEZING_POINT_WATER_SI"></a>
    
            <div class="docstring"><p>float: Freezing point of water in Celsius.</p>
</div>


                </section>
                <section id="TRIPLE_POINT_WATER_IP">
                    <div class="attr variable">
            <span class="name">TRIPLE_POINT_WATER_IP</span>        =
<span class="default_value">32.018</span>

        
    </div>
    <a class="headerlink" href="#TRIPLE_POINT_WATER_IP"></a>
    
            <div class="docstring"><p>float: Triple point of water in Fahrenheit.</p>
</div>


                </section>
                <section id="TRIPLE_POINT_WATER_SI">
                    <div class="attr variable">
            <span class="name">TRIPLE_POINT_WATER_SI</span>        =
<span class="default_value">0.01</span>

        
    </div>
    <a class="headerlink" href="#TRIPLE_POINT_WATER_SI"></a>
    
            <div class="docstring"><p>float: Triple point of water in Celsius.</p>
</div>


                </section>
                <section id="UnitSystem">
                            <input id="UnitSystem-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">UnitSystem</span><wbr>(<span class="base">enum.Enum</span>):

                <label class="view-source-button" for="UnitSystem-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#UnitSystem"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="UnitSystem-137"><a href="#UnitSystem-137"><span class="linenos">137</span></a><span class="k">class</span> <span class="nc">UnitSystem</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
</span><span id="UnitSystem-138"><a href="#UnitSystem-138"><span class="linenos">138</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="UnitSystem-139"><a href="#UnitSystem-139"><span class="linenos">139</span></a><span class="sd">    Private class not exposed used to set automatic enumeration values.</span>
</span><span id="UnitSystem-140"><a href="#UnitSystem-140"><span class="linenos">140</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="UnitSystem-141"><a href="#UnitSystem-141"><span class="linenos">141</span></a>    <span class="n">IP</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
</span><span id="UnitSystem-142"><a href="#UnitSystem-142"><span class="linenos">142</span></a>    <span class="n">SI</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
</span></pre></div>


            <div class="docstring"><p>Private class not exposed used to set automatic enumeration values.</p>
</div>


                            <div id="UnitSystem.IP" class="classattr">
                                <div class="attr variable">
            <span class="name">IP</span>        =
<span class="default_value">&lt;<a href="#UnitSystem.IP">UnitSystem.IP</a>: 1&gt;</span>

        
    </div>
    <a class="headerlink" href="#UnitSystem.IP"></a>
    
    

                            </div>
                            <div id="UnitSystem.SI" class="classattr">
                                <div class="attr variable">
            <span class="name">SI</span>        =
<span class="default_value">&lt;<a href="#UnitSystem.SI">UnitSystem.SI</a>: 2&gt;</span>

        
    </div>
    <a class="headerlink" href="#UnitSystem.SI"></a>
    
    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>enum.Enum</dt>
                                <dd id="UnitSystem.name" class="variable">name</dd>
                <dd id="UnitSystem.value" class="variable">value</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="IP">
                    <div class="attr variable">
            <span class="name">IP</span>        =
<span class="default_value">&lt;<a href="#UnitSystem.IP">UnitSystem.IP</a>: 1&gt;</span>

        
    </div>
    <a class="headerlink" href="#IP"></a>
    
    

                </section>
                <section id="SI">
                    <div class="attr variable">
            <span class="name">SI</span>        =
<span class="default_value">&lt;<a href="#UnitSystem.SI">UnitSystem.SI</a>: 2&gt;</span>

        
    </div>
    <a class="headerlink" href="#SI"></a>
    
    

                </section>
                <section id="PSYCHROLIB_UNITS">
                    <div class="attr variable">
            <span class="name">PSYCHROLIB_UNITS</span>        =
<span class="default_value">None</span>

        
    </div>
    <a class="headerlink" href="#PSYCHROLIB_UNITS"></a>
    
    

                </section>
                <section id="PSYCHROLIB_TOLERANCE">
                    <div class="attr variable">
            <span class="name">PSYCHROLIB_TOLERANCE</span>        =
<span class="default_value">1.0</span>

        
    </div>
    <a class="headerlink" href="#PSYCHROLIB_TOLERANCE"></a>
    
    

                </section>
                <section id="SetUnitSystem">
                            <input id="SetUnitSystem-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">SetUnitSystem</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">Units</span><span class="p">:</span> <span class="n"><a href="#UnitSystem">UnitSystem</a></span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

                <label class="view-source-button" for="SetUnitSystem-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#SetUnitSystem"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="SetUnitSystem-152"><a href="#SetUnitSystem-152"><span class="linenos">152</span></a><span class="k">def</span> <span class="nf">SetUnitSystem</span><span class="p">(</span><span class="n">Units</span><span class="p">:</span> <span class="n">UnitSystem</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="SetUnitSystem-153"><a href="#SetUnitSystem-153"><span class="linenos">153</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="SetUnitSystem-154"><a href="#SetUnitSystem-154"><span class="linenos">154</span></a><span class="sd">    Set the system of units to use (SI or IP).</span>
</span><span id="SetUnitSystem-155"><a href="#SetUnitSystem-155"><span class="linenos">155</span></a>
</span><span id="SetUnitSystem-156"><a href="#SetUnitSystem-156"><span class="linenos">156</span></a><span class="sd">    Args:</span>
</span><span id="SetUnitSystem-157"><a href="#SetUnitSystem-157"><span class="linenos">157</span></a><span class="sd">        Units: string indicating the system of units chosen (SI or IP)</span>
</span><span id="SetUnitSystem-158"><a href="#SetUnitSystem-158"><span class="linenos">158</span></a>
</span><span id="SetUnitSystem-159"><a href="#SetUnitSystem-159"><span class="linenos">159</span></a><span class="sd">    Notes:</span>
</span><span id="SetUnitSystem-160"><a href="#SetUnitSystem-160"><span class="linenos">160</span></a><span class="sd">        This function *HAS TO BE CALLED* before the library can be used</span>
</span><span id="SetUnitSystem-161"><a href="#SetUnitSystem-161"><span class="linenos">161</span></a>
</span><span id="SetUnitSystem-162"><a href="#SetUnitSystem-162"><span class="linenos">162</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="SetUnitSystem-163"><a href="#SetUnitSystem-163"><span class="linenos">163</span></a>    <span class="k">global</span> <span class="n">PSYCHROLIB_UNITS</span>
</span><span id="SetUnitSystem-164"><a href="#SetUnitSystem-164"><span class="linenos">164</span></a>    <span class="k">global</span> <span class="n">PSYCHROLIB_TOLERANCE</span>
</span><span id="SetUnitSystem-165"><a href="#SetUnitSystem-165"><span class="linenos">165</span></a>
</span><span id="SetUnitSystem-166"><a href="#SetUnitSystem-166"><span class="linenos">166</span></a>    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">Units</span><span class="p">,</span> <span class="n">UnitSystem</span><span class="p">):</span>
</span><span id="SetUnitSystem-167"><a href="#SetUnitSystem-167"><span class="linenos">167</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;The system of units has to be either SI or IP.&quot;</span><span class="p">)</span>
</span><span id="SetUnitSystem-168"><a href="#SetUnitSystem-168"><span class="linenos">168</span></a>
</span><span id="SetUnitSystem-169"><a href="#SetUnitSystem-169"><span class="linenos">169</span></a>    <span class="n">PSYCHROLIB_UNITS</span> <span class="o">=</span> <span class="n">Units</span>
</span><span id="SetUnitSystem-170"><a href="#SetUnitSystem-170"><span class="linenos">170</span></a>
</span><span id="SetUnitSystem-171"><a href="#SetUnitSystem-171"><span class="linenos">171</span></a>    <span class="c1"># Define tolerance on temperature calculations</span>
</span><span id="SetUnitSystem-172"><a href="#SetUnitSystem-172"><span class="linenos">172</span></a>    <span class="c1"># The tolerance is the same in IP and SI</span>
</span><span id="SetUnitSystem-173"><a href="#SetUnitSystem-173"><span class="linenos">173</span></a>    <span class="k">if</span> <span class="n">Units</span> <span class="o">==</span> <span class="n">IP</span><span class="p">:</span>
</span><span id="SetUnitSystem-174"><a href="#SetUnitSystem-174"><span class="linenos">174</span></a>        <span class="n">PSYCHROLIB_TOLERANCE</span> <span class="o">=</span> <span class="mf">0.001</span> <span class="o">*</span> <span class="mf">9.</span> <span class="o">/</span> <span class="mf">5.</span>
</span><span id="SetUnitSystem-175"><a href="#SetUnitSystem-175"><span class="linenos">175</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="SetUnitSystem-176"><a href="#SetUnitSystem-176"><span class="linenos">176</span></a>        <span class="n">PSYCHROLIB_TOLERANCE</span> <span class="o">=</span> <span class="mf">0.001</span>
</span><span id="SetUnitSystem-177"><a href="#SetUnitSystem-177"><span class="linenos">177</span></a>
</span><span id="SetUnitSystem-178"><a href="#SetUnitSystem-178"><span class="linenos">178</span></a>    <span class="k">if</span> <span class="n">has_numba</span><span class="p">:</span>
</span><span id="SetUnitSystem-179"><a href="#SetUnitSystem-179"><span class="linenos">179</span></a>        <span class="c1"># Need to recompile functions when the system of units is changed as Numba considers these global variables compile-time constants.</span>
</span><span id="SetUnitSystem-180"><a href="#SetUnitSystem-180"><span class="linenos">180</span></a>        <span class="c1"># See https://numba.pydata.org/numba-doc/dev/user/faq.html#numba-doesn-t-seem-to-care-when-i-modify-a-global-variable</span>
</span><span id="SetUnitSystem-181"><a href="#SetUnitSystem-181"><span class="linenos">181</span></a>        <span class="nb">globals</span><span class="p">()[</span><span class="s1">&#39;isIP&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">njit</span><span class="p">(</span><span class="n">isIP</span><span class="o">.</span><span class="n">py_func</span><span class="p">)</span>
</span><span id="SetUnitSystem-182"><a href="#SetUnitSystem-182"><span class="linenos">182</span></a>        <span class="k">for</span> <span class="n">func</span> <span class="ow">in</span> <span class="n">func_list</span><span class="p">:</span>
</span><span id="SetUnitSystem-183"><a href="#SetUnitSystem-183"><span class="linenos">183</span></a>            <span class="nb">globals</span><span class="p">()[</span><span class="n">func</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">=</span> <span class="n">vectorize</span><span class="p">(</span><span class="n">func</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span></pre></div>


            <div class="docstring"><p>Set the system of units to use (SI or IP).</p>

<p>Args:
    Units: string indicating the system of units chosen (SI or IP)</p>

<p>Notes:
    This function <em>HAS TO BE CALLED</em> before the library can be used</p>
</div>


                </section>
                <section id="GetUnitSystem">
                            <input id="GetUnitSystem-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">GetUnitSystem</span><span class="signature pdoc-code condensed">(<span class="return-annotation">) -> <span class="n">Optional</span><span class="p">[</span><span class="n"><a href="#UnitSystem">UnitSystem</a></span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="GetUnitSystem-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GetUnitSystem"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GetUnitSystem-185"><a href="#GetUnitSystem-185"><span class="linenos">185</span></a><span class="k">def</span> <span class="nf">GetUnitSystem</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">UnitSystem</span><span class="p">]:</span>
</span><span id="GetUnitSystem-186"><a href="#GetUnitSystem-186"><span class="linenos">186</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="GetUnitSystem-187"><a href="#GetUnitSystem-187"><span class="linenos">187</span></a><span class="sd">    Return system of units in use.</span>
</span><span id="GetUnitSystem-188"><a href="#GetUnitSystem-188"><span class="linenos">188</span></a>
</span><span id="GetUnitSystem-189"><a href="#GetUnitSystem-189"><span class="linenos">189</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="GetUnitSystem-190"><a href="#GetUnitSystem-190"><span class="linenos">190</span></a>    <span class="k">return</span> <span class="n">PSYCHROLIB_UNITS</span>
</span></pre></div>


            <div class="docstring"><p>Return system of units in use.</p>
</div>


                </section>
                <section id="isIP">
                            <input id="isIP-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">isIP</span><span class="signature pdoc-code condensed">(<span class="return-annotation">) -> <span class="nb">bool</span>:</span></span>

                <label class="view-source-button" for="isIP-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#isIP"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="isIP-192"><a href="#isIP-192"><span class="linenos">192</span></a><span class="k">def</span> <span class="nf">isIP</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
</span><span id="isIP-193"><a href="#isIP-193"><span class="linenos">193</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="isIP-194"><a href="#isIP-194"><span class="linenos">194</span></a><span class="sd">    Check whether the system in use is IP or SI.</span>
</span><span id="isIP-195"><a href="#isIP-195"><span class="linenos">195</span></a>
</span><span id="isIP-196"><a href="#isIP-196"><span class="linenos">196</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="isIP-197"><a href="#isIP-197"><span class="linenos">197</span></a>    <span class="k">if</span> <span class="n">PSYCHROLIB_UNITS</span> <span class="o">==</span> <span class="n">IP</span><span class="p">:</span>
</span><span id="isIP-198"><a href="#isIP-198"><span class="linenos">198</span></a>        <span class="k">return</span> <span class="kc">True</span>
</span><span id="isIP-199"><a href="#isIP-199"><span class="linenos">199</span></a>    <span class="k">elif</span> <span class="n">PSYCHROLIB_UNITS</span> <span class="o">==</span> <span class="n">SI</span><span class="p">:</span>
</span><span id="isIP-200"><a href="#isIP-200"><span class="linenos">200</span></a>        <span class="k">return</span> <span class="kc">False</span>
</span><span id="isIP-201"><a href="#isIP-201"><span class="linenos">201</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="isIP-202"><a href="#isIP-202"><span class="linenos">202</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;The system of units has not been defined.&#39;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Check whether the system in use is IP or SI.</p>
</div>


                </section>
                <section id="GetTRankineFromTFahrenheit">
                            <input id="GetTRankineFromTFahrenheit-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">GetTRankineFromTFahrenheit</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">TFahrenheit</span><span class="p">:</span> <span class="nb">float</span></span><span class="return-annotation">) -> <span class="nb">float</span>:</span></span>

                <label class="view-source-button" for="GetTRankineFromTFahrenheit-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GetTRankineFromTFahrenheit"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GetTRankineFromTFahrenheit-209"><a href="#GetTRankineFromTFahrenheit-209"><span class="linenos">209</span></a><span class="k">def</span> <span class="nf">GetTRankineFromTFahrenheit</span><span class="p">(</span><span class="n">TFahrenheit</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="GetTRankineFromTFahrenheit-210"><a href="#GetTRankineFromTFahrenheit-210"><span class="linenos">210</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="GetTRankineFromTFahrenheit-211"><a href="#GetTRankineFromTFahrenheit-211"><span class="linenos">211</span></a><span class="sd">    Utility function to convert temperature to degree Rankine (°R)</span>
</span><span id="GetTRankineFromTFahrenheit-212"><a href="#GetTRankineFromTFahrenheit-212"><span class="linenos">212</span></a><span class="sd">    given temperature in degree Fahrenheit (°F).</span>
</span><span id="GetTRankineFromTFahrenheit-213"><a href="#GetTRankineFromTFahrenheit-213"><span class="linenos">213</span></a>
</span><span id="GetTRankineFromTFahrenheit-214"><a href="#GetTRankineFromTFahrenheit-214"><span class="linenos">214</span></a><span class="sd">    Args:</span>
</span><span id="GetTRankineFromTFahrenheit-215"><a href="#GetTRankineFromTFahrenheit-215"><span class="linenos">215</span></a><span class="sd">        TRankine: Temperature in degree Fahrenheit (°F)</span>
</span><span id="GetTRankineFromTFahrenheit-216"><a href="#GetTRankineFromTFahrenheit-216"><span class="linenos">216</span></a>
</span><span id="GetTRankineFromTFahrenheit-217"><a href="#GetTRankineFromTFahrenheit-217"><span class="linenos">217</span></a><span class="sd">    Returns:</span>
</span><span id="GetTRankineFromTFahrenheit-218"><a href="#GetTRankineFromTFahrenheit-218"><span class="linenos">218</span></a><span class="sd">        Temperature in degree Rankine (°R)</span>
</span><span id="GetTRankineFromTFahrenheit-219"><a href="#GetTRankineFromTFahrenheit-219"><span class="linenos">219</span></a>
</span><span id="GetTRankineFromTFahrenheit-220"><a href="#GetTRankineFromTFahrenheit-220"><span class="linenos">220</span></a><span class="sd">    Reference:</span>
</span><span id="GetTRankineFromTFahrenheit-221"><a href="#GetTRankineFromTFahrenheit-221"><span class="linenos">221</span></a><span class="sd">        Reference: ASHRAE Handbook - Fundamentals (2017) ch. 1 section 3</span>
</span><span id="GetTRankineFromTFahrenheit-222"><a href="#GetTRankineFromTFahrenheit-222"><span class="linenos">222</span></a>
</span><span id="GetTRankineFromTFahrenheit-223"><a href="#GetTRankineFromTFahrenheit-223"><span class="linenos">223</span></a><span class="sd">    Notes:</span>
</span><span id="GetTRankineFromTFahrenheit-224"><a href="#GetTRankineFromTFahrenheit-224"><span class="linenos">224</span></a><span class="sd">        Exact conversion.</span>
</span><span id="GetTRankineFromTFahrenheit-225"><a href="#GetTRankineFromTFahrenheit-225"><span class="linenos">225</span></a>
</span><span id="GetTRankineFromTFahrenheit-226"><a href="#GetTRankineFromTFahrenheit-226"><span class="linenos">226</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="GetTRankineFromTFahrenheit-227"><a href="#GetTRankineFromTFahrenheit-227"><span class="linenos">227</span></a>    <span class="n">TRankine</span> <span class="o">=</span> <span class="n">TFahrenheit</span> <span class="o">+</span> <span class="n">ZERO_FAHRENHEIT_AS_RANKINE</span>
</span><span id="GetTRankineFromTFahrenheit-228"><a href="#GetTRankineFromTFahrenheit-228"><span class="linenos">228</span></a>    <span class="k">return</span> <span class="n">TRankine</span>
</span></pre></div>


            <div class="docstring"><p>Utility function to convert temperature to degree Rankine (°R)
given temperature in degree Fahrenheit (°F).</p>

<p>Args:
    TRankine: Temperature in degree Fahrenheit (°F)</p>

<p>Returns:
    Temperature in degree Rankine (°R)</p>

<p>Reference:
    Reference: ASHRAE Handbook - Fundamentals (2017) ch. 1 section 3</p>

<p>Notes:
    Exact conversion.</p>
</div>


                </section>
                <section id="GetTFahrenheitFromTRankine">
                            <input id="GetTFahrenheitFromTRankine-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">GetTFahrenheitFromTRankine</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">TRankine</span><span class="p">:</span> <span class="nb">float</span></span><span class="return-annotation">) -> <span class="nb">float</span>:</span></span>

                <label class="view-source-button" for="GetTFahrenheitFromTRankine-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GetTFahrenheitFromTRankine"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GetTFahrenheitFromTRankine-230"><a href="#GetTFahrenheitFromTRankine-230"><span class="linenos">230</span></a><span class="k">def</span> <span class="nf">GetTFahrenheitFromTRankine</span><span class="p">(</span><span class="n">TRankine</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="GetTFahrenheitFromTRankine-231"><a href="#GetTFahrenheitFromTRankine-231"><span class="linenos">231</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="GetTFahrenheitFromTRankine-232"><a href="#GetTFahrenheitFromTRankine-232"><span class="linenos">232</span></a><span class="sd">    Utility function to convert temperature to degree Fahrenheit (°F)</span>
</span><span id="GetTFahrenheitFromTRankine-233"><a href="#GetTFahrenheitFromTRankine-233"><span class="linenos">233</span></a><span class="sd">    given temperature in degree Rankine (°R).</span>
</span><span id="GetTFahrenheitFromTRankine-234"><a href="#GetTFahrenheitFromTRankine-234"><span class="linenos">234</span></a>
</span><span id="GetTFahrenheitFromTRankine-235"><a href="#GetTFahrenheitFromTRankine-235"><span class="linenos">235</span></a><span class="sd">    Args:</span>
</span><span id="GetTFahrenheitFromTRankine-236"><a href="#GetTFahrenheitFromTRankine-236"><span class="linenos">236</span></a><span class="sd">        TRankine: Temperature in degree Rankine (°R)</span>
</span><span id="GetTFahrenheitFromTRankine-237"><a href="#GetTFahrenheitFromTRankine-237"><span class="linenos">237</span></a>
</span><span id="GetTFahrenheitFromTRankine-238"><a href="#GetTFahrenheitFromTRankine-238"><span class="linenos">238</span></a><span class="sd">    Returns:</span>
</span><span id="GetTFahrenheitFromTRankine-239"><a href="#GetTFahrenheitFromTRankine-239"><span class="linenos">239</span></a><span class="sd">        Temperature in degree Fahrenheit (°F)</span>
</span><span id="GetTFahrenheitFromTRankine-240"><a href="#GetTFahrenheitFromTRankine-240"><span class="linenos">240</span></a>
</span><span id="GetTFahrenheitFromTRankine-241"><a href="#GetTFahrenheitFromTRankine-241"><span class="linenos">241</span></a><span class="sd">    Reference:</span>
</span><span id="GetTFahrenheitFromTRankine-242"><a href="#GetTFahrenheitFromTRankine-242"><span class="linenos">242</span></a><span class="sd">        Reference: ASHRAE Handbook - Fundamentals (2017) ch. 1 section 3</span>
</span><span id="GetTFahrenheitFromTRankine-243"><a href="#GetTFahrenheitFromTRankine-243"><span class="linenos">243</span></a>
</span><span id="GetTFahrenheitFromTRankine-244"><a href="#GetTFahrenheitFromTRankine-244"><span class="linenos">244</span></a><span class="sd">    Notes:</span>
</span><span id="GetTFahrenheitFromTRankine-245"><a href="#GetTFahrenheitFromTRankine-245"><span class="linenos">245</span></a><span class="sd">        Exact conversion.</span>
</span><span id="GetTFahrenheitFromTRankine-246"><a href="#GetTFahrenheitFromTRankine-246"><span class="linenos">246</span></a>
</span><span id="GetTFahrenheitFromTRankine-247"><a href="#GetTFahrenheitFromTRankine-247"><span class="linenos">247</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="GetTFahrenheitFromTRankine-248"><a href="#GetTFahrenheitFromTRankine-248"><span class="linenos">248</span></a>    <span class="k">return</span> <span class="n">TRankine</span> <span class="o">-</span> <span class="n">ZERO_FAHRENHEIT_AS_RANKINE</span>
</span></pre></div>


            <div class="docstring"><p>Utility function to convert temperature to degree Fahrenheit (°F)
given temperature in degree Rankine (°R).</p>

<p>Args:
    TRankine: Temperature in degree Rankine (°R)</p>

<p>Returns:
    Temperature in degree Fahrenheit (°F)</p>

<p>Reference:
    Reference: ASHRAE Handbook - Fundamentals (2017) ch. 1 section 3</p>

<p>Notes:
    Exact conversion.</p>
</div>


                </section>
                <section id="GetTKelvinFromTCelsius">
                            <input id="GetTKelvinFromTCelsius-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">GetTKelvinFromTCelsius</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">TCelsius</span><span class="p">:</span> <span class="nb">float</span></span><span class="return-annotation">) -> <span class="nb">float</span>:</span></span>

                <label class="view-source-button" for="GetTKelvinFromTCelsius-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GetTKelvinFromTCelsius"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GetTKelvinFromTCelsius-250"><a href="#GetTKelvinFromTCelsius-250"><span class="linenos">250</span></a><span class="k">def</span> <span class="nf">GetTKelvinFromTCelsius</span><span class="p">(</span><span class="n">TCelsius</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="GetTKelvinFromTCelsius-251"><a href="#GetTKelvinFromTCelsius-251"><span class="linenos">251</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="GetTKelvinFromTCelsius-252"><a href="#GetTKelvinFromTCelsius-252"><span class="linenos">252</span></a><span class="sd">    Utility function to convert temperature to Kelvin (K)</span>
</span><span id="GetTKelvinFromTCelsius-253"><a href="#GetTKelvinFromTCelsius-253"><span class="linenos">253</span></a><span class="sd">    given temperature in degree Celsius (°C).</span>
</span><span id="GetTKelvinFromTCelsius-254"><a href="#GetTKelvinFromTCelsius-254"><span class="linenos">254</span></a>
</span><span id="GetTKelvinFromTCelsius-255"><a href="#GetTKelvinFromTCelsius-255"><span class="linenos">255</span></a><span class="sd">    Args:</span>
</span><span id="GetTKelvinFromTCelsius-256"><a href="#GetTKelvinFromTCelsius-256"><span class="linenos">256</span></a><span class="sd">        TCelsius: Temperature in degree Celsius (°C)</span>
</span><span id="GetTKelvinFromTCelsius-257"><a href="#GetTKelvinFromTCelsius-257"><span class="linenos">257</span></a>
</span><span id="GetTKelvinFromTCelsius-258"><a href="#GetTKelvinFromTCelsius-258"><span class="linenos">258</span></a><span class="sd">    Returns:</span>
</span><span id="GetTKelvinFromTCelsius-259"><a href="#GetTKelvinFromTCelsius-259"><span class="linenos">259</span></a><span class="sd">        Temperature in Kelvin (K)</span>
</span><span id="GetTKelvinFromTCelsius-260"><a href="#GetTKelvinFromTCelsius-260"><span class="linenos">260</span></a>
</span><span id="GetTKelvinFromTCelsius-261"><a href="#GetTKelvinFromTCelsius-261"><span class="linenos">261</span></a><span class="sd">    Reference:</span>
</span><span id="GetTKelvinFromTCelsius-262"><a href="#GetTKelvinFromTCelsius-262"><span class="linenos">262</span></a><span class="sd">        Reference: ASHRAE Handbook - Fundamentals (2017) ch. 1 section 3</span>
</span><span id="GetTKelvinFromTCelsius-263"><a href="#GetTKelvinFromTCelsius-263"><span class="linenos">263</span></a>
</span><span id="GetTKelvinFromTCelsius-264"><a href="#GetTKelvinFromTCelsius-264"><span class="linenos">264</span></a><span class="sd">    Notes:</span>
</span><span id="GetTKelvinFromTCelsius-265"><a href="#GetTKelvinFromTCelsius-265"><span class="linenos">265</span></a><span class="sd">        Exact conversion.</span>
</span><span id="GetTKelvinFromTCelsius-266"><a href="#GetTKelvinFromTCelsius-266"><span class="linenos">266</span></a>
</span><span id="GetTKelvinFromTCelsius-267"><a href="#GetTKelvinFromTCelsius-267"><span class="linenos">267</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="GetTKelvinFromTCelsius-268"><a href="#GetTKelvinFromTCelsius-268"><span class="linenos">268</span></a>    <span class="n">TKelvin</span> <span class="o">=</span> <span class="n">TCelsius</span> <span class="o">+</span> <span class="n">ZERO_CELSIUS_AS_KELVIN</span>
</span><span id="GetTKelvinFromTCelsius-269"><a href="#GetTKelvinFromTCelsius-269"><span class="linenos">269</span></a>    <span class="k">return</span> <span class="n">TKelvin</span>
</span></pre></div>


            <div class="docstring"><p>Utility function to convert temperature to Kelvin (K)
given temperature in degree Celsius (°C).</p>

<p>Args:
    TCelsius: Temperature in degree Celsius (°C)</p>

<p>Returns:
    Temperature in Kelvin (K)</p>

<p>Reference:
    Reference: ASHRAE Handbook - Fundamentals (2017) ch. 1 section 3</p>

<p>Notes:
    Exact conversion.</p>
</div>


                </section>
                <section id="GetTCelsiusFromTKelvin">
                            <input id="GetTCelsiusFromTKelvin-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">GetTCelsiusFromTKelvin</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">TKelvin</span><span class="p">:</span> <span class="nb">float</span></span><span class="return-annotation">) -> <span class="nb">float</span>:</span></span>

                <label class="view-source-button" for="GetTCelsiusFromTKelvin-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GetTCelsiusFromTKelvin"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GetTCelsiusFromTKelvin-271"><a href="#GetTCelsiusFromTKelvin-271"><span class="linenos">271</span></a><span class="k">def</span> <span class="nf">GetTCelsiusFromTKelvin</span><span class="p">(</span><span class="n">TKelvin</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="GetTCelsiusFromTKelvin-272"><a href="#GetTCelsiusFromTKelvin-272"><span class="linenos">272</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="GetTCelsiusFromTKelvin-273"><a href="#GetTCelsiusFromTKelvin-273"><span class="linenos">273</span></a><span class="sd">    Utility function to convert temperature to degree Celsius (°C)</span>
</span><span id="GetTCelsiusFromTKelvin-274"><a href="#GetTCelsiusFromTKelvin-274"><span class="linenos">274</span></a><span class="sd">    given temperature in Kelvin (K).</span>
</span><span id="GetTCelsiusFromTKelvin-275"><a href="#GetTCelsiusFromTKelvin-275"><span class="linenos">275</span></a>
</span><span id="GetTCelsiusFromTKelvin-276"><a href="#GetTCelsiusFromTKelvin-276"><span class="linenos">276</span></a><span class="sd">    Args:</span>
</span><span id="GetTCelsiusFromTKelvin-277"><a href="#GetTCelsiusFromTKelvin-277"><span class="linenos">277</span></a><span class="sd">        TKelvin: Temperature in Kelvin (K)</span>
</span><span id="GetTCelsiusFromTKelvin-278"><a href="#GetTCelsiusFromTKelvin-278"><span class="linenos">278</span></a>
</span><span id="GetTCelsiusFromTKelvin-279"><a href="#GetTCelsiusFromTKelvin-279"><span class="linenos">279</span></a><span class="sd">    Returns:</span>
</span><span id="GetTCelsiusFromTKelvin-280"><a href="#GetTCelsiusFromTKelvin-280"><span class="linenos">280</span></a><span class="sd">        Temperature in degree Celsius (°C)</span>
</span><span id="GetTCelsiusFromTKelvin-281"><a href="#GetTCelsiusFromTKelvin-281"><span class="linenos">281</span></a>
</span><span id="GetTCelsiusFromTKelvin-282"><a href="#GetTCelsiusFromTKelvin-282"><span class="linenos">282</span></a><span class="sd">    Reference:</span>
</span><span id="GetTCelsiusFromTKelvin-283"><a href="#GetTCelsiusFromTKelvin-283"><span class="linenos">283</span></a><span class="sd">        Reference: ASHRAE Handbook - Fundamentals (2017) ch. 1 section 3</span>
</span><span id="GetTCelsiusFromTKelvin-284"><a href="#GetTCelsiusFromTKelvin-284"><span class="linenos">284</span></a>
</span><span id="GetTCelsiusFromTKelvin-285"><a href="#GetTCelsiusFromTKelvin-285"><span class="linenos">285</span></a><span class="sd">    Notes:</span>
</span><span id="GetTCelsiusFromTKelvin-286"><a href="#GetTCelsiusFromTKelvin-286"><span class="linenos">286</span></a><span class="sd">        Exact conversion.</span>
</span><span id="GetTCelsiusFromTKelvin-287"><a href="#GetTCelsiusFromTKelvin-287"><span class="linenos">287</span></a>
</span><span id="GetTCelsiusFromTKelvin-288"><a href="#GetTCelsiusFromTKelvin-288"><span class="linenos">288</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="GetTCelsiusFromTKelvin-289"><a href="#GetTCelsiusFromTKelvin-289"><span class="linenos">289</span></a>    <span class="k">return</span> <span class="n">TKelvin</span> <span class="o">-</span> <span class="n">ZERO_CELSIUS_AS_KELVIN</span>
</span></pre></div>


            <div class="docstring"><p>Utility function to convert temperature to degree Celsius (°C)
given temperature in Kelvin (K).</p>

<p>Args:
    TKelvin: Temperature in Kelvin (K)</p>

<p>Returns:
    Temperature in degree Celsius (°C)</p>

<p>Reference:
    Reference: ASHRAE Handbook - Fundamentals (2017) ch. 1 section 3</p>

<p>Notes:
    Exact conversion.</p>
</div>


                </section>
                <section id="GetTWetBulbFromTDewPoint">
                            <input id="GetTWetBulbFromTDewPoint-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">GetTWetBulbFromTDewPoint</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span>, </span><span class="param"><span class="n">TDewPoint</span><span class="p">:</span> <span class="nb">float</span>, </span><span class="param"><span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span></span><span class="return-annotation">) -> <span class="nb">float</span>:</span></span>

                <label class="view-source-button" for="GetTWetBulbFromTDewPoint-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GetTWetBulbFromTDewPoint"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GetTWetBulbFromTDewPoint-296"><a href="#GetTWetBulbFromTDewPoint-296"><span class="linenos">296</span></a><span class="k">def</span> <span class="nf">GetTWetBulbFromTDewPoint</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">TDewPoint</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="GetTWetBulbFromTDewPoint-297"><a href="#GetTWetBulbFromTDewPoint-297"><span class="linenos">297</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="GetTWetBulbFromTDewPoint-298"><a href="#GetTWetBulbFromTDewPoint-298"><span class="linenos">298</span></a><span class="sd">    Return wet-bulb temperature given dry-bulb temperature, dew-point temperature, and pressure.</span>
</span><span id="GetTWetBulbFromTDewPoint-299"><a href="#GetTWetBulbFromTDewPoint-299"><span class="linenos">299</span></a>
</span><span id="GetTWetBulbFromTDewPoint-300"><a href="#GetTWetBulbFromTDewPoint-300"><span class="linenos">300</span></a><span class="sd">    Args:</span>
</span><span id="GetTWetBulbFromTDewPoint-301"><a href="#GetTWetBulbFromTDewPoint-301"><span class="linenos">301</span></a><span class="sd">        TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="GetTWetBulbFromTDewPoint-302"><a href="#GetTWetBulbFromTDewPoint-302"><span class="linenos">302</span></a><span class="sd">        TDewPoint : Dew-point temperature in °F [IP] or °C [SI]</span>
</span><span id="GetTWetBulbFromTDewPoint-303"><a href="#GetTWetBulbFromTDewPoint-303"><span class="linenos">303</span></a><span class="sd">        Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</span>
</span><span id="GetTWetBulbFromTDewPoint-304"><a href="#GetTWetBulbFromTDewPoint-304"><span class="linenos">304</span></a>
</span><span id="GetTWetBulbFromTDewPoint-305"><a href="#GetTWetBulbFromTDewPoint-305"><span class="linenos">305</span></a><span class="sd">    Returns:</span>
</span><span id="GetTWetBulbFromTDewPoint-306"><a href="#GetTWetBulbFromTDewPoint-306"><span class="linenos">306</span></a><span class="sd">        Wet-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="GetTWetBulbFromTDewPoint-307"><a href="#GetTWetBulbFromTDewPoint-307"><span class="linenos">307</span></a>
</span><span id="GetTWetBulbFromTDewPoint-308"><a href="#GetTWetBulbFromTDewPoint-308"><span class="linenos">308</span></a><span class="sd">    Reference:</span>
</span><span id="GetTWetBulbFromTDewPoint-309"><a href="#GetTWetBulbFromTDewPoint-309"><span class="linenos">309</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1</span>
</span><span id="GetTWetBulbFromTDewPoint-310"><a href="#GetTWetBulbFromTDewPoint-310"><span class="linenos">310</span></a>
</span><span id="GetTWetBulbFromTDewPoint-311"><a href="#GetTWetBulbFromTDewPoint-311"><span class="linenos">311</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="GetTWetBulbFromTDewPoint-312"><a href="#GetTWetBulbFromTDewPoint-312"><span class="linenos">312</span></a>    <span class="k">if</span> <span class="n">TDewPoint</span> <span class="o">&gt;</span> <span class="n">TDryBulb</span><span class="p">:</span>
</span><span id="GetTWetBulbFromTDewPoint-313"><a href="#GetTWetBulbFromTDewPoint-313"><span class="linenos">313</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Dew point temperature is above dry bulb temperature&quot;</span><span class="p">)</span>
</span><span id="GetTWetBulbFromTDewPoint-314"><a href="#GetTWetBulbFromTDewPoint-314"><span class="linenos">314</span></a>
</span><span id="GetTWetBulbFromTDewPoint-315"><a href="#GetTWetBulbFromTDewPoint-315"><span class="linenos">315</span></a>    <span class="n">HumRatio</span> <span class="o">=</span> <span class="n">GetHumRatioFromTDewPoint</span><span class="p">(</span><span class="n">TDewPoint</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="GetTWetBulbFromTDewPoint-316"><a href="#GetTWetBulbFromTDewPoint-316"><span class="linenos">316</span></a>    <span class="n">TWetBulb</span> <span class="o">=</span> <span class="n">GetTWetBulbFromHumRatio</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">HumRatio</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="GetTWetBulbFromTDewPoint-317"><a href="#GetTWetBulbFromTDewPoint-317"><span class="linenos">317</span></a>    <span class="k">return</span> <span class="n">TWetBulb</span>
</span></pre></div>


            <div class="docstring"><p>Return wet-bulb temperature given dry-bulb temperature, dew-point temperature, and pressure.</p>

<p>Args:
    TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]
    TDewPoint : Dew-point temperature in °F [IP] or °C [SI]
    Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</p>

<p>Returns:
    Wet-bulb temperature in °F [IP] or °C [SI]</p>

<p>Reference:
    ASHRAE Handbook - Fundamentals (2017) ch. 1</p>
</div>


                </section>
                <section id="GetTWetBulbFromRelHum">
                            <input id="GetTWetBulbFromRelHum-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">GetTWetBulbFromRelHum</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span>, </span><span class="param"><span class="n">RelHum</span><span class="p">:</span> <span class="nb">float</span>, </span><span class="param"><span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span></span><span class="return-annotation">) -> <span class="nb">float</span>:</span></span>

                <label class="view-source-button" for="GetTWetBulbFromRelHum-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GetTWetBulbFromRelHum"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GetTWetBulbFromRelHum-319"><a href="#GetTWetBulbFromRelHum-319"><span class="linenos">319</span></a><span class="k">def</span> <span class="nf">GetTWetBulbFromRelHum</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">RelHum</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="GetTWetBulbFromRelHum-320"><a href="#GetTWetBulbFromRelHum-320"><span class="linenos">320</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="GetTWetBulbFromRelHum-321"><a href="#GetTWetBulbFromRelHum-321"><span class="linenos">321</span></a><span class="sd">    Return wet-bulb temperature given dry-bulb temperature, relative humidity, and pressure.</span>
</span><span id="GetTWetBulbFromRelHum-322"><a href="#GetTWetBulbFromRelHum-322"><span class="linenos">322</span></a>
</span><span id="GetTWetBulbFromRelHum-323"><a href="#GetTWetBulbFromRelHum-323"><span class="linenos">323</span></a><span class="sd">    Args:</span>
</span><span id="GetTWetBulbFromRelHum-324"><a href="#GetTWetBulbFromRelHum-324"><span class="linenos">324</span></a><span class="sd">        TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="GetTWetBulbFromRelHum-325"><a href="#GetTWetBulbFromRelHum-325"><span class="linenos">325</span></a><span class="sd">        RelHum : Relative humidity in range [0, 1]</span>
</span><span id="GetTWetBulbFromRelHum-326"><a href="#GetTWetBulbFromRelHum-326"><span class="linenos">326</span></a><span class="sd">        Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</span>
</span><span id="GetTWetBulbFromRelHum-327"><a href="#GetTWetBulbFromRelHum-327"><span class="linenos">327</span></a>
</span><span id="GetTWetBulbFromRelHum-328"><a href="#GetTWetBulbFromRelHum-328"><span class="linenos">328</span></a><span class="sd">    Returns:</span>
</span><span id="GetTWetBulbFromRelHum-329"><a href="#GetTWetBulbFromRelHum-329"><span class="linenos">329</span></a><span class="sd">        Wet-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="GetTWetBulbFromRelHum-330"><a href="#GetTWetBulbFromRelHum-330"><span class="linenos">330</span></a>
</span><span id="GetTWetBulbFromRelHum-331"><a href="#GetTWetBulbFromRelHum-331"><span class="linenos">331</span></a><span class="sd">    Reference:</span>
</span><span id="GetTWetBulbFromRelHum-332"><a href="#GetTWetBulbFromRelHum-332"><span class="linenos">332</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1</span>
</span><span id="GetTWetBulbFromRelHum-333"><a href="#GetTWetBulbFromRelHum-333"><span class="linenos">333</span></a>
</span><span id="GetTWetBulbFromRelHum-334"><a href="#GetTWetBulbFromRelHum-334"><span class="linenos">334</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="GetTWetBulbFromRelHum-335"><a href="#GetTWetBulbFromRelHum-335"><span class="linenos">335</span></a>    <span class="k">if</span> <span class="n">RelHum</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">RelHum</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="GetTWetBulbFromRelHum-336"><a href="#GetTWetBulbFromRelHum-336"><span class="linenos">336</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Relative humidity is outside range [0, 1]&quot;</span><span class="p">)</span>
</span><span id="GetTWetBulbFromRelHum-337"><a href="#GetTWetBulbFromRelHum-337"><span class="linenos">337</span></a>
</span><span id="GetTWetBulbFromRelHum-338"><a href="#GetTWetBulbFromRelHum-338"><span class="linenos">338</span></a>    <span class="n">HumRatio</span> <span class="o">=</span> <span class="n">GetHumRatioFromRelHum</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">RelHum</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="GetTWetBulbFromRelHum-339"><a href="#GetTWetBulbFromRelHum-339"><span class="linenos">339</span></a>    <span class="n">TWetBulb</span> <span class="o">=</span> <span class="n">GetTWetBulbFromHumRatio</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">HumRatio</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="GetTWetBulbFromRelHum-340"><a href="#GetTWetBulbFromRelHum-340"><span class="linenos">340</span></a>    <span class="k">return</span> <span class="n">TWetBulb</span>
</span></pre></div>


            <div class="docstring"><p>Return wet-bulb temperature given dry-bulb temperature, relative humidity, and pressure.</p>

<p>Args:
    TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]
    RelHum : Relative humidity in range [0, 1]
    Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</p>

<p>Returns:
    Wet-bulb temperature in °F [IP] or °C [SI]</p>

<p>Reference:
    ASHRAE Handbook - Fundamentals (2017) ch. 1</p>
</div>


                </section>
                <section id="GetRelHumFromTDewPoint">
                            <input id="GetRelHumFromTDewPoint-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">GetRelHumFromTDewPoint</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span>, </span><span class="param"><span class="n">TDewPoint</span><span class="p">:</span> <span class="nb">float</span></span><span class="return-annotation">) -> <span class="nb">float</span>:</span></span>

                <label class="view-source-button" for="GetRelHumFromTDewPoint-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GetRelHumFromTDewPoint"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GetRelHumFromTDewPoint-342"><a href="#GetRelHumFromTDewPoint-342"><span class="linenos">342</span></a><span class="k">def</span> <span class="nf">GetRelHumFromTDewPoint</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">TDewPoint</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="GetRelHumFromTDewPoint-343"><a href="#GetRelHumFromTDewPoint-343"><span class="linenos">343</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="GetRelHumFromTDewPoint-344"><a href="#GetRelHumFromTDewPoint-344"><span class="linenos">344</span></a><span class="sd">    Return relative humidity given dry-bulb temperature and dew-point temperature.</span>
</span><span id="GetRelHumFromTDewPoint-345"><a href="#GetRelHumFromTDewPoint-345"><span class="linenos">345</span></a>
</span><span id="GetRelHumFromTDewPoint-346"><a href="#GetRelHumFromTDewPoint-346"><span class="linenos">346</span></a><span class="sd">    Args:</span>
</span><span id="GetRelHumFromTDewPoint-347"><a href="#GetRelHumFromTDewPoint-347"><span class="linenos">347</span></a><span class="sd">        TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="GetRelHumFromTDewPoint-348"><a href="#GetRelHumFromTDewPoint-348"><span class="linenos">348</span></a><span class="sd">        TDewPoint : Dew-point temperature in °F [IP] or °C [SI]</span>
</span><span id="GetRelHumFromTDewPoint-349"><a href="#GetRelHumFromTDewPoint-349"><span class="linenos">349</span></a>
</span><span id="GetRelHumFromTDewPoint-350"><a href="#GetRelHumFromTDewPoint-350"><span class="linenos">350</span></a><span class="sd">    Returns:</span>
</span><span id="GetRelHumFromTDewPoint-351"><a href="#GetRelHumFromTDewPoint-351"><span class="linenos">351</span></a><span class="sd">        Relative humidity in range [0, 1]</span>
</span><span id="GetRelHumFromTDewPoint-352"><a href="#GetRelHumFromTDewPoint-352"><span class="linenos">352</span></a>
</span><span id="GetRelHumFromTDewPoint-353"><a href="#GetRelHumFromTDewPoint-353"><span class="linenos">353</span></a><span class="sd">    Reference:</span>
</span><span id="GetRelHumFromTDewPoint-354"><a href="#GetRelHumFromTDewPoint-354"><span class="linenos">354</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn 22</span>
</span><span id="GetRelHumFromTDewPoint-355"><a href="#GetRelHumFromTDewPoint-355"><span class="linenos">355</span></a>
</span><span id="GetRelHumFromTDewPoint-356"><a href="#GetRelHumFromTDewPoint-356"><span class="linenos">356</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="GetRelHumFromTDewPoint-357"><a href="#GetRelHumFromTDewPoint-357"><span class="linenos">357</span></a>    <span class="k">if</span> <span class="n">TDewPoint</span> <span class="o">&gt;</span> <span class="n">TDryBulb</span><span class="p">:</span>
</span><span id="GetRelHumFromTDewPoint-358"><a href="#GetRelHumFromTDewPoint-358"><span class="linenos">358</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Dew point temperature is above dry bulb temperature&quot;</span><span class="p">)</span>
</span><span id="GetRelHumFromTDewPoint-359"><a href="#GetRelHumFromTDewPoint-359"><span class="linenos">359</span></a>
</span><span id="GetRelHumFromTDewPoint-360"><a href="#GetRelHumFromTDewPoint-360"><span class="linenos">360</span></a>    <span class="n">VapPres</span> <span class="o">=</span> <span class="n">GetSatVapPres</span><span class="p">(</span><span class="n">TDewPoint</span><span class="p">)</span>
</span><span id="GetRelHumFromTDewPoint-361"><a href="#GetRelHumFromTDewPoint-361"><span class="linenos">361</span></a>    <span class="n">SatVapPres</span> <span class="o">=</span> <span class="n">GetSatVapPres</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">)</span>
</span><span id="GetRelHumFromTDewPoint-362"><a href="#GetRelHumFromTDewPoint-362"><span class="linenos">362</span></a>    <span class="n">RelHum</span> <span class="o">=</span> <span class="n">VapPres</span> <span class="o">/</span> <span class="n">SatVapPres</span>
</span><span id="GetRelHumFromTDewPoint-363"><a href="#GetRelHumFromTDewPoint-363"><span class="linenos">363</span></a>    <span class="k">return</span> <span class="n">RelHum</span>
</span></pre></div>


            <div class="docstring"><p>Return relative humidity given dry-bulb temperature and dew-point temperature.</p>

<p>Args:
    TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]
    TDewPoint : Dew-point temperature in °F [IP] or °C [SI]</p>

<p>Returns:
    Relative humidity in range [0, 1]</p>

<p>Reference:
    ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn 22</p>
</div>


                </section>
                <section id="GetRelHumFromTWetBulb">
                            <input id="GetRelHumFromTWetBulb-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">GetRelHumFromTWetBulb</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span>, </span><span class="param"><span class="n">TWetBulb</span><span class="p">:</span> <span class="nb">float</span>, </span><span class="param"><span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span></span><span class="return-annotation">) -> <span class="nb">float</span>:</span></span>

                <label class="view-source-button" for="GetRelHumFromTWetBulb-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GetRelHumFromTWetBulb"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GetRelHumFromTWetBulb-365"><a href="#GetRelHumFromTWetBulb-365"><span class="linenos">365</span></a><span class="k">def</span> <span class="nf">GetRelHumFromTWetBulb</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">TWetBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="GetRelHumFromTWetBulb-366"><a href="#GetRelHumFromTWetBulb-366"><span class="linenos">366</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="GetRelHumFromTWetBulb-367"><a href="#GetRelHumFromTWetBulb-367"><span class="linenos">367</span></a><span class="sd">    Return relative humidity given dry-bulb temperature, wet bulb temperature and pressure.</span>
</span><span id="GetRelHumFromTWetBulb-368"><a href="#GetRelHumFromTWetBulb-368"><span class="linenos">368</span></a>
</span><span id="GetRelHumFromTWetBulb-369"><a href="#GetRelHumFromTWetBulb-369"><span class="linenos">369</span></a><span class="sd">    Args:</span>
</span><span id="GetRelHumFromTWetBulb-370"><a href="#GetRelHumFromTWetBulb-370"><span class="linenos">370</span></a><span class="sd">        TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="GetRelHumFromTWetBulb-371"><a href="#GetRelHumFromTWetBulb-371"><span class="linenos">371</span></a><span class="sd">        TWetBulb : Wet-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="GetRelHumFromTWetBulb-372"><a href="#GetRelHumFromTWetBulb-372"><span class="linenos">372</span></a><span class="sd">        Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</span>
</span><span id="GetRelHumFromTWetBulb-373"><a href="#GetRelHumFromTWetBulb-373"><span class="linenos">373</span></a>
</span><span id="GetRelHumFromTWetBulb-374"><a href="#GetRelHumFromTWetBulb-374"><span class="linenos">374</span></a><span class="sd">    Returns:</span>
</span><span id="GetRelHumFromTWetBulb-375"><a href="#GetRelHumFromTWetBulb-375"><span class="linenos">375</span></a><span class="sd">        Relative humidity in range [0, 1]</span>
</span><span id="GetRelHumFromTWetBulb-376"><a href="#GetRelHumFromTWetBulb-376"><span class="linenos">376</span></a>
</span><span id="GetRelHumFromTWetBulb-377"><a href="#GetRelHumFromTWetBulb-377"><span class="linenos">377</span></a><span class="sd">    Reference:</span>
</span><span id="GetRelHumFromTWetBulb-378"><a href="#GetRelHumFromTWetBulb-378"><span class="linenos">378</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1</span>
</span><span id="GetRelHumFromTWetBulb-379"><a href="#GetRelHumFromTWetBulb-379"><span class="linenos">379</span></a>
</span><span id="GetRelHumFromTWetBulb-380"><a href="#GetRelHumFromTWetBulb-380"><span class="linenos">380</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="GetRelHumFromTWetBulb-381"><a href="#GetRelHumFromTWetBulb-381"><span class="linenos">381</span></a>    <span class="k">if</span> <span class="n">TWetBulb</span> <span class="o">&gt;</span> <span class="n">TDryBulb</span><span class="p">:</span>
</span><span id="GetRelHumFromTWetBulb-382"><a href="#GetRelHumFromTWetBulb-382"><span class="linenos">382</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Wet bulb temperature is above dry bulb temperature&quot;</span><span class="p">)</span>
</span><span id="GetRelHumFromTWetBulb-383"><a href="#GetRelHumFromTWetBulb-383"><span class="linenos">383</span></a>
</span><span id="GetRelHumFromTWetBulb-384"><a href="#GetRelHumFromTWetBulb-384"><span class="linenos">384</span></a>    <span class="n">HumRatio</span> <span class="o">=</span> <span class="n">GetHumRatioFromTWetBulb</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">TWetBulb</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="GetRelHumFromTWetBulb-385"><a href="#GetRelHumFromTWetBulb-385"><span class="linenos">385</span></a>    <span class="n">RelHum</span> <span class="o">=</span>  <span class="n">GetRelHumFromHumRatio</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">HumRatio</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="GetRelHumFromTWetBulb-386"><a href="#GetRelHumFromTWetBulb-386"><span class="linenos">386</span></a>    <span class="k">return</span> <span class="n">RelHum</span>
</span></pre></div>


            <div class="docstring"><p>Return relative humidity given dry-bulb temperature, wet bulb temperature and pressure.</p>

<p>Args:
    TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]
    TWetBulb : Wet-bulb temperature in °F [IP] or °C [SI]
    Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</p>

<p>Returns:
    Relative humidity in range [0, 1]</p>

<p>Reference:
    ASHRAE Handbook - Fundamentals (2017) ch. 1</p>
</div>


                </section>
                <section id="GetTDewPointFromRelHum">
                            <input id="GetTDewPointFromRelHum-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">GetTDewPointFromRelHum</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span>, </span><span class="param"><span class="n">RelHum</span><span class="p">:</span> <span class="nb">float</span></span><span class="return-annotation">) -> <span class="nb">float</span>:</span></span>

                <label class="view-source-button" for="GetTDewPointFromRelHum-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GetTDewPointFromRelHum"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GetTDewPointFromRelHum-388"><a href="#GetTDewPointFromRelHum-388"><span class="linenos">388</span></a><span class="k">def</span> <span class="nf">GetTDewPointFromRelHum</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">RelHum</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="GetTDewPointFromRelHum-389"><a href="#GetTDewPointFromRelHum-389"><span class="linenos">389</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="GetTDewPointFromRelHum-390"><a href="#GetTDewPointFromRelHum-390"><span class="linenos">390</span></a><span class="sd">    Return dew-point temperature given dry-bulb temperature and relative humidity.</span>
</span><span id="GetTDewPointFromRelHum-391"><a href="#GetTDewPointFromRelHum-391"><span class="linenos">391</span></a>
</span><span id="GetTDewPointFromRelHum-392"><a href="#GetTDewPointFromRelHum-392"><span class="linenos">392</span></a><span class="sd">    Args:</span>
</span><span id="GetTDewPointFromRelHum-393"><a href="#GetTDewPointFromRelHum-393"><span class="linenos">393</span></a><span class="sd">        TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="GetTDewPointFromRelHum-394"><a href="#GetTDewPointFromRelHum-394"><span class="linenos">394</span></a><span class="sd">        RelHum: Relative humidity in range [0, 1]</span>
</span><span id="GetTDewPointFromRelHum-395"><a href="#GetTDewPointFromRelHum-395"><span class="linenos">395</span></a>
</span><span id="GetTDewPointFromRelHum-396"><a href="#GetTDewPointFromRelHum-396"><span class="linenos">396</span></a><span class="sd">    Returns:</span>
</span><span id="GetTDewPointFromRelHum-397"><a href="#GetTDewPointFromRelHum-397"><span class="linenos">397</span></a><span class="sd">        Dew-point temperature in °F [IP] or °C [SI]</span>
</span><span id="GetTDewPointFromRelHum-398"><a href="#GetTDewPointFromRelHum-398"><span class="linenos">398</span></a>
</span><span id="GetTDewPointFromRelHum-399"><a href="#GetTDewPointFromRelHum-399"><span class="linenos">399</span></a><span class="sd">    Reference:</span>
</span><span id="GetTDewPointFromRelHum-400"><a href="#GetTDewPointFromRelHum-400"><span class="linenos">400</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1</span>
</span><span id="GetTDewPointFromRelHum-401"><a href="#GetTDewPointFromRelHum-401"><span class="linenos">401</span></a>
</span><span id="GetTDewPointFromRelHum-402"><a href="#GetTDewPointFromRelHum-402"><span class="linenos">402</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="GetTDewPointFromRelHum-403"><a href="#GetTDewPointFromRelHum-403"><span class="linenos">403</span></a>    <span class="k">if</span> <span class="n">RelHum</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">RelHum</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="GetTDewPointFromRelHum-404"><a href="#GetTDewPointFromRelHum-404"><span class="linenos">404</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Relative humidity is outside range [0, 1]&quot;</span><span class="p">)</span>
</span><span id="GetTDewPointFromRelHum-405"><a href="#GetTDewPointFromRelHum-405"><span class="linenos">405</span></a>
</span><span id="GetTDewPointFromRelHum-406"><a href="#GetTDewPointFromRelHum-406"><span class="linenos">406</span></a>    <span class="n">VapPres</span> <span class="o">=</span> <span class="n">GetVapPresFromRelHum</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">RelHum</span><span class="p">)</span>
</span><span id="GetTDewPointFromRelHum-407"><a href="#GetTDewPointFromRelHum-407"><span class="linenos">407</span></a>    <span class="n">TDewPoint</span> <span class="o">=</span> <span class="n">GetTDewPointFromVapPres</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">VapPres</span><span class="p">)</span>
</span><span id="GetTDewPointFromRelHum-408"><a href="#GetTDewPointFromRelHum-408"><span class="linenos">408</span></a>    <span class="k">return</span> <span class="n">TDewPoint</span>
</span></pre></div>


            <div class="docstring"><p>Return dew-point temperature given dry-bulb temperature and relative humidity.</p>

<p>Args:
    TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]
    RelHum: Relative humidity in range [0, 1]</p>

<p>Returns:
    Dew-point temperature in °F [IP] or °C [SI]</p>

<p>Reference:
    ASHRAE Handbook - Fundamentals (2017) ch. 1</p>
</div>


                </section>
                <section id="GetTDewPointFromTWetBulb">
                            <input id="GetTDewPointFromTWetBulb-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">GetTDewPointFromTWetBulb</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span>, </span><span class="param"><span class="n">TWetBulb</span><span class="p">:</span> <span class="nb">float</span>, </span><span class="param"><span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span></span><span class="return-annotation">) -> <span class="nb">float</span>:</span></span>

                <label class="view-source-button" for="GetTDewPointFromTWetBulb-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GetTDewPointFromTWetBulb"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GetTDewPointFromTWetBulb-410"><a href="#GetTDewPointFromTWetBulb-410"><span class="linenos">410</span></a><span class="k">def</span> <span class="nf">GetTDewPointFromTWetBulb</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">TWetBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="GetTDewPointFromTWetBulb-411"><a href="#GetTDewPointFromTWetBulb-411"><span class="linenos">411</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="GetTDewPointFromTWetBulb-412"><a href="#GetTDewPointFromTWetBulb-412"><span class="linenos">412</span></a><span class="sd">    Return dew-point temperature given dry-bulb temperature, wet-bulb temperature, and pressure.</span>
</span><span id="GetTDewPointFromTWetBulb-413"><a href="#GetTDewPointFromTWetBulb-413"><span class="linenos">413</span></a>
</span><span id="GetTDewPointFromTWetBulb-414"><a href="#GetTDewPointFromTWetBulb-414"><span class="linenos">414</span></a><span class="sd">    Args:</span>
</span><span id="GetTDewPointFromTWetBulb-415"><a href="#GetTDewPointFromTWetBulb-415"><span class="linenos">415</span></a><span class="sd">        TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="GetTDewPointFromTWetBulb-416"><a href="#GetTDewPointFromTWetBulb-416"><span class="linenos">416</span></a><span class="sd">        TWetBulb : Wet-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="GetTDewPointFromTWetBulb-417"><a href="#GetTDewPointFromTWetBulb-417"><span class="linenos">417</span></a><span class="sd">        Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</span>
</span><span id="GetTDewPointFromTWetBulb-418"><a href="#GetTDewPointFromTWetBulb-418"><span class="linenos">418</span></a>
</span><span id="GetTDewPointFromTWetBulb-419"><a href="#GetTDewPointFromTWetBulb-419"><span class="linenos">419</span></a><span class="sd">    Returns:</span>
</span><span id="GetTDewPointFromTWetBulb-420"><a href="#GetTDewPointFromTWetBulb-420"><span class="linenos">420</span></a><span class="sd">        Dew-point temperature in °F [IP] or °C [SI]</span>
</span><span id="GetTDewPointFromTWetBulb-421"><a href="#GetTDewPointFromTWetBulb-421"><span class="linenos">421</span></a>
</span><span id="GetTDewPointFromTWetBulb-422"><a href="#GetTDewPointFromTWetBulb-422"><span class="linenos">422</span></a><span class="sd">    Reference:</span>
</span><span id="GetTDewPointFromTWetBulb-423"><a href="#GetTDewPointFromTWetBulb-423"><span class="linenos">423</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1</span>
</span><span id="GetTDewPointFromTWetBulb-424"><a href="#GetTDewPointFromTWetBulb-424"><span class="linenos">424</span></a>
</span><span id="GetTDewPointFromTWetBulb-425"><a href="#GetTDewPointFromTWetBulb-425"><span class="linenos">425</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="GetTDewPointFromTWetBulb-426"><a href="#GetTDewPointFromTWetBulb-426"><span class="linenos">426</span></a>    <span class="k">if</span> <span class="n">TWetBulb</span> <span class="o">&gt;</span> <span class="n">TDryBulb</span><span class="p">:</span>
</span><span id="GetTDewPointFromTWetBulb-427"><a href="#GetTDewPointFromTWetBulb-427"><span class="linenos">427</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Wet bulb temperature is above dry bulb temperature&quot;</span><span class="p">)</span>
</span><span id="GetTDewPointFromTWetBulb-428"><a href="#GetTDewPointFromTWetBulb-428"><span class="linenos">428</span></a>
</span><span id="GetTDewPointFromTWetBulb-429"><a href="#GetTDewPointFromTWetBulb-429"><span class="linenos">429</span></a>    <span class="n">HumRatio</span> <span class="o">=</span> <span class="n">GetHumRatioFromTWetBulb</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">TWetBulb</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="GetTDewPointFromTWetBulb-430"><a href="#GetTDewPointFromTWetBulb-430"><span class="linenos">430</span></a>    <span class="n">TDewPoint</span> <span class="o">=</span> <span class="n">GetTDewPointFromHumRatio</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">HumRatio</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="GetTDewPointFromTWetBulb-431"><a href="#GetTDewPointFromTWetBulb-431"><span class="linenos">431</span></a>    <span class="k">return</span> <span class="n">TDewPoint</span>
</span></pre></div>


            <div class="docstring"><p>Return dew-point temperature given dry-bulb temperature, wet-bulb temperature, and pressure.</p>

<p>Args:
    TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]
    TWetBulb : Wet-bulb temperature in °F [IP] or °C [SI]
    Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</p>

<p>Returns:
    Dew-point temperature in °F [IP] or °C [SI]</p>

<p>Reference:
    ASHRAE Handbook - Fundamentals (2017) ch. 1</p>
</div>


                </section>
                <section id="GetVapPresFromRelHum">
                            <input id="GetVapPresFromRelHum-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">GetVapPresFromRelHum</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span>, </span><span class="param"><span class="n">RelHum</span><span class="p">:</span> <span class="nb">float</span></span><span class="return-annotation">) -> <span class="nb">float</span>:</span></span>

                <label class="view-source-button" for="GetVapPresFromRelHum-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GetVapPresFromRelHum"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GetVapPresFromRelHum-438"><a href="#GetVapPresFromRelHum-438"><span class="linenos">438</span></a><span class="k">def</span> <span class="nf">GetVapPresFromRelHum</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">RelHum</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="GetVapPresFromRelHum-439"><a href="#GetVapPresFromRelHum-439"><span class="linenos">439</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="GetVapPresFromRelHum-440"><a href="#GetVapPresFromRelHum-440"><span class="linenos">440</span></a><span class="sd">    Return partial pressure of water vapor as a function of relative humidity and temperature.</span>
</span><span id="GetVapPresFromRelHum-441"><a href="#GetVapPresFromRelHum-441"><span class="linenos">441</span></a>
</span><span id="GetVapPresFromRelHum-442"><a href="#GetVapPresFromRelHum-442"><span class="linenos">442</span></a><span class="sd">    Args:</span>
</span><span id="GetVapPresFromRelHum-443"><a href="#GetVapPresFromRelHum-443"><span class="linenos">443</span></a><span class="sd">        TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="GetVapPresFromRelHum-444"><a href="#GetVapPresFromRelHum-444"><span class="linenos">444</span></a><span class="sd">        RelHum : Relative humidity in range [0, 1]</span>
</span><span id="GetVapPresFromRelHum-445"><a href="#GetVapPresFromRelHum-445"><span class="linenos">445</span></a>
</span><span id="GetVapPresFromRelHum-446"><a href="#GetVapPresFromRelHum-446"><span class="linenos">446</span></a><span class="sd">    Returns:</span>
</span><span id="GetVapPresFromRelHum-447"><a href="#GetVapPresFromRelHum-447"><span class="linenos">447</span></a><span class="sd">        Partial pressure of water vapor in moist air in Psi [IP] or Pa [SI]</span>
</span><span id="GetVapPresFromRelHum-448"><a href="#GetVapPresFromRelHum-448"><span class="linenos">448</span></a>
</span><span id="GetVapPresFromRelHum-449"><a href="#GetVapPresFromRelHum-449"><span class="linenos">449</span></a><span class="sd">    Reference:</span>
</span><span id="GetVapPresFromRelHum-450"><a href="#GetVapPresFromRelHum-450"><span class="linenos">450</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn 12, 22</span>
</span><span id="GetVapPresFromRelHum-451"><a href="#GetVapPresFromRelHum-451"><span class="linenos">451</span></a>
</span><span id="GetVapPresFromRelHum-452"><a href="#GetVapPresFromRelHum-452"><span class="linenos">452</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="GetVapPresFromRelHum-453"><a href="#GetVapPresFromRelHum-453"><span class="linenos">453</span></a>    <span class="k">if</span> <span class="n">RelHum</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">RelHum</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="GetVapPresFromRelHum-454"><a href="#GetVapPresFromRelHum-454"><span class="linenos">454</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Relative humidity is outside range [0, 1]&quot;</span><span class="p">)</span>
</span><span id="GetVapPresFromRelHum-455"><a href="#GetVapPresFromRelHum-455"><span class="linenos">455</span></a>
</span><span id="GetVapPresFromRelHum-456"><a href="#GetVapPresFromRelHum-456"><span class="linenos">456</span></a>    <span class="n">VapPres</span> <span class="o">=</span> <span class="n">RelHum</span> <span class="o">*</span> <span class="n">GetSatVapPres</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">)</span>
</span><span id="GetVapPresFromRelHum-457"><a href="#GetVapPresFromRelHum-457"><span class="linenos">457</span></a>    <span class="k">return</span> <span class="n">VapPres</span>
</span></pre></div>


            <div class="docstring"><p>Return partial pressure of water vapor as a function of relative humidity and temperature.</p>

<p>Args:
    TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]
    RelHum : Relative humidity in range [0, 1]</p>

<p>Returns:
    Partial pressure of water vapor in moist air in Psi [IP] or Pa [SI]</p>

<p>Reference:
    ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn 12, 22</p>
</div>


                </section>
                <section id="GetRelHumFromVapPres">
                            <input id="GetRelHumFromVapPres-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">GetRelHumFromVapPres</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span>, </span><span class="param"><span class="n">VapPres</span><span class="p">:</span> <span class="nb">float</span></span><span class="return-annotation">) -> <span class="nb">float</span>:</span></span>

                <label class="view-source-button" for="GetRelHumFromVapPres-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GetRelHumFromVapPres"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GetRelHumFromVapPres-459"><a href="#GetRelHumFromVapPres-459"><span class="linenos">459</span></a><span class="k">def</span> <span class="nf">GetRelHumFromVapPres</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">VapPres</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="GetRelHumFromVapPres-460"><a href="#GetRelHumFromVapPres-460"><span class="linenos">460</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="GetRelHumFromVapPres-461"><a href="#GetRelHumFromVapPres-461"><span class="linenos">461</span></a><span class="sd">    Return relative humidity given dry-bulb temperature and vapor pressure.</span>
</span><span id="GetRelHumFromVapPres-462"><a href="#GetRelHumFromVapPres-462"><span class="linenos">462</span></a>
</span><span id="GetRelHumFromVapPres-463"><a href="#GetRelHumFromVapPres-463"><span class="linenos">463</span></a><span class="sd">    Args:</span>
</span><span id="GetRelHumFromVapPres-464"><a href="#GetRelHumFromVapPres-464"><span class="linenos">464</span></a><span class="sd">        TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="GetRelHumFromVapPres-465"><a href="#GetRelHumFromVapPres-465"><span class="linenos">465</span></a><span class="sd">        VapPres: Partial pressure of water vapor in moist air in Psi [IP] or Pa [SI]</span>
</span><span id="GetRelHumFromVapPres-466"><a href="#GetRelHumFromVapPres-466"><span class="linenos">466</span></a>
</span><span id="GetRelHumFromVapPres-467"><a href="#GetRelHumFromVapPres-467"><span class="linenos">467</span></a><span class="sd">    Returns:</span>
</span><span id="GetRelHumFromVapPres-468"><a href="#GetRelHumFromVapPres-468"><span class="linenos">468</span></a><span class="sd">        Relative humidity in range [0, 1]</span>
</span><span id="GetRelHumFromVapPres-469"><a href="#GetRelHumFromVapPres-469"><span class="linenos">469</span></a>
</span><span id="GetRelHumFromVapPres-470"><a href="#GetRelHumFromVapPres-470"><span class="linenos">470</span></a><span class="sd">    Reference:</span>
</span><span id="GetRelHumFromVapPres-471"><a href="#GetRelHumFromVapPres-471"><span class="linenos">471</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn 12, 22</span>
</span><span id="GetRelHumFromVapPres-472"><a href="#GetRelHumFromVapPres-472"><span class="linenos">472</span></a>
</span><span id="GetRelHumFromVapPres-473"><a href="#GetRelHumFromVapPres-473"><span class="linenos">473</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="GetRelHumFromVapPres-474"><a href="#GetRelHumFromVapPres-474"><span class="linenos">474</span></a>    <span class="k">if</span> <span class="n">VapPres</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="GetRelHumFromVapPres-475"><a href="#GetRelHumFromVapPres-475"><span class="linenos">475</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Partial pressure of water vapor in moist air cannot be negative&quot;</span><span class="p">)</span>
</span><span id="GetRelHumFromVapPres-476"><a href="#GetRelHumFromVapPres-476"><span class="linenos">476</span></a>
</span><span id="GetRelHumFromVapPres-477"><a href="#GetRelHumFromVapPres-477"><span class="linenos">477</span></a>    <span class="n">RelHum</span> <span class="o">=</span> <span class="n">VapPres</span> <span class="o">/</span> <span class="n">GetSatVapPres</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">)</span>
</span><span id="GetRelHumFromVapPres-478"><a href="#GetRelHumFromVapPres-478"><span class="linenos">478</span></a>    <span class="k">return</span> <span class="n">RelHum</span>
</span></pre></div>


            <div class="docstring"><p>Return relative humidity given dry-bulb temperature and vapor pressure.</p>

<p>Args:
    TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]
    VapPres: Partial pressure of water vapor in moist air in Psi [IP] or Pa [SI]</p>

<p>Returns:
    Relative humidity in range [0, 1]</p>

<p>Reference:
    ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn 12, 22</p>
</div>


                </section>
                <section id="dLnPws_">
                            <input id="dLnPws_-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">dLnPws_</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span></span><span class="return-annotation">) -> <span class="nb">float</span>:</span></span>

                <label class="view-source-button" for="dLnPws_-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#dLnPws_"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="dLnPws_-480"><a href="#dLnPws_-480"><span class="linenos">480</span></a><span class="k">def</span> <span class="nf">dLnPws_</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="dLnPws_-481"><a href="#dLnPws_-481"><span class="linenos">481</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="dLnPws_-482"><a href="#dLnPws_-482"><span class="linenos">482</span></a><span class="sd">    Helper function returning the derivative of the natural log of the saturation vapor pressure </span>
</span><span id="dLnPws_-483"><a href="#dLnPws_-483"><span class="linenos">483</span></a><span class="sd">    as a function of dry-bulb temperature.</span>
</span><span id="dLnPws_-484"><a href="#dLnPws_-484"><span class="linenos">484</span></a>
</span><span id="dLnPws_-485"><a href="#dLnPws_-485"><span class="linenos">485</span></a><span class="sd">    Args:</span>
</span><span id="dLnPws_-486"><a href="#dLnPws_-486"><span class="linenos">486</span></a><span class="sd">        TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="dLnPws_-487"><a href="#dLnPws_-487"><span class="linenos">487</span></a>
</span><span id="dLnPws_-488"><a href="#dLnPws_-488"><span class="linenos">488</span></a><span class="sd">    Returns:</span>
</span><span id="dLnPws_-489"><a href="#dLnPws_-489"><span class="linenos">489</span></a><span class="sd">        Derivative of natural log of vapor pressure of saturated air in Psi [IP] or Pa [SI]</span>
</span><span id="dLnPws_-490"><a href="#dLnPws_-490"><span class="linenos">490</span></a>
</span><span id="dLnPws_-491"><a href="#dLnPws_-491"><span class="linenos">491</span></a><span class="sd">    Reference:</span>
</span><span id="dLnPws_-492"><a href="#dLnPws_-492"><span class="linenos">492</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1  eqn 5 &amp; 6</span>
</span><span id="dLnPws_-493"><a href="#dLnPws_-493"><span class="linenos">493</span></a>
</span><span id="dLnPws_-494"><a href="#dLnPws_-494"><span class="linenos">494</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="dLnPws_-495"><a href="#dLnPws_-495"><span class="linenos">495</span></a>    <span class="k">if</span> <span class="n">isIP</span><span class="p">():</span>
</span><span id="dLnPws_-496"><a href="#dLnPws_-496"><span class="linenos">496</span></a>        <span class="n">T</span> <span class="o">=</span> <span class="n">GetTRankineFromTFahrenheit</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">)</span>
</span><span id="dLnPws_-497"><a href="#dLnPws_-497"><span class="linenos">497</span></a>        <span class="k">if</span> <span class="n">TDryBulb</span> <span class="o">&lt;=</span> <span class="n">TRIPLE_POINT_WATER_IP</span><span class="p">:</span>
</span><span id="dLnPws_-498"><a href="#dLnPws_-498"><span class="linenos">498</span></a>            <span class="n">dLnPws</span> <span class="o">=</span> <span class="mf">1.0214165E+04</span> <span class="o">/</span> <span class="n">math</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="mf">5.3765794E-03</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="mf">1.9202377E-07</span> <span class="o">*</span> <span class="n">T</span> \
</span><span id="dLnPws_-499"><a href="#dLnPws_-499"><span class="linenos">499</span></a>                  <span class="o">+</span> <span class="mi">3</span> <span class="o">*</span> <span class="mf">3.5575832E-10</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="mi">4</span> <span class="o">*</span> <span class="mf">9.0344688E-14</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="o">+</span> <span class="mf">4.1635019</span> <span class="o">/</span> <span class="n">T</span>
</span><span id="dLnPws_-500"><a href="#dLnPws_-500"><span class="linenos">500</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="dLnPws_-501"><a href="#dLnPws_-501"><span class="linenos">501</span></a>            <span class="n">dLnPws</span> <span class="o">=</span> <span class="mf">1.0440397E+04</span> <span class="o">/</span> <span class="n">math</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="mf">2.7022355E-02</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="mf">1.2890360E-05</span> <span class="o">*</span> <span class="n">T</span> \
</span><span id="dLnPws_-502"><a href="#dLnPws_-502"><span class="linenos">502</span></a>                  <span class="o">-</span> <span class="mi">3</span> <span class="o">*</span> <span class="mf">2.4780681E-09</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="mf">6.5459673</span> <span class="o">/</span> <span class="n">T</span>
</span><span id="dLnPws_-503"><a href="#dLnPws_-503"><span class="linenos">503</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="dLnPws_-504"><a href="#dLnPws_-504"><span class="linenos">504</span></a>        <span class="n">T</span> <span class="o">=</span> <span class="n">GetTKelvinFromTCelsius</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">)</span>
</span><span id="dLnPws_-505"><a href="#dLnPws_-505"><span class="linenos">505</span></a>        <span class="k">if</span> <span class="n">TDryBulb</span> <span class="o">&lt;=</span> <span class="n">TRIPLE_POINT_WATER_SI</span><span class="p">:</span>
</span><span id="dLnPws_-506"><a href="#dLnPws_-506"><span class="linenos">506</span></a>            <span class="n">dLnPws</span> <span class="o">=</span> <span class="mf">5.6745359E+03</span> <span class="o">/</span> <span class="n">math</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="mf">9.677843E-03</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="mf">6.2215701E-07</span> <span class="o">*</span> <span class="n">T</span> \
</span><span id="dLnPws_-507"><a href="#dLnPws_-507"><span class="linenos">507</span></a>                  <span class="o">+</span> <span class="mi">3</span> <span class="o">*</span> <span class="mf">2.0747825E-09</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="mi">4</span> <span class="o">*</span> <span class="mf">9.484024E-13</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="o">+</span> <span class="mf">4.1635019</span> <span class="o">/</span> <span class="n">T</span>
</span><span id="dLnPws_-508"><a href="#dLnPws_-508"><span class="linenos">508</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="dLnPws_-509"><a href="#dLnPws_-509"><span class="linenos">509</span></a>            <span class="n">dLnPws</span> <span class="o">=</span> <span class="mf">5.8002206E+03</span> <span class="o">/</span> <span class="n">math</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="mf">4.8640239E-02</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="mf">4.1764768E-05</span> <span class="o">*</span> <span class="n">T</span> \
</span><span id="dLnPws_-510"><a href="#dLnPws_-510"><span class="linenos">510</span></a>                  <span class="o">-</span> <span class="mi">3</span> <span class="o">*</span> <span class="mf">1.4452093E-08</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="mf">6.5459673</span> <span class="o">/</span> <span class="n">T</span>
</span><span id="dLnPws_-511"><a href="#dLnPws_-511"><span class="linenos">511</span></a>
</span><span id="dLnPws_-512"><a href="#dLnPws_-512"><span class="linenos">512</span></a>    <span class="k">return</span> <span class="n">dLnPws</span>
</span></pre></div>


            <div class="docstring"><p>Helper function returning the derivative of the natural log of the saturation vapor pressure 
as a function of dry-bulb temperature.</p>

<p>Args:
    TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</p>

<p>Returns:
    Derivative of natural log of vapor pressure of saturated air in Psi [IP] or Pa [SI]</p>

<p>Reference:
    ASHRAE Handbook - Fundamentals (2017) ch. 1  eqn 5 &amp; 6</p>
</div>


                </section>
                <section id="GetTDewPointFromVapPres">
                            <input id="GetTDewPointFromVapPres-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">GetTDewPointFromVapPres</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span>, </span><span class="param"><span class="n">VapPres</span><span class="p">:</span> <span class="nb">float</span></span><span class="return-annotation">) -> <span class="nb">float</span>:</span></span>

                <label class="view-source-button" for="GetTDewPointFromVapPres-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GetTDewPointFromVapPres"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GetTDewPointFromVapPres-514"><a href="#GetTDewPointFromVapPres-514"><span class="linenos">514</span></a><span class="k">def</span> <span class="nf">GetTDewPointFromVapPres</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">VapPres</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="GetTDewPointFromVapPres-515"><a href="#GetTDewPointFromVapPres-515"><span class="linenos">515</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="GetTDewPointFromVapPres-516"><a href="#GetTDewPointFromVapPres-516"><span class="linenos">516</span></a><span class="sd">    Return dew-point temperature given dry-bulb temperature and vapor pressure.</span>
</span><span id="GetTDewPointFromVapPres-517"><a href="#GetTDewPointFromVapPres-517"><span class="linenos">517</span></a>
</span><span id="GetTDewPointFromVapPres-518"><a href="#GetTDewPointFromVapPres-518"><span class="linenos">518</span></a><span class="sd">    Args:</span>
</span><span id="GetTDewPointFromVapPres-519"><a href="#GetTDewPointFromVapPres-519"><span class="linenos">519</span></a><span class="sd">        TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="GetTDewPointFromVapPres-520"><a href="#GetTDewPointFromVapPres-520"><span class="linenos">520</span></a><span class="sd">        VapPres: Partial pressure of water vapor in moist air in Psi [IP] or Pa [SI]</span>
</span><span id="GetTDewPointFromVapPres-521"><a href="#GetTDewPointFromVapPres-521"><span class="linenos">521</span></a>
</span><span id="GetTDewPointFromVapPres-522"><a href="#GetTDewPointFromVapPres-522"><span class="linenos">522</span></a><span class="sd">    Returns:</span>
</span><span id="GetTDewPointFromVapPres-523"><a href="#GetTDewPointFromVapPres-523"><span class="linenos">523</span></a><span class="sd">        Dew-point temperature in °F [IP] or °C [SI]</span>
</span><span id="GetTDewPointFromVapPres-524"><a href="#GetTDewPointFromVapPres-524"><span class="linenos">524</span></a>
</span><span id="GetTDewPointFromVapPres-525"><a href="#GetTDewPointFromVapPres-525"><span class="linenos">525</span></a><span class="sd">    Reference:</span>
</span><span id="GetTDewPointFromVapPres-526"><a href="#GetTDewPointFromVapPres-526"><span class="linenos">526</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn. 5 and 6</span>
</span><span id="GetTDewPointFromVapPres-527"><a href="#GetTDewPointFromVapPres-527"><span class="linenos">527</span></a>
</span><span id="GetTDewPointFromVapPres-528"><a href="#GetTDewPointFromVapPres-528"><span class="linenos">528</span></a><span class="sd">    Notes:</span>
</span><span id="GetTDewPointFromVapPres-529"><a href="#GetTDewPointFromVapPres-529"><span class="linenos">529</span></a><span class="sd">        The dew point temperature is solved by inverting the equation giving water vapor pressure</span>
</span><span id="GetTDewPointFromVapPres-530"><a href="#GetTDewPointFromVapPres-530"><span class="linenos">530</span></a><span class="sd">        at saturation from temperature rather than using the regressions provided</span>
</span><span id="GetTDewPointFromVapPres-531"><a href="#GetTDewPointFromVapPres-531"><span class="linenos">531</span></a><span class="sd">        by ASHRAE (eqn. 37 and 38) which are much less accurate and have a</span>
</span><span id="GetTDewPointFromVapPres-532"><a href="#GetTDewPointFromVapPres-532"><span class="linenos">532</span></a><span class="sd">        narrower range of validity.</span>
</span><span id="GetTDewPointFromVapPres-533"><a href="#GetTDewPointFromVapPres-533"><span class="linenos">533</span></a><span class="sd">        The Newton-Raphson (NR) method is used on the logarithm of water vapour</span>
</span><span id="GetTDewPointFromVapPres-534"><a href="#GetTDewPointFromVapPres-534"><span class="linenos">534</span></a><span class="sd">        pressure as a function of temperature, which is a very smooth function</span>
</span><span id="GetTDewPointFromVapPres-535"><a href="#GetTDewPointFromVapPres-535"><span class="linenos">535</span></a><span class="sd">        Convergence is usually achieved in 3 to 5 iterations. </span>
</span><span id="GetTDewPointFromVapPres-536"><a href="#GetTDewPointFromVapPres-536"><span class="linenos">536</span></a><span class="sd">        TDryBulb is not really needed here, just used for convenience.</span>
</span><span id="GetTDewPointFromVapPres-537"><a href="#GetTDewPointFromVapPres-537"><span class="linenos">537</span></a>
</span><span id="GetTDewPointFromVapPres-538"><a href="#GetTDewPointFromVapPres-538"><span class="linenos">538</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="GetTDewPointFromVapPres-539"><a href="#GetTDewPointFromVapPres-539"><span class="linenos">539</span></a>    <span class="k">if</span> <span class="n">isIP</span><span class="p">():</span>
</span><span id="GetTDewPointFromVapPres-540"><a href="#GetTDewPointFromVapPres-540"><span class="linenos">540</span></a>        <span class="n">BOUNDS</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">148</span><span class="p">,</span> <span class="mi">392</span><span class="p">]</span>
</span><span id="GetTDewPointFromVapPres-541"><a href="#GetTDewPointFromVapPres-541"><span class="linenos">541</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="GetTDewPointFromVapPres-542"><a href="#GetTDewPointFromVapPres-542"><span class="linenos">542</span></a>        <span class="n">BOUNDS</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">]</span>
</span><span id="GetTDewPointFromVapPres-543"><a href="#GetTDewPointFromVapPres-543"><span class="linenos">543</span></a>
</span><span id="GetTDewPointFromVapPres-544"><a href="#GetTDewPointFromVapPres-544"><span class="linenos">544</span></a>    <span class="c1"># Validity check -- bounds outside which a solution cannot be found</span>
</span><span id="GetTDewPointFromVapPres-545"><a href="#GetTDewPointFromVapPres-545"><span class="linenos">545</span></a>    <span class="k">if</span> <span class="n">VapPres</span> <span class="o">&lt;</span> <span class="n">GetSatVapPres</span><span class="p">(</span><span class="n">BOUNDS</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="ow">or</span> <span class="n">VapPres</span> <span class="o">&gt;</span> <span class="n">GetSatVapPres</span><span class="p">(</span><span class="n">BOUNDS</span><span class="p">[</span><span class="mi">1</span><span class="p">]):</span>
</span><span id="GetTDewPointFromVapPres-546"><a href="#GetTDewPointFromVapPres-546"><span class="linenos">546</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Partial pressure of water vapor is outside range of validity of equations&quot;</span><span class="p">)</span>
</span><span id="GetTDewPointFromVapPres-547"><a href="#GetTDewPointFromVapPres-547"><span class="linenos">547</span></a>
</span><span id="GetTDewPointFromVapPres-548"><a href="#GetTDewPointFromVapPres-548"><span class="linenos">548</span></a>    <span class="c1"># We use NR to approximate the solution.</span>
</span><span id="GetTDewPointFromVapPres-549"><a href="#GetTDewPointFromVapPres-549"><span class="linenos">549</span></a>    <span class="c1"># First guess</span>
</span><span id="GetTDewPointFromVapPres-550"><a href="#GetTDewPointFromVapPres-550"><span class="linenos">550</span></a>    <span class="n">TDewPoint</span> <span class="o">=</span> <span class="n">TDryBulb</span>        <span class="c1"># Calculated value of dew point temperatures, solved for iteratively</span>
</span><span id="GetTDewPointFromVapPres-551"><a href="#GetTDewPointFromVapPres-551"><span class="linenos">551</span></a>    <span class="n">lnVP</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">VapPres</span><span class="p">)</span>    <span class="c1"># Partial pressure of water vapor in moist air</span>
</span><span id="GetTDewPointFromVapPres-552"><a href="#GetTDewPointFromVapPres-552"><span class="linenos">552</span></a>
</span><span id="GetTDewPointFromVapPres-553"><a href="#GetTDewPointFromVapPres-553"><span class="linenos">553</span></a>    <span class="n">index</span> <span class="o">=</span> <span class="mi">1</span>
</span><span id="GetTDewPointFromVapPres-554"><a href="#GetTDewPointFromVapPres-554"><span class="linenos">554</span></a>
</span><span id="GetTDewPointFromVapPres-555"><a href="#GetTDewPointFromVapPres-555"><span class="linenos">555</span></a>    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
</span><span id="GetTDewPointFromVapPres-556"><a href="#GetTDewPointFromVapPres-556"><span class="linenos">556</span></a>        <span class="n">TDewPoint_iter</span> <span class="o">=</span> <span class="n">TDewPoint</span>   <span class="c1"># TDewPoint used in NR calculation</span>
</span><span id="GetTDewPointFromVapPres-557"><a href="#GetTDewPointFromVapPres-557"><span class="linenos">557</span></a>        <span class="n">lnVP_iter</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">GetSatVapPres</span><span class="p">(</span><span class="n">TDewPoint_iter</span><span class="p">))</span>
</span><span id="GetTDewPointFromVapPres-558"><a href="#GetTDewPointFromVapPres-558"><span class="linenos">558</span></a>
</span><span id="GetTDewPointFromVapPres-559"><a href="#GetTDewPointFromVapPres-559"><span class="linenos">559</span></a>        <span class="c1"># Derivative of function, calculated analytically</span>
</span><span id="GetTDewPointFromVapPres-560"><a href="#GetTDewPointFromVapPres-560"><span class="linenos">560</span></a>        <span class="n">d_lnVP</span> <span class="o">=</span> <span class="n">dLnPws_</span><span class="p">(</span><span class="n">TDewPoint_iter</span><span class="p">)</span>
</span><span id="GetTDewPointFromVapPres-561"><a href="#GetTDewPointFromVapPres-561"><span class="linenos">561</span></a>
</span><span id="GetTDewPointFromVapPres-562"><a href="#GetTDewPointFromVapPres-562"><span class="linenos">562</span></a>        <span class="c1"># New estimate, bounded by the search domain defined above</span>
</span><span id="GetTDewPointFromVapPres-563"><a href="#GetTDewPointFromVapPres-563"><span class="linenos">563</span></a>        <span class="n">TDewPoint</span> <span class="o">=</span> <span class="n">TDewPoint_iter</span> <span class="o">-</span> <span class="p">(</span><span class="n">lnVP_iter</span> <span class="o">-</span> <span class="n">lnVP</span><span class="p">)</span> <span class="o">/</span> <span class="n">d_lnVP</span>
</span><span id="GetTDewPointFromVapPres-564"><a href="#GetTDewPointFromVapPres-564"><span class="linenos">564</span></a>        <span class="n">TDewPoint</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">TDewPoint</span><span class="p">,</span> <span class="n">BOUNDS</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</span><span id="GetTDewPointFromVapPres-565"><a href="#GetTDewPointFromVapPres-565"><span class="linenos">565</span></a>        <span class="n">TDewPoint</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">TDewPoint</span><span class="p">,</span> <span class="n">BOUNDS</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span><span id="GetTDewPointFromVapPres-566"><a href="#GetTDewPointFromVapPres-566"><span class="linenos">566</span></a>
</span><span id="GetTDewPointFromVapPres-567"><a href="#GetTDewPointFromVapPres-567"><span class="linenos">567</span></a>        <span class="k">if</span> <span class="p">((</span><span class="n">math</span><span class="o">.</span><span class="n">fabs</span><span class="p">(</span><span class="n">TDewPoint</span> <span class="o">-</span> <span class="n">TDewPoint_iter</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">PSYCHROLIB_TOLERANCE</span><span class="p">)):</span>
</span><span id="GetTDewPointFromVapPres-568"><a href="#GetTDewPointFromVapPres-568"><span class="linenos">568</span></a>            <span class="k">break</span>
</span><span id="GetTDewPointFromVapPres-569"><a href="#GetTDewPointFromVapPres-569"><span class="linenos">569</span></a>
</span><span id="GetTDewPointFromVapPres-570"><a href="#GetTDewPointFromVapPres-570"><span class="linenos">570</span></a>        <span class="k">if</span> <span class="p">(</span><span class="n">index</span> <span class="o">&gt;</span> <span class="n">MAX_ITER_COUNT</span><span class="p">):</span>
</span><span id="GetTDewPointFromVapPres-571"><a href="#GetTDewPointFromVapPres-571"><span class="linenos">571</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Convergence not reached in GetTDewPointFromVapPres. Stopping.&quot;</span><span class="p">)</span>
</span><span id="GetTDewPointFromVapPres-572"><a href="#GetTDewPointFromVapPres-572"><span class="linenos">572</span></a>
</span><span id="GetTDewPointFromVapPres-573"><a href="#GetTDewPointFromVapPres-573"><span class="linenos">573</span></a>        <span class="n">index</span> <span class="o">=</span> <span class="n">index</span> <span class="o">+</span> <span class="mi">1</span>
</span><span id="GetTDewPointFromVapPres-574"><a href="#GetTDewPointFromVapPres-574"><span class="linenos">574</span></a>
</span><span id="GetTDewPointFromVapPres-575"><a href="#GetTDewPointFromVapPres-575"><span class="linenos">575</span></a>    <span class="n">TDewPoint</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">TDewPoint</span><span class="p">,</span> <span class="n">TDryBulb</span><span class="p">)</span>
</span><span id="GetTDewPointFromVapPres-576"><a href="#GetTDewPointFromVapPres-576"><span class="linenos">576</span></a>    <span class="k">return</span> <span class="n">TDewPoint</span>
</span></pre></div>


            <div class="docstring"><p>Return dew-point temperature given dry-bulb temperature and vapor pressure.</p>

<p>Args:
    TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]
    VapPres: Partial pressure of water vapor in moist air in Psi [IP] or Pa [SI]</p>

<p>Returns:
    Dew-point temperature in °F [IP] or °C [SI]</p>

<p>Reference:
    ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn. 5 and 6</p>

<p>Notes:
    The dew point temperature is solved by inverting the equation giving water vapor pressure
    at saturation from temperature rather than using the regressions provided
    by ASHRAE (eqn. 37 and 38) which are much less accurate and have a
    narrower range of validity.
    The Newton-Raphson (NR) method is used on the logarithm of water vapour
    pressure as a function of temperature, which is a very smooth function
    Convergence is usually achieved in 3 to 5 iterations. 
    TDryBulb is not really needed here, just used for convenience.</p>
</div>


                </section>
                <section id="GetVapPresFromTDewPoint">
                            <input id="GetVapPresFromTDewPoint-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">GetVapPresFromTDewPoint</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">TDewPoint</span><span class="p">:</span> <span class="nb">float</span></span><span class="return-annotation">) -> <span class="nb">float</span>:</span></span>

                <label class="view-source-button" for="GetVapPresFromTDewPoint-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GetVapPresFromTDewPoint"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GetVapPresFromTDewPoint-578"><a href="#GetVapPresFromTDewPoint-578"><span class="linenos">578</span></a><span class="k">def</span> <span class="nf">GetVapPresFromTDewPoint</span><span class="p">(</span><span class="n">TDewPoint</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="GetVapPresFromTDewPoint-579"><a href="#GetVapPresFromTDewPoint-579"><span class="linenos">579</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="GetVapPresFromTDewPoint-580"><a href="#GetVapPresFromTDewPoint-580"><span class="linenos">580</span></a><span class="sd">    Return vapor pressure given dew point temperature.</span>
</span><span id="GetVapPresFromTDewPoint-581"><a href="#GetVapPresFromTDewPoint-581"><span class="linenos">581</span></a>
</span><span id="GetVapPresFromTDewPoint-582"><a href="#GetVapPresFromTDewPoint-582"><span class="linenos">582</span></a><span class="sd">    Args:</span>
</span><span id="GetVapPresFromTDewPoint-583"><a href="#GetVapPresFromTDewPoint-583"><span class="linenos">583</span></a><span class="sd">        TDewPoint : Dew-point temperature in °F [IP] or °C [SI]</span>
</span><span id="GetVapPresFromTDewPoint-584"><a href="#GetVapPresFromTDewPoint-584"><span class="linenos">584</span></a>
</span><span id="GetVapPresFromTDewPoint-585"><a href="#GetVapPresFromTDewPoint-585"><span class="linenos">585</span></a><span class="sd">    Returns:</span>
</span><span id="GetVapPresFromTDewPoint-586"><a href="#GetVapPresFromTDewPoint-586"><span class="linenos">586</span></a><span class="sd">        Partial pressure of water vapor in moist air in Psi [IP] or Pa [SI]</span>
</span><span id="GetVapPresFromTDewPoint-587"><a href="#GetVapPresFromTDewPoint-587"><span class="linenos">587</span></a>
</span><span id="GetVapPresFromTDewPoint-588"><a href="#GetVapPresFromTDewPoint-588"><span class="linenos">588</span></a><span class="sd">    Reference:</span>
</span><span id="GetVapPresFromTDewPoint-589"><a href="#GetVapPresFromTDewPoint-589"><span class="linenos">589</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn 36</span>
</span><span id="GetVapPresFromTDewPoint-590"><a href="#GetVapPresFromTDewPoint-590"><span class="linenos">590</span></a>
</span><span id="GetVapPresFromTDewPoint-591"><a href="#GetVapPresFromTDewPoint-591"><span class="linenos">591</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="GetVapPresFromTDewPoint-592"><a href="#GetVapPresFromTDewPoint-592"><span class="linenos">592</span></a>    <span class="n">VapPres</span> <span class="o">=</span> <span class="n">GetSatVapPres</span><span class="p">(</span><span class="n">TDewPoint</span><span class="p">)</span>
</span><span id="GetVapPresFromTDewPoint-593"><a href="#GetVapPresFromTDewPoint-593"><span class="linenos">593</span></a>    <span class="k">return</span> <span class="n">VapPres</span>
</span></pre></div>


            <div class="docstring"><p>Return vapor pressure given dew point temperature.</p>

<p>Args:
    TDewPoint : Dew-point temperature in °F [IP] or °C [SI]</p>

<p>Returns:
    Partial pressure of water vapor in moist air in Psi [IP] or Pa [SI]</p>

<p>Reference:
    ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn 36</p>
</div>


                </section>
                <section id="GetTWetBulbFromHumRatio">
                            <input id="GetTWetBulbFromHumRatio-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">GetTWetBulbFromHumRatio</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span>, </span><span class="param"><span class="n">HumRatio</span><span class="p">:</span> <span class="nb">float</span>, </span><span class="param"><span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span></span><span class="return-annotation">) -> <span class="nb">float</span>:</span></span>

                <label class="view-source-button" for="GetTWetBulbFromHumRatio-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GetTWetBulbFromHumRatio"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GetTWetBulbFromHumRatio-600"><a href="#GetTWetBulbFromHumRatio-600"><span class="linenos">600</span></a><span class="k">def</span> <span class="nf">GetTWetBulbFromHumRatio</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">HumRatio</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="GetTWetBulbFromHumRatio-601"><a href="#GetTWetBulbFromHumRatio-601"><span class="linenos">601</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="GetTWetBulbFromHumRatio-602"><a href="#GetTWetBulbFromHumRatio-602"><span class="linenos">602</span></a><span class="sd">    Return wet-bulb temperature given dry-bulb temperature, humidity ratio, and pressure.</span>
</span><span id="GetTWetBulbFromHumRatio-603"><a href="#GetTWetBulbFromHumRatio-603"><span class="linenos">603</span></a>
</span><span id="GetTWetBulbFromHumRatio-604"><a href="#GetTWetBulbFromHumRatio-604"><span class="linenos">604</span></a><span class="sd">    Args:</span>
</span><span id="GetTWetBulbFromHumRatio-605"><a href="#GetTWetBulbFromHumRatio-605"><span class="linenos">605</span></a><span class="sd">        TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="GetTWetBulbFromHumRatio-606"><a href="#GetTWetBulbFromHumRatio-606"><span class="linenos">606</span></a><span class="sd">        HumRatio : Humidity ratio in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]</span>
</span><span id="GetTWetBulbFromHumRatio-607"><a href="#GetTWetBulbFromHumRatio-607"><span class="linenos">607</span></a><span class="sd">        Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</span>
</span><span id="GetTWetBulbFromHumRatio-608"><a href="#GetTWetBulbFromHumRatio-608"><span class="linenos">608</span></a>
</span><span id="GetTWetBulbFromHumRatio-609"><a href="#GetTWetBulbFromHumRatio-609"><span class="linenos">609</span></a><span class="sd">    Returns:</span>
</span><span id="GetTWetBulbFromHumRatio-610"><a href="#GetTWetBulbFromHumRatio-610"><span class="linenos">610</span></a><span class="sd">        Wet-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="GetTWetBulbFromHumRatio-611"><a href="#GetTWetBulbFromHumRatio-611"><span class="linenos">611</span></a>
</span><span id="GetTWetBulbFromHumRatio-612"><a href="#GetTWetBulbFromHumRatio-612"><span class="linenos">612</span></a><span class="sd">    Reference:</span>
</span><span id="GetTWetBulbFromHumRatio-613"><a href="#GetTWetBulbFromHumRatio-613"><span class="linenos">613</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn 33 and 35 solved for Tstar</span>
</span><span id="GetTWetBulbFromHumRatio-614"><a href="#GetTWetBulbFromHumRatio-614"><span class="linenos">614</span></a>
</span><span id="GetTWetBulbFromHumRatio-615"><a href="#GetTWetBulbFromHumRatio-615"><span class="linenos">615</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="GetTWetBulbFromHumRatio-616"><a href="#GetTWetBulbFromHumRatio-616"><span class="linenos">616</span></a>    <span class="k">if</span> <span class="n">HumRatio</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="GetTWetBulbFromHumRatio-617"><a href="#GetTWetBulbFromHumRatio-617"><span class="linenos">617</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Humidity ratio cannot be negative&quot;</span><span class="p">)</span>
</span><span id="GetTWetBulbFromHumRatio-618"><a href="#GetTWetBulbFromHumRatio-618"><span class="linenos">618</span></a>    <span class="n">BoundedHumRatio</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">HumRatio</span><span class="p">,</span> <span class="n">MIN_HUM_RATIO</span><span class="p">)</span>
</span><span id="GetTWetBulbFromHumRatio-619"><a href="#GetTWetBulbFromHumRatio-619"><span class="linenos">619</span></a>
</span><span id="GetTWetBulbFromHumRatio-620"><a href="#GetTWetBulbFromHumRatio-620"><span class="linenos">620</span></a>    <span class="n">TDewPoint</span> <span class="o">=</span> <span class="n">GetTDewPointFromHumRatio</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">BoundedHumRatio</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="GetTWetBulbFromHumRatio-621"><a href="#GetTWetBulbFromHumRatio-621"><span class="linenos">621</span></a>
</span><span id="GetTWetBulbFromHumRatio-622"><a href="#GetTWetBulbFromHumRatio-622"><span class="linenos">622</span></a>    <span class="c1"># Initial guesses</span>
</span><span id="GetTWetBulbFromHumRatio-623"><a href="#GetTWetBulbFromHumRatio-623"><span class="linenos">623</span></a>    <span class="n">TWetBulbSup</span> <span class="o">=</span> <span class="n">TDryBulb</span>
</span><span id="GetTWetBulbFromHumRatio-624"><a href="#GetTWetBulbFromHumRatio-624"><span class="linenos">624</span></a>    <span class="n">TWetBulbInf</span> <span class="o">=</span> <span class="n">TDewPoint</span>
</span><span id="GetTWetBulbFromHumRatio-625"><a href="#GetTWetBulbFromHumRatio-625"><span class="linenos">625</span></a>    <span class="n">TWetBulb</span> <span class="o">=</span> <span class="p">(</span><span class="n">TWetBulbInf</span> <span class="o">+</span> <span class="n">TWetBulbSup</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span>
</span><span id="GetTWetBulbFromHumRatio-626"><a href="#GetTWetBulbFromHumRatio-626"><span class="linenos">626</span></a>
</span><span id="GetTWetBulbFromHumRatio-627"><a href="#GetTWetBulbFromHumRatio-627"><span class="linenos">627</span></a>    <span class="n">index</span> <span class="o">=</span> <span class="mi">1</span>
</span><span id="GetTWetBulbFromHumRatio-628"><a href="#GetTWetBulbFromHumRatio-628"><span class="linenos">628</span></a>    <span class="c1"># Bisection loop</span>
</span><span id="GetTWetBulbFromHumRatio-629"><a href="#GetTWetBulbFromHumRatio-629"><span class="linenos">629</span></a>    <span class="k">while</span> <span class="p">((</span><span class="n">TWetBulbSup</span> <span class="o">-</span> <span class="n">TWetBulbInf</span><span class="p">)</span> <span class="o">&gt;</span> <span class="n">PSYCHROLIB_TOLERANCE</span><span class="p">):</span>
</span><span id="GetTWetBulbFromHumRatio-630"><a href="#GetTWetBulbFromHumRatio-630"><span class="linenos">630</span></a>
</span><span id="GetTWetBulbFromHumRatio-631"><a href="#GetTWetBulbFromHumRatio-631"><span class="linenos">631</span></a>        <span class="c1"># Compute humidity ratio at temperature Tstar</span>
</span><span id="GetTWetBulbFromHumRatio-632"><a href="#GetTWetBulbFromHumRatio-632"><span class="linenos">632</span></a>        <span class="n">Wstar</span> <span class="o">=</span> <span class="n">GetHumRatioFromTWetBulb</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">TWetBulb</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="GetTWetBulbFromHumRatio-633"><a href="#GetTWetBulbFromHumRatio-633"><span class="linenos">633</span></a>
</span><span id="GetTWetBulbFromHumRatio-634"><a href="#GetTWetBulbFromHumRatio-634"><span class="linenos">634</span></a>        <span class="c1"># Get new bounds</span>
</span><span id="GetTWetBulbFromHumRatio-635"><a href="#GetTWetBulbFromHumRatio-635"><span class="linenos">635</span></a>        <span class="k">if</span> <span class="n">Wstar</span> <span class="o">&gt;</span> <span class="n">BoundedHumRatio</span><span class="p">:</span>
</span><span id="GetTWetBulbFromHumRatio-636"><a href="#GetTWetBulbFromHumRatio-636"><span class="linenos">636</span></a>            <span class="n">TWetBulbSup</span> <span class="o">=</span> <span class="n">TWetBulb</span>
</span><span id="GetTWetBulbFromHumRatio-637"><a href="#GetTWetBulbFromHumRatio-637"><span class="linenos">637</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="GetTWetBulbFromHumRatio-638"><a href="#GetTWetBulbFromHumRatio-638"><span class="linenos">638</span></a>            <span class="n">TWetBulbInf</span> <span class="o">=</span> <span class="n">TWetBulb</span>
</span><span id="GetTWetBulbFromHumRatio-639"><a href="#GetTWetBulbFromHumRatio-639"><span class="linenos">639</span></a>
</span><span id="GetTWetBulbFromHumRatio-640"><a href="#GetTWetBulbFromHumRatio-640"><span class="linenos">640</span></a>        <span class="c1"># New guess of wet bulb temperature</span>
</span><span id="GetTWetBulbFromHumRatio-641"><a href="#GetTWetBulbFromHumRatio-641"><span class="linenos">641</span></a>        <span class="n">TWetBulb</span> <span class="o">=</span> <span class="p">(</span><span class="n">TWetBulbSup</span> <span class="o">+</span> <span class="n">TWetBulbInf</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span>
</span><span id="GetTWetBulbFromHumRatio-642"><a href="#GetTWetBulbFromHumRatio-642"><span class="linenos">642</span></a>
</span><span id="GetTWetBulbFromHumRatio-643"><a href="#GetTWetBulbFromHumRatio-643"><span class="linenos">643</span></a>        <span class="k">if</span> <span class="p">(</span><span class="n">index</span> <span class="o">&gt;=</span> <span class="n">MAX_ITER_COUNT</span><span class="p">):</span>
</span><span id="GetTWetBulbFromHumRatio-644"><a href="#GetTWetBulbFromHumRatio-644"><span class="linenos">644</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Convergence not reached in GetTWetBulbFromHumRatio. Stopping.&quot;</span><span class="p">)</span>
</span><span id="GetTWetBulbFromHumRatio-645"><a href="#GetTWetBulbFromHumRatio-645"><span class="linenos">645</span></a>
</span><span id="GetTWetBulbFromHumRatio-646"><a href="#GetTWetBulbFromHumRatio-646"><span class="linenos">646</span></a>        <span class="n">index</span> <span class="o">=</span> <span class="n">index</span> <span class="o">+</span> <span class="mi">1</span>
</span><span id="GetTWetBulbFromHumRatio-647"><a href="#GetTWetBulbFromHumRatio-647"><span class="linenos">647</span></a>    <span class="k">return</span> <span class="n">TWetBulb</span>
</span></pre></div>


            <div class="docstring"><p>Return wet-bulb temperature given dry-bulb temperature, humidity ratio, and pressure.</p>

<p>Args:
    TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]
    HumRatio : Humidity ratio in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]
    Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</p>

<p>Returns:
    Wet-bulb temperature in °F [IP] or °C [SI]</p>

<p>Reference:
    ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn 33 and 35 solved for Tstar</p>
</div>


                </section>
                <section id="GetHumRatioFromTWetBulb">
                            <input id="GetHumRatioFromTWetBulb-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">GetHumRatioFromTWetBulb</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span>, </span><span class="param"><span class="n">TWetBulb</span><span class="p">:</span> <span class="nb">float</span>, </span><span class="param"><span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span></span><span class="return-annotation">) -> <span class="nb">float</span>:</span></span>

                <label class="view-source-button" for="GetHumRatioFromTWetBulb-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GetHumRatioFromTWetBulb"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GetHumRatioFromTWetBulb-649"><a href="#GetHumRatioFromTWetBulb-649"><span class="linenos">649</span></a><span class="k">def</span> <span class="nf">GetHumRatioFromTWetBulb</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">TWetBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="GetHumRatioFromTWetBulb-650"><a href="#GetHumRatioFromTWetBulb-650"><span class="linenos">650</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="GetHumRatioFromTWetBulb-651"><a href="#GetHumRatioFromTWetBulb-651"><span class="linenos">651</span></a><span class="sd">    Return humidity ratio given dry-bulb temperature, wet-bulb temperature, and pressure.</span>
</span><span id="GetHumRatioFromTWetBulb-652"><a href="#GetHumRatioFromTWetBulb-652"><span class="linenos">652</span></a>
</span><span id="GetHumRatioFromTWetBulb-653"><a href="#GetHumRatioFromTWetBulb-653"><span class="linenos">653</span></a><span class="sd">    Args:</span>
</span><span id="GetHumRatioFromTWetBulb-654"><a href="#GetHumRatioFromTWetBulb-654"><span class="linenos">654</span></a><span class="sd">        TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="GetHumRatioFromTWetBulb-655"><a href="#GetHumRatioFromTWetBulb-655"><span class="linenos">655</span></a><span class="sd">        TWetBulb : Wet-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="GetHumRatioFromTWetBulb-656"><a href="#GetHumRatioFromTWetBulb-656"><span class="linenos">656</span></a><span class="sd">        Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</span>
</span><span id="GetHumRatioFromTWetBulb-657"><a href="#GetHumRatioFromTWetBulb-657"><span class="linenos">657</span></a>
</span><span id="GetHumRatioFromTWetBulb-658"><a href="#GetHumRatioFromTWetBulb-658"><span class="linenos">658</span></a><span class="sd">    Returns:</span>
</span><span id="GetHumRatioFromTWetBulb-659"><a href="#GetHumRatioFromTWetBulb-659"><span class="linenos">659</span></a><span class="sd">        Humidity ratio in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]</span>
</span><span id="GetHumRatioFromTWetBulb-660"><a href="#GetHumRatioFromTWetBulb-660"><span class="linenos">660</span></a>
</span><span id="GetHumRatioFromTWetBulb-661"><a href="#GetHumRatioFromTWetBulb-661"><span class="linenos">661</span></a><span class="sd">    Reference:</span>
</span><span id="GetHumRatioFromTWetBulb-662"><a href="#GetHumRatioFromTWetBulb-662"><span class="linenos">662</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn 33 and 35</span>
</span><span id="GetHumRatioFromTWetBulb-663"><a href="#GetHumRatioFromTWetBulb-663"><span class="linenos">663</span></a>
</span><span id="GetHumRatioFromTWetBulb-664"><a href="#GetHumRatioFromTWetBulb-664"><span class="linenos">664</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="GetHumRatioFromTWetBulb-665"><a href="#GetHumRatioFromTWetBulb-665"><span class="linenos">665</span></a>    <span class="k">if</span> <span class="n">TWetBulb</span> <span class="o">&gt;</span> <span class="n">TDryBulb</span><span class="p">:</span>
</span><span id="GetHumRatioFromTWetBulb-666"><a href="#GetHumRatioFromTWetBulb-666"><span class="linenos">666</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Wet bulb temperature is above dry bulb temperature&quot;</span><span class="p">)</span>
</span><span id="GetHumRatioFromTWetBulb-667"><a href="#GetHumRatioFromTWetBulb-667"><span class="linenos">667</span></a>
</span><span id="GetHumRatioFromTWetBulb-668"><a href="#GetHumRatioFromTWetBulb-668"><span class="linenos">668</span></a>    <span class="n">Wsstar</span> <span class="o">=</span> <span class="n">GetSatHumRatio</span><span class="p">(</span><span class="n">TWetBulb</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="GetHumRatioFromTWetBulb-669"><a href="#GetHumRatioFromTWetBulb-669"><span class="linenos">669</span></a>
</span><span id="GetHumRatioFromTWetBulb-670"><a href="#GetHumRatioFromTWetBulb-670"><span class="linenos">670</span></a>    <span class="k">if</span> <span class="n">isIP</span><span class="p">():</span>
</span><span id="GetHumRatioFromTWetBulb-671"><a href="#GetHumRatioFromTWetBulb-671"><span class="linenos">671</span></a>       <span class="k">if</span> <span class="n">TWetBulb</span> <span class="o">&gt;=</span> <span class="n">FREEZING_POINT_WATER_IP</span><span class="p">:</span>
</span><span id="GetHumRatioFromTWetBulb-672"><a href="#GetHumRatioFromTWetBulb-672"><span class="linenos">672</span></a>           <span class="n">HumRatio</span> <span class="o">=</span> <span class="p">((</span><span class="mi">1093</span> <span class="o">-</span> <span class="mf">0.556</span> <span class="o">*</span> <span class="n">TWetBulb</span><span class="p">)</span> <span class="o">*</span> <span class="n">Wsstar</span> <span class="o">-</span> <span class="mf">0.240</span> <span class="o">*</span> <span class="p">(</span><span class="n">TDryBulb</span> <span class="o">-</span> <span class="n">TWetBulb</span><span class="p">))</span> \
</span><span id="GetHumRatioFromTWetBulb-673"><a href="#GetHumRatioFromTWetBulb-673"><span class="linenos">673</span></a>                    <span class="o">/</span> <span class="p">(</span><span class="mi">1093</span> <span class="o">+</span> <span class="mf">0.444</span> <span class="o">*</span> <span class="n">TDryBulb</span> <span class="o">-</span> <span class="n">TWetBulb</span><span class="p">)</span>
</span><span id="GetHumRatioFromTWetBulb-674"><a href="#GetHumRatioFromTWetBulb-674"><span class="linenos">674</span></a>       <span class="k">else</span><span class="p">:</span>
</span><span id="GetHumRatioFromTWetBulb-675"><a href="#GetHumRatioFromTWetBulb-675"><span class="linenos">675</span></a>           <span class="n">HumRatio</span> <span class="o">=</span> <span class="p">((</span><span class="mi">1220</span> <span class="o">-</span> <span class="mf">0.04</span> <span class="o">*</span> <span class="n">TWetBulb</span><span class="p">)</span> <span class="o">*</span> <span class="n">Wsstar</span> <span class="o">-</span> <span class="mf">0.240</span> <span class="o">*</span> <span class="p">(</span><span class="n">TDryBulb</span> <span class="o">-</span> <span class="n">TWetBulb</span><span class="p">))</span> \
</span><span id="GetHumRatioFromTWetBulb-676"><a href="#GetHumRatioFromTWetBulb-676"><span class="linenos">676</span></a>                    <span class="o">/</span> <span class="p">(</span><span class="mi">1220</span> <span class="o">+</span> <span class="mf">0.444</span> <span class="o">*</span> <span class="n">TDryBulb</span> <span class="o">-</span> <span class="mf">0.48</span><span class="o">*</span><span class="n">TWetBulb</span><span class="p">)</span>
</span><span id="GetHumRatioFromTWetBulb-677"><a href="#GetHumRatioFromTWetBulb-677"><span class="linenos">677</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="GetHumRatioFromTWetBulb-678"><a href="#GetHumRatioFromTWetBulb-678"><span class="linenos">678</span></a>       <span class="k">if</span> <span class="n">TWetBulb</span> <span class="o">&gt;=</span> <span class="n">FREEZING_POINT_WATER_SI</span><span class="p">:</span>
</span><span id="GetHumRatioFromTWetBulb-679"><a href="#GetHumRatioFromTWetBulb-679"><span class="linenos">679</span></a>           <span class="n">HumRatio</span> <span class="o">=</span> <span class="p">((</span><span class="mf">2501.</span> <span class="o">-</span> <span class="mf">2.326</span> <span class="o">*</span> <span class="n">TWetBulb</span><span class="p">)</span> <span class="o">*</span> <span class="n">Wsstar</span> <span class="o">-</span> <span class="mf">1.006</span> <span class="o">*</span> <span class="p">(</span><span class="n">TDryBulb</span> <span class="o">-</span> <span class="n">TWetBulb</span><span class="p">))</span> \
</span><span id="GetHumRatioFromTWetBulb-680"><a href="#GetHumRatioFromTWetBulb-680"><span class="linenos">680</span></a>                    <span class="o">/</span> <span class="p">(</span><span class="mf">2501.</span> <span class="o">+</span> <span class="mf">1.86</span> <span class="o">*</span> <span class="n">TDryBulb</span> <span class="o">-</span> <span class="mf">4.186</span> <span class="o">*</span> <span class="n">TWetBulb</span><span class="p">)</span>
</span><span id="GetHumRatioFromTWetBulb-681"><a href="#GetHumRatioFromTWetBulb-681"><span class="linenos">681</span></a>       <span class="k">else</span><span class="p">:</span>
</span><span id="GetHumRatioFromTWetBulb-682"><a href="#GetHumRatioFromTWetBulb-682"><span class="linenos">682</span></a>           <span class="n">HumRatio</span> <span class="o">=</span> <span class="p">((</span><span class="mf">2830.</span> <span class="o">-</span> <span class="mf">0.24</span> <span class="o">*</span> <span class="n">TWetBulb</span><span class="p">)</span> <span class="o">*</span> <span class="n">Wsstar</span> <span class="o">-</span> <span class="mf">1.006</span> <span class="o">*</span> <span class="p">(</span><span class="n">TDryBulb</span> <span class="o">-</span> <span class="n">TWetBulb</span><span class="p">))</span> \
</span><span id="GetHumRatioFromTWetBulb-683"><a href="#GetHumRatioFromTWetBulb-683"><span class="linenos">683</span></a>                    <span class="o">/</span> <span class="p">(</span><span class="mf">2830.</span> <span class="o">+</span> <span class="mf">1.86</span> <span class="o">*</span> <span class="n">TDryBulb</span> <span class="o">-</span> <span class="mf">2.1</span> <span class="o">*</span> <span class="n">TWetBulb</span><span class="p">)</span>
</span><span id="GetHumRatioFromTWetBulb-684"><a href="#GetHumRatioFromTWetBulb-684"><span class="linenos">684</span></a>    <span class="c1"># Validity check.</span>
</span><span id="GetHumRatioFromTWetBulb-685"><a href="#GetHumRatioFromTWetBulb-685"><span class="linenos">685</span></a>    <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="n">HumRatio</span><span class="p">,</span> <span class="n">MIN_HUM_RATIO</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Return humidity ratio given dry-bulb temperature, wet-bulb temperature, and pressure.</p>

<p>Args:
    TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]
    TWetBulb : Wet-bulb temperature in °F [IP] or °C [SI]
    Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</p>

<p>Returns:
    Humidity ratio in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]</p>

<p>Reference:
    ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn 33 and 35</p>
</div>


                </section>
                <section id="GetHumRatioFromRelHum">
                            <input id="GetHumRatioFromRelHum-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">GetHumRatioFromRelHum</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span>, </span><span class="param"><span class="n">RelHum</span><span class="p">:</span> <span class="nb">float</span>, </span><span class="param"><span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span></span><span class="return-annotation">) -> <span class="nb">float</span>:</span></span>

                <label class="view-source-button" for="GetHumRatioFromRelHum-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GetHumRatioFromRelHum"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GetHumRatioFromRelHum-687"><a href="#GetHumRatioFromRelHum-687"><span class="linenos">687</span></a><span class="k">def</span> <span class="nf">GetHumRatioFromRelHum</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">RelHum</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="GetHumRatioFromRelHum-688"><a href="#GetHumRatioFromRelHum-688"><span class="linenos">688</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="GetHumRatioFromRelHum-689"><a href="#GetHumRatioFromRelHum-689"><span class="linenos">689</span></a><span class="sd">    Return humidity ratio given dry-bulb temperature, relative humidity, and pressure.</span>
</span><span id="GetHumRatioFromRelHum-690"><a href="#GetHumRatioFromRelHum-690"><span class="linenos">690</span></a>
</span><span id="GetHumRatioFromRelHum-691"><a href="#GetHumRatioFromRelHum-691"><span class="linenos">691</span></a><span class="sd">    Args:</span>
</span><span id="GetHumRatioFromRelHum-692"><a href="#GetHumRatioFromRelHum-692"><span class="linenos">692</span></a><span class="sd">        TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="GetHumRatioFromRelHum-693"><a href="#GetHumRatioFromRelHum-693"><span class="linenos">693</span></a><span class="sd">        RelHum : Relative humidity in range [0, 1]</span>
</span><span id="GetHumRatioFromRelHum-694"><a href="#GetHumRatioFromRelHum-694"><span class="linenos">694</span></a><span class="sd">        Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</span>
</span><span id="GetHumRatioFromRelHum-695"><a href="#GetHumRatioFromRelHum-695"><span class="linenos">695</span></a>
</span><span id="GetHumRatioFromRelHum-696"><a href="#GetHumRatioFromRelHum-696"><span class="linenos">696</span></a><span class="sd">    Returns:</span>
</span><span id="GetHumRatioFromRelHum-697"><a href="#GetHumRatioFromRelHum-697"><span class="linenos">697</span></a><span class="sd">        Humidity ratio in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]</span>
</span><span id="GetHumRatioFromRelHum-698"><a href="#GetHumRatioFromRelHum-698"><span class="linenos">698</span></a>
</span><span id="GetHumRatioFromRelHum-699"><a href="#GetHumRatioFromRelHum-699"><span class="linenos">699</span></a><span class="sd">    Reference:</span>
</span><span id="GetHumRatioFromRelHum-700"><a href="#GetHumRatioFromRelHum-700"><span class="linenos">700</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1</span>
</span><span id="GetHumRatioFromRelHum-701"><a href="#GetHumRatioFromRelHum-701"><span class="linenos">701</span></a>
</span><span id="GetHumRatioFromRelHum-702"><a href="#GetHumRatioFromRelHum-702"><span class="linenos">702</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="GetHumRatioFromRelHum-703"><a href="#GetHumRatioFromRelHum-703"><span class="linenos">703</span></a>    <span class="k">if</span> <span class="n">RelHum</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">RelHum</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
</span><span id="GetHumRatioFromRelHum-704"><a href="#GetHumRatioFromRelHum-704"><span class="linenos">704</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Relative humidity is outside range [0, 1]&quot;</span><span class="p">)</span>
</span><span id="GetHumRatioFromRelHum-705"><a href="#GetHumRatioFromRelHum-705"><span class="linenos">705</span></a>
</span><span id="GetHumRatioFromRelHum-706"><a href="#GetHumRatioFromRelHum-706"><span class="linenos">706</span></a>    <span class="n">VapPres</span> <span class="o">=</span> <span class="n">GetVapPresFromRelHum</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">RelHum</span><span class="p">)</span>
</span><span id="GetHumRatioFromRelHum-707"><a href="#GetHumRatioFromRelHum-707"><span class="linenos">707</span></a>    <span class="n">HumRatio</span> <span class="o">=</span> <span class="n">GetHumRatioFromVapPres</span><span class="p">(</span><span class="n">VapPres</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="GetHumRatioFromRelHum-708"><a href="#GetHumRatioFromRelHum-708"><span class="linenos">708</span></a>    <span class="k">return</span> <span class="n">HumRatio</span>
</span></pre></div>


            <div class="docstring"><p>Return humidity ratio given dry-bulb temperature, relative humidity, and pressure.</p>

<p>Args:
    TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]
    RelHum : Relative humidity in range [0, 1]
    Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</p>

<p>Returns:
    Humidity ratio in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]</p>

<p>Reference:
    ASHRAE Handbook - Fundamentals (2017) ch. 1</p>
</div>


                </section>
                <section id="GetRelHumFromHumRatio">
                            <input id="GetRelHumFromHumRatio-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">GetRelHumFromHumRatio</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span>, </span><span class="param"><span class="n">HumRatio</span><span class="p">:</span> <span class="nb">float</span>, </span><span class="param"><span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span></span><span class="return-annotation">) -> <span class="nb">float</span>:</span></span>

                <label class="view-source-button" for="GetRelHumFromHumRatio-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GetRelHumFromHumRatio"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GetRelHumFromHumRatio-710"><a href="#GetRelHumFromHumRatio-710"><span class="linenos">710</span></a><span class="k">def</span> <span class="nf">GetRelHumFromHumRatio</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">HumRatio</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="GetRelHumFromHumRatio-711"><a href="#GetRelHumFromHumRatio-711"><span class="linenos">711</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="GetRelHumFromHumRatio-712"><a href="#GetRelHumFromHumRatio-712"><span class="linenos">712</span></a><span class="sd">    Return relative humidity given dry-bulb temperature, humidity ratio, and pressure.</span>
</span><span id="GetRelHumFromHumRatio-713"><a href="#GetRelHumFromHumRatio-713"><span class="linenos">713</span></a>
</span><span id="GetRelHumFromHumRatio-714"><a href="#GetRelHumFromHumRatio-714"><span class="linenos">714</span></a><span class="sd">    Args:</span>
</span><span id="GetRelHumFromHumRatio-715"><a href="#GetRelHumFromHumRatio-715"><span class="linenos">715</span></a><span class="sd">        TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="GetRelHumFromHumRatio-716"><a href="#GetRelHumFromHumRatio-716"><span class="linenos">716</span></a><span class="sd">        HumRatio : Humidity ratio in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]</span>
</span><span id="GetRelHumFromHumRatio-717"><a href="#GetRelHumFromHumRatio-717"><span class="linenos">717</span></a><span class="sd">        Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</span>
</span><span id="GetRelHumFromHumRatio-718"><a href="#GetRelHumFromHumRatio-718"><span class="linenos">718</span></a>
</span><span id="GetRelHumFromHumRatio-719"><a href="#GetRelHumFromHumRatio-719"><span class="linenos">719</span></a><span class="sd">    Returns:</span>
</span><span id="GetRelHumFromHumRatio-720"><a href="#GetRelHumFromHumRatio-720"><span class="linenos">720</span></a><span class="sd">        Relative humidity in range [0, 1]</span>
</span><span id="GetRelHumFromHumRatio-721"><a href="#GetRelHumFromHumRatio-721"><span class="linenos">721</span></a>
</span><span id="GetRelHumFromHumRatio-722"><a href="#GetRelHumFromHumRatio-722"><span class="linenos">722</span></a><span class="sd">    Reference:</span>
</span><span id="GetRelHumFromHumRatio-723"><a href="#GetRelHumFromHumRatio-723"><span class="linenos">723</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1</span>
</span><span id="GetRelHumFromHumRatio-724"><a href="#GetRelHumFromHumRatio-724"><span class="linenos">724</span></a>
</span><span id="GetRelHumFromHumRatio-725"><a href="#GetRelHumFromHumRatio-725"><span class="linenos">725</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="GetRelHumFromHumRatio-726"><a href="#GetRelHumFromHumRatio-726"><span class="linenos">726</span></a>    <span class="k">if</span> <span class="n">HumRatio</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="GetRelHumFromHumRatio-727"><a href="#GetRelHumFromHumRatio-727"><span class="linenos">727</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Humidity ratio cannot be negative&quot;</span><span class="p">)</span>
</span><span id="GetRelHumFromHumRatio-728"><a href="#GetRelHumFromHumRatio-728"><span class="linenos">728</span></a>
</span><span id="GetRelHumFromHumRatio-729"><a href="#GetRelHumFromHumRatio-729"><span class="linenos">729</span></a>    <span class="n">VapPres</span> <span class="o">=</span> <span class="n">GetVapPresFromHumRatio</span><span class="p">(</span><span class="n">HumRatio</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="GetRelHumFromHumRatio-730"><a href="#GetRelHumFromHumRatio-730"><span class="linenos">730</span></a>    <span class="n">RelHum</span> <span class="o">=</span> <span class="n">GetRelHumFromVapPres</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">VapPres</span><span class="p">)</span>
</span><span id="GetRelHumFromHumRatio-731"><a href="#GetRelHumFromHumRatio-731"><span class="linenos">731</span></a>    <span class="k">return</span> <span class="n">RelHum</span>
</span></pre></div>


            <div class="docstring"><p>Return relative humidity given dry-bulb temperature, humidity ratio, and pressure.</p>

<p>Args:
    TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]
    HumRatio : Humidity ratio in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]
    Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</p>

<p>Returns:
    Relative humidity in range [0, 1]</p>

<p>Reference:
    ASHRAE Handbook - Fundamentals (2017) ch. 1</p>
</div>


                </section>
                <section id="GetHumRatioFromTDewPoint">
                            <input id="GetHumRatioFromTDewPoint-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">GetHumRatioFromTDewPoint</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">TDewPoint</span><span class="p">:</span> <span class="nb">float</span>, </span><span class="param"><span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span></span><span class="return-annotation">) -> <span class="nb">float</span>:</span></span>

                <label class="view-source-button" for="GetHumRatioFromTDewPoint-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GetHumRatioFromTDewPoint"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GetHumRatioFromTDewPoint-733"><a href="#GetHumRatioFromTDewPoint-733"><span class="linenos">733</span></a><span class="k">def</span> <span class="nf">GetHumRatioFromTDewPoint</span><span class="p">(</span><span class="n">TDewPoint</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="GetHumRatioFromTDewPoint-734"><a href="#GetHumRatioFromTDewPoint-734"><span class="linenos">734</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="GetHumRatioFromTDewPoint-735"><a href="#GetHumRatioFromTDewPoint-735"><span class="linenos">735</span></a><span class="sd">    Return humidity ratio given dew-point temperature and pressure.</span>
</span><span id="GetHumRatioFromTDewPoint-736"><a href="#GetHumRatioFromTDewPoint-736"><span class="linenos">736</span></a>
</span><span id="GetHumRatioFromTDewPoint-737"><a href="#GetHumRatioFromTDewPoint-737"><span class="linenos">737</span></a><span class="sd">    Args:</span>
</span><span id="GetHumRatioFromTDewPoint-738"><a href="#GetHumRatioFromTDewPoint-738"><span class="linenos">738</span></a><span class="sd">        TDewPoint : Dew-point temperature in °F [IP] or °C [SI]</span>
</span><span id="GetHumRatioFromTDewPoint-739"><a href="#GetHumRatioFromTDewPoint-739"><span class="linenos">739</span></a><span class="sd">        Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</span>
</span><span id="GetHumRatioFromTDewPoint-740"><a href="#GetHumRatioFromTDewPoint-740"><span class="linenos">740</span></a>
</span><span id="GetHumRatioFromTDewPoint-741"><a href="#GetHumRatioFromTDewPoint-741"><span class="linenos">741</span></a><span class="sd">    Returns:</span>
</span><span id="GetHumRatioFromTDewPoint-742"><a href="#GetHumRatioFromTDewPoint-742"><span class="linenos">742</span></a><span class="sd">        Humidity ratio in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]</span>
</span><span id="GetHumRatioFromTDewPoint-743"><a href="#GetHumRatioFromTDewPoint-743"><span class="linenos">743</span></a>
</span><span id="GetHumRatioFromTDewPoint-744"><a href="#GetHumRatioFromTDewPoint-744"><span class="linenos">744</span></a><span class="sd">    Reference:</span>
</span><span id="GetHumRatioFromTDewPoint-745"><a href="#GetHumRatioFromTDewPoint-745"><span class="linenos">745</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn 13</span>
</span><span id="GetHumRatioFromTDewPoint-746"><a href="#GetHumRatioFromTDewPoint-746"><span class="linenos">746</span></a>
</span><span id="GetHumRatioFromTDewPoint-747"><a href="#GetHumRatioFromTDewPoint-747"><span class="linenos">747</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="GetHumRatioFromTDewPoint-748"><a href="#GetHumRatioFromTDewPoint-748"><span class="linenos">748</span></a>    <span class="n">VapPres</span> <span class="o">=</span> <span class="n">GetSatVapPres</span><span class="p">(</span><span class="n">TDewPoint</span><span class="p">)</span>
</span><span id="GetHumRatioFromTDewPoint-749"><a href="#GetHumRatioFromTDewPoint-749"><span class="linenos">749</span></a>    <span class="n">HumRatio</span> <span class="o">=</span> <span class="n">GetHumRatioFromVapPres</span><span class="p">(</span><span class="n">VapPres</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="GetHumRatioFromTDewPoint-750"><a href="#GetHumRatioFromTDewPoint-750"><span class="linenos">750</span></a>    <span class="k">return</span> <span class="n">HumRatio</span>
</span></pre></div>


            <div class="docstring"><p>Return humidity ratio given dew-point temperature and pressure.</p>

<p>Args:
    TDewPoint : Dew-point temperature in °F [IP] or °C [SI]
    Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</p>

<p>Returns:
    Humidity ratio in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]</p>

<p>Reference:
    ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn 13</p>
</div>


                </section>
                <section id="GetTDewPointFromHumRatio">
                            <input id="GetTDewPointFromHumRatio-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">GetTDewPointFromHumRatio</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span>, </span><span class="param"><span class="n">HumRatio</span><span class="p">:</span> <span class="nb">float</span>, </span><span class="param"><span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span></span><span class="return-annotation">) -> <span class="nb">float</span>:</span></span>

                <label class="view-source-button" for="GetTDewPointFromHumRatio-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GetTDewPointFromHumRatio"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GetTDewPointFromHumRatio-752"><a href="#GetTDewPointFromHumRatio-752"><span class="linenos">752</span></a><span class="k">def</span> <span class="nf">GetTDewPointFromHumRatio</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">HumRatio</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="GetTDewPointFromHumRatio-753"><a href="#GetTDewPointFromHumRatio-753"><span class="linenos">753</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="GetTDewPointFromHumRatio-754"><a href="#GetTDewPointFromHumRatio-754"><span class="linenos">754</span></a><span class="sd">    Return dew-point temperature given dry-bulb temperature, humidity ratio, and pressure.</span>
</span><span id="GetTDewPointFromHumRatio-755"><a href="#GetTDewPointFromHumRatio-755"><span class="linenos">755</span></a>
</span><span id="GetTDewPointFromHumRatio-756"><a href="#GetTDewPointFromHumRatio-756"><span class="linenos">756</span></a><span class="sd">    Args:</span>
</span><span id="GetTDewPointFromHumRatio-757"><a href="#GetTDewPointFromHumRatio-757"><span class="linenos">757</span></a><span class="sd">        TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="GetTDewPointFromHumRatio-758"><a href="#GetTDewPointFromHumRatio-758"><span class="linenos">758</span></a><span class="sd">        HumRatio : Humidity ratio in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]</span>
</span><span id="GetTDewPointFromHumRatio-759"><a href="#GetTDewPointFromHumRatio-759"><span class="linenos">759</span></a><span class="sd">        Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</span>
</span><span id="GetTDewPointFromHumRatio-760"><a href="#GetTDewPointFromHumRatio-760"><span class="linenos">760</span></a>
</span><span id="GetTDewPointFromHumRatio-761"><a href="#GetTDewPointFromHumRatio-761"><span class="linenos">761</span></a><span class="sd">    Returns:</span>
</span><span id="GetTDewPointFromHumRatio-762"><a href="#GetTDewPointFromHumRatio-762"><span class="linenos">762</span></a><span class="sd">        Dew-point temperature in °F [IP] or °C [SI]</span>
</span><span id="GetTDewPointFromHumRatio-763"><a href="#GetTDewPointFromHumRatio-763"><span class="linenos">763</span></a>
</span><span id="GetTDewPointFromHumRatio-764"><a href="#GetTDewPointFromHumRatio-764"><span class="linenos">764</span></a><span class="sd">    Reference:</span>
</span><span id="GetTDewPointFromHumRatio-765"><a href="#GetTDewPointFromHumRatio-765"><span class="linenos">765</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1</span>
</span><span id="GetTDewPointFromHumRatio-766"><a href="#GetTDewPointFromHumRatio-766"><span class="linenos">766</span></a>
</span><span id="GetTDewPointFromHumRatio-767"><a href="#GetTDewPointFromHumRatio-767"><span class="linenos">767</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="GetTDewPointFromHumRatio-768"><a href="#GetTDewPointFromHumRatio-768"><span class="linenos">768</span></a>    <span class="k">if</span> <span class="n">HumRatio</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="GetTDewPointFromHumRatio-769"><a href="#GetTDewPointFromHumRatio-769"><span class="linenos">769</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Humidity ratio cannot be negative&quot;</span><span class="p">)</span>
</span><span id="GetTDewPointFromHumRatio-770"><a href="#GetTDewPointFromHumRatio-770"><span class="linenos">770</span></a>
</span><span id="GetTDewPointFromHumRatio-771"><a href="#GetTDewPointFromHumRatio-771"><span class="linenos">771</span></a>    <span class="n">VapPres</span> <span class="o">=</span> <span class="n">GetVapPresFromHumRatio</span><span class="p">(</span><span class="n">HumRatio</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="GetTDewPointFromHumRatio-772"><a href="#GetTDewPointFromHumRatio-772"><span class="linenos">772</span></a>    <span class="n">TDewPoint</span> <span class="o">=</span> <span class="n">GetTDewPointFromVapPres</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">VapPres</span><span class="p">)</span>
</span><span id="GetTDewPointFromHumRatio-773"><a href="#GetTDewPointFromHumRatio-773"><span class="linenos">773</span></a>    <span class="k">return</span> <span class="n">TDewPoint</span>
</span></pre></div>


            <div class="docstring"><p>Return dew-point temperature given dry-bulb temperature, humidity ratio, and pressure.</p>

<p>Args:
    TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]
    HumRatio : Humidity ratio in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]
    Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</p>

<p>Returns:
    Dew-point temperature in °F [IP] or °C [SI]</p>

<p>Reference:
    ASHRAE Handbook - Fundamentals (2017) ch. 1</p>
</div>


                </section>
                <section id="GetHumRatioFromVapPres">
                            <input id="GetHumRatioFromVapPres-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">GetHumRatioFromVapPres</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">VapPres</span><span class="p">:</span> <span class="nb">float</span>, </span><span class="param"><span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span></span><span class="return-annotation">) -> <span class="nb">float</span>:</span></span>

                <label class="view-source-button" for="GetHumRatioFromVapPres-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GetHumRatioFromVapPres"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GetHumRatioFromVapPres-780"><a href="#GetHumRatioFromVapPres-780"><span class="linenos">780</span></a><span class="k">def</span> <span class="nf">GetHumRatioFromVapPres</span><span class="p">(</span><span class="n">VapPres</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="GetHumRatioFromVapPres-781"><a href="#GetHumRatioFromVapPres-781"><span class="linenos">781</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="GetHumRatioFromVapPres-782"><a href="#GetHumRatioFromVapPres-782"><span class="linenos">782</span></a><span class="sd">    Return humidity ratio given water vapor pressure and atmospheric pressure.</span>
</span><span id="GetHumRatioFromVapPres-783"><a href="#GetHumRatioFromVapPres-783"><span class="linenos">783</span></a>
</span><span id="GetHumRatioFromVapPres-784"><a href="#GetHumRatioFromVapPres-784"><span class="linenos">784</span></a><span class="sd">    Args:</span>
</span><span id="GetHumRatioFromVapPres-785"><a href="#GetHumRatioFromVapPres-785"><span class="linenos">785</span></a><span class="sd">        VapPres : Partial pressure of water vapor in moist air in Psi [IP] or Pa [SI]</span>
</span><span id="GetHumRatioFromVapPres-786"><a href="#GetHumRatioFromVapPres-786"><span class="linenos">786</span></a><span class="sd">        Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</span>
</span><span id="GetHumRatioFromVapPres-787"><a href="#GetHumRatioFromVapPres-787"><span class="linenos">787</span></a>
</span><span id="GetHumRatioFromVapPres-788"><a href="#GetHumRatioFromVapPres-788"><span class="linenos">788</span></a><span class="sd">    Returns:</span>
</span><span id="GetHumRatioFromVapPres-789"><a href="#GetHumRatioFromVapPres-789"><span class="linenos">789</span></a><span class="sd">        Humidity ratio in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]</span>
</span><span id="GetHumRatioFromVapPres-790"><a href="#GetHumRatioFromVapPres-790"><span class="linenos">790</span></a>
</span><span id="GetHumRatioFromVapPres-791"><a href="#GetHumRatioFromVapPres-791"><span class="linenos">791</span></a><span class="sd">    Reference:</span>
</span><span id="GetHumRatioFromVapPres-792"><a href="#GetHumRatioFromVapPres-792"><span class="linenos">792</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn 20</span>
</span><span id="GetHumRatioFromVapPres-793"><a href="#GetHumRatioFromVapPres-793"><span class="linenos">793</span></a>
</span><span id="GetHumRatioFromVapPres-794"><a href="#GetHumRatioFromVapPres-794"><span class="linenos">794</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="GetHumRatioFromVapPres-795"><a href="#GetHumRatioFromVapPres-795"><span class="linenos">795</span></a>    <span class="k">if</span> <span class="n">VapPres</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="GetHumRatioFromVapPres-796"><a href="#GetHumRatioFromVapPres-796"><span class="linenos">796</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Partial pressure of water vapor in moist air cannot be negative&quot;</span><span class="p">)</span>
</span><span id="GetHumRatioFromVapPres-797"><a href="#GetHumRatioFromVapPres-797"><span class="linenos">797</span></a>
</span><span id="GetHumRatioFromVapPres-798"><a href="#GetHumRatioFromVapPres-798"><span class="linenos">798</span></a>    <span class="n">HumRatio</span> <span class="o">=</span> <span class="mf">0.621945</span> <span class="o">*</span> <span class="n">VapPres</span> <span class="o">/</span> <span class="p">(</span><span class="n">Pressure</span> <span class="o">-</span> <span class="n">VapPres</span><span class="p">)</span>
</span><span id="GetHumRatioFromVapPres-799"><a href="#GetHumRatioFromVapPres-799"><span class="linenos">799</span></a>
</span><span id="GetHumRatioFromVapPres-800"><a href="#GetHumRatioFromVapPres-800"><span class="linenos">800</span></a>    <span class="c1"># Validity check.</span>
</span><span id="GetHumRatioFromVapPres-801"><a href="#GetHumRatioFromVapPres-801"><span class="linenos">801</span></a>    <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="n">HumRatio</span><span class="p">,</span> <span class="n">MIN_HUM_RATIO</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Return humidity ratio given water vapor pressure and atmospheric pressure.</p>

<p>Args:
    VapPres : Partial pressure of water vapor in moist air in Psi [IP] or Pa [SI]
    Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</p>

<p>Returns:
    Humidity ratio in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]</p>

<p>Reference:
    ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn 20</p>
</div>


                </section>
                <section id="GetVapPresFromHumRatio">
                            <input id="GetVapPresFromHumRatio-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">GetVapPresFromHumRatio</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">HumRatio</span><span class="p">:</span> <span class="nb">float</span>, </span><span class="param"><span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span></span><span class="return-annotation">) -> <span class="nb">float</span>:</span></span>

                <label class="view-source-button" for="GetVapPresFromHumRatio-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GetVapPresFromHumRatio"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GetVapPresFromHumRatio-803"><a href="#GetVapPresFromHumRatio-803"><span class="linenos">803</span></a><span class="k">def</span> <span class="nf">GetVapPresFromHumRatio</span><span class="p">(</span><span class="n">HumRatio</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="GetVapPresFromHumRatio-804"><a href="#GetVapPresFromHumRatio-804"><span class="linenos">804</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="GetVapPresFromHumRatio-805"><a href="#GetVapPresFromHumRatio-805"><span class="linenos">805</span></a><span class="sd">    Return vapor pressure given humidity ratio and pressure.</span>
</span><span id="GetVapPresFromHumRatio-806"><a href="#GetVapPresFromHumRatio-806"><span class="linenos">806</span></a>
</span><span id="GetVapPresFromHumRatio-807"><a href="#GetVapPresFromHumRatio-807"><span class="linenos">807</span></a><span class="sd">    Args:</span>
</span><span id="GetVapPresFromHumRatio-808"><a href="#GetVapPresFromHumRatio-808"><span class="linenos">808</span></a><span class="sd">        HumRatio : Humidity ratio in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]</span>
</span><span id="GetVapPresFromHumRatio-809"><a href="#GetVapPresFromHumRatio-809"><span class="linenos">809</span></a><span class="sd">        Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</span>
</span><span id="GetVapPresFromHumRatio-810"><a href="#GetVapPresFromHumRatio-810"><span class="linenos">810</span></a>
</span><span id="GetVapPresFromHumRatio-811"><a href="#GetVapPresFromHumRatio-811"><span class="linenos">811</span></a><span class="sd">    Returns:</span>
</span><span id="GetVapPresFromHumRatio-812"><a href="#GetVapPresFromHumRatio-812"><span class="linenos">812</span></a><span class="sd">        Partial pressure of water vapor in moist air in Psi [IP] or Pa [SI]</span>
</span><span id="GetVapPresFromHumRatio-813"><a href="#GetVapPresFromHumRatio-813"><span class="linenos">813</span></a>
</span><span id="GetVapPresFromHumRatio-814"><a href="#GetVapPresFromHumRatio-814"><span class="linenos">814</span></a><span class="sd">    Reference:</span>
</span><span id="GetVapPresFromHumRatio-815"><a href="#GetVapPresFromHumRatio-815"><span class="linenos">815</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn 20 solved for pw</span>
</span><span id="GetVapPresFromHumRatio-816"><a href="#GetVapPresFromHumRatio-816"><span class="linenos">816</span></a>
</span><span id="GetVapPresFromHumRatio-817"><a href="#GetVapPresFromHumRatio-817"><span class="linenos">817</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="GetVapPresFromHumRatio-818"><a href="#GetVapPresFromHumRatio-818"><span class="linenos">818</span></a>    <span class="k">if</span> <span class="n">HumRatio</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="GetVapPresFromHumRatio-819"><a href="#GetVapPresFromHumRatio-819"><span class="linenos">819</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Humidity ratio is negative&quot;</span><span class="p">)</span>
</span><span id="GetVapPresFromHumRatio-820"><a href="#GetVapPresFromHumRatio-820"><span class="linenos">820</span></a>    <span class="n">BoundedHumRatio</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">HumRatio</span><span class="p">,</span> <span class="n">MIN_HUM_RATIO</span><span class="p">)</span>
</span><span id="GetVapPresFromHumRatio-821"><a href="#GetVapPresFromHumRatio-821"><span class="linenos">821</span></a>
</span><span id="GetVapPresFromHumRatio-822"><a href="#GetVapPresFromHumRatio-822"><span class="linenos">822</span></a>    <span class="n">VapPres</span> <span class="o">=</span> <span class="n">Pressure</span> <span class="o">*</span> <span class="n">BoundedHumRatio</span> <span class="o">/</span> <span class="p">(</span><span class="mf">0.621945</span> <span class="o">+</span> <span class="n">BoundedHumRatio</span><span class="p">)</span>
</span><span id="GetVapPresFromHumRatio-823"><a href="#GetVapPresFromHumRatio-823"><span class="linenos">823</span></a>    <span class="k">return</span> <span class="n">VapPres</span>
</span></pre></div>


            <div class="docstring"><p>Return vapor pressure given humidity ratio and pressure.</p>

<p>Args:
    HumRatio : Humidity ratio in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]
    Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</p>

<p>Returns:
    Partial pressure of water vapor in moist air in Psi [IP] or Pa [SI]</p>

<p>Reference:
    ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn 20 solved for pw</p>
</div>


                </section>
                <section id="GetSpecificHumFromHumRatio">
                            <input id="GetSpecificHumFromHumRatio-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">GetSpecificHumFromHumRatio</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">HumRatio</span><span class="p">:</span> <span class="nb">float</span></span><span class="return-annotation">) -> <span class="nb">float</span>:</span></span>

                <label class="view-source-button" for="GetSpecificHumFromHumRatio-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GetSpecificHumFromHumRatio"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GetSpecificHumFromHumRatio-830"><a href="#GetSpecificHumFromHumRatio-830"><span class="linenos">830</span></a><span class="k">def</span> <span class="nf">GetSpecificHumFromHumRatio</span><span class="p">(</span><span class="n">HumRatio</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="GetSpecificHumFromHumRatio-831"><a href="#GetSpecificHumFromHumRatio-831"><span class="linenos">831</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="GetSpecificHumFromHumRatio-832"><a href="#GetSpecificHumFromHumRatio-832"><span class="linenos">832</span></a><span class="sd">    Return the specific humidity from humidity ratio (aka mixing ratio).</span>
</span><span id="GetSpecificHumFromHumRatio-833"><a href="#GetSpecificHumFromHumRatio-833"><span class="linenos">833</span></a>
</span><span id="GetSpecificHumFromHumRatio-834"><a href="#GetSpecificHumFromHumRatio-834"><span class="linenos">834</span></a><span class="sd">    Args:</span>
</span><span id="GetSpecificHumFromHumRatio-835"><a href="#GetSpecificHumFromHumRatio-835"><span class="linenos">835</span></a><span class="sd">        HumRatio : Humidity ratio in lb_H₂O lb_Dry_Air⁻¹ [IP] or kg_H₂O kg_Dry_Air⁻¹ [SI]</span>
</span><span id="GetSpecificHumFromHumRatio-836"><a href="#GetSpecificHumFromHumRatio-836"><span class="linenos">836</span></a>
</span><span id="GetSpecificHumFromHumRatio-837"><a href="#GetSpecificHumFromHumRatio-837"><span class="linenos">837</span></a><span class="sd">    Returns:</span>
</span><span id="GetSpecificHumFromHumRatio-838"><a href="#GetSpecificHumFromHumRatio-838"><span class="linenos">838</span></a><span class="sd">        Specific humidity in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]</span>
</span><span id="GetSpecificHumFromHumRatio-839"><a href="#GetSpecificHumFromHumRatio-839"><span class="linenos">839</span></a>
</span><span id="GetSpecificHumFromHumRatio-840"><a href="#GetSpecificHumFromHumRatio-840"><span class="linenos">840</span></a><span class="sd">    Reference:</span>
</span><span id="GetSpecificHumFromHumRatio-841"><a href="#GetSpecificHumFromHumRatio-841"><span class="linenos">841</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn 9b</span>
</span><span id="GetSpecificHumFromHumRatio-842"><a href="#GetSpecificHumFromHumRatio-842"><span class="linenos">842</span></a>
</span><span id="GetSpecificHumFromHumRatio-843"><a href="#GetSpecificHumFromHumRatio-843"><span class="linenos">843</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="GetSpecificHumFromHumRatio-844"><a href="#GetSpecificHumFromHumRatio-844"><span class="linenos">844</span></a>    <span class="k">if</span> <span class="n">HumRatio</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="GetSpecificHumFromHumRatio-845"><a href="#GetSpecificHumFromHumRatio-845"><span class="linenos">845</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Humidity ratio cannot be negative&quot;</span><span class="p">)</span>
</span><span id="GetSpecificHumFromHumRatio-846"><a href="#GetSpecificHumFromHumRatio-846"><span class="linenos">846</span></a>    <span class="n">BoundedHumRatio</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">HumRatio</span><span class="p">,</span> <span class="n">MIN_HUM_RATIO</span><span class="p">)</span>
</span><span id="GetSpecificHumFromHumRatio-847"><a href="#GetSpecificHumFromHumRatio-847"><span class="linenos">847</span></a>
</span><span id="GetSpecificHumFromHumRatio-848"><a href="#GetSpecificHumFromHumRatio-848"><span class="linenos">848</span></a>    <span class="n">SpecificHum</span> <span class="o">=</span> <span class="n">BoundedHumRatio</span> <span class="o">/</span> <span class="p">(</span><span class="mf">1.0</span> <span class="o">+</span> <span class="n">BoundedHumRatio</span><span class="p">)</span>
</span><span id="GetSpecificHumFromHumRatio-849"><a href="#GetSpecificHumFromHumRatio-849"><span class="linenos">849</span></a>    <span class="k">return</span> <span class="n">SpecificHum</span>
</span></pre></div>


            <div class="docstring"><p>Return the specific humidity from humidity ratio (aka mixing ratio).</p>

<p>Args:
    HumRatio : Humidity ratio in lb_H₂O lb_Dry_Air⁻¹ [IP] or kg_H₂O kg_Dry_Air⁻¹ [SI]</p>

<p>Returns:
    Specific humidity in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]</p>

<p>Reference:
    ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn 9b</p>
</div>


                </section>
                <section id="GetHumRatioFromSpecificHum">
                            <input id="GetHumRatioFromSpecificHum-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">GetHumRatioFromSpecificHum</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">SpecificHum</span><span class="p">:</span> <span class="nb">float</span></span><span class="return-annotation">) -> <span class="nb">float</span>:</span></span>

                <label class="view-source-button" for="GetHumRatioFromSpecificHum-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GetHumRatioFromSpecificHum"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GetHumRatioFromSpecificHum-851"><a href="#GetHumRatioFromSpecificHum-851"><span class="linenos">851</span></a><span class="k">def</span> <span class="nf">GetHumRatioFromSpecificHum</span><span class="p">(</span><span class="n">SpecificHum</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="GetHumRatioFromSpecificHum-852"><a href="#GetHumRatioFromSpecificHum-852"><span class="linenos">852</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="GetHumRatioFromSpecificHum-853"><a href="#GetHumRatioFromSpecificHum-853"><span class="linenos">853</span></a><span class="sd">    Return the humidity ratio (aka mixing ratio) from specific humidity.</span>
</span><span id="GetHumRatioFromSpecificHum-854"><a href="#GetHumRatioFromSpecificHum-854"><span class="linenos">854</span></a>
</span><span id="GetHumRatioFromSpecificHum-855"><a href="#GetHumRatioFromSpecificHum-855"><span class="linenos">855</span></a><span class="sd">    Args:</span>
</span><span id="GetHumRatioFromSpecificHum-856"><a href="#GetHumRatioFromSpecificHum-856"><span class="linenos">856</span></a><span class="sd">        SpecificHum : Specific humidity in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]</span>
</span><span id="GetHumRatioFromSpecificHum-857"><a href="#GetHumRatioFromSpecificHum-857"><span class="linenos">857</span></a>
</span><span id="GetHumRatioFromSpecificHum-858"><a href="#GetHumRatioFromSpecificHum-858"><span class="linenos">858</span></a><span class="sd">    Returns:</span>
</span><span id="GetHumRatioFromSpecificHum-859"><a href="#GetHumRatioFromSpecificHum-859"><span class="linenos">859</span></a><span class="sd">        Humidity ratio in lb_H₂O lb_Dry_Air⁻¹ [IP] or kg_H₂O kg_Dry_Air⁻¹ [SI]</span>
</span><span id="GetHumRatioFromSpecificHum-860"><a href="#GetHumRatioFromSpecificHum-860"><span class="linenos">860</span></a>
</span><span id="GetHumRatioFromSpecificHum-861"><a href="#GetHumRatioFromSpecificHum-861"><span class="linenos">861</span></a><span class="sd">    Reference:</span>
</span><span id="GetHumRatioFromSpecificHum-862"><a href="#GetHumRatioFromSpecificHum-862"><span class="linenos">862</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn 9b (solved for humidity ratio)</span>
</span><span id="GetHumRatioFromSpecificHum-863"><a href="#GetHumRatioFromSpecificHum-863"><span class="linenos">863</span></a>
</span><span id="GetHumRatioFromSpecificHum-864"><a href="#GetHumRatioFromSpecificHum-864"><span class="linenos">864</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="GetHumRatioFromSpecificHum-865"><a href="#GetHumRatioFromSpecificHum-865"><span class="linenos">865</span></a>    <span class="k">if</span> <span class="n">SpecificHum</span> <span class="o">&lt;</span> <span class="mf">0.0</span> <span class="ow">or</span> <span class="n">SpecificHum</span> <span class="o">&gt;=</span> <span class="mf">1.0</span><span class="p">:</span>
</span><span id="GetHumRatioFromSpecificHum-866"><a href="#GetHumRatioFromSpecificHum-866"><span class="linenos">866</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Specific humidity is outside range [0, 1)&quot;</span><span class="p">)</span>
</span><span id="GetHumRatioFromSpecificHum-867"><a href="#GetHumRatioFromSpecificHum-867"><span class="linenos">867</span></a>
</span><span id="GetHumRatioFromSpecificHum-868"><a href="#GetHumRatioFromSpecificHum-868"><span class="linenos">868</span></a>    <span class="n">HumRatio</span> <span class="o">=</span> <span class="n">SpecificHum</span> <span class="o">/</span> <span class="p">(</span><span class="mf">1.0</span> <span class="o">-</span> <span class="n">SpecificHum</span><span class="p">)</span>
</span><span id="GetHumRatioFromSpecificHum-869"><a href="#GetHumRatioFromSpecificHum-869"><span class="linenos">869</span></a>
</span><span id="GetHumRatioFromSpecificHum-870"><a href="#GetHumRatioFromSpecificHum-870"><span class="linenos">870</span></a>    <span class="c1"># Validity check.</span>
</span><span id="GetHumRatioFromSpecificHum-871"><a href="#GetHumRatioFromSpecificHum-871"><span class="linenos">871</span></a>    <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="n">HumRatio</span><span class="p">,</span> <span class="n">MIN_HUM_RATIO</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Return the humidity ratio (aka mixing ratio) from specific humidity.</p>

<p>Args:
    SpecificHum : Specific humidity in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]</p>

<p>Returns:
    Humidity ratio in lb_H₂O lb_Dry_Air⁻¹ [IP] or kg_H₂O kg_Dry_Air⁻¹ [SI]</p>

<p>Reference:
    ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn 9b (solved for humidity ratio)</p>
</div>


                </section>
                <section id="GetDryAirEnthalpy">
                            <input id="GetDryAirEnthalpy-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">GetDryAirEnthalpy</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span></span><span class="return-annotation">) -> <span class="nb">float</span>:</span></span>

                <label class="view-source-button" for="GetDryAirEnthalpy-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GetDryAirEnthalpy"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GetDryAirEnthalpy-878"><a href="#GetDryAirEnthalpy-878"><span class="linenos">878</span></a><span class="k">def</span> <span class="nf">GetDryAirEnthalpy</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="GetDryAirEnthalpy-879"><a href="#GetDryAirEnthalpy-879"><span class="linenos">879</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="GetDryAirEnthalpy-880"><a href="#GetDryAirEnthalpy-880"><span class="linenos">880</span></a><span class="sd">    Return dry-air enthalpy given dry-bulb temperature.</span>
</span><span id="GetDryAirEnthalpy-881"><a href="#GetDryAirEnthalpy-881"><span class="linenos">881</span></a>
</span><span id="GetDryAirEnthalpy-882"><a href="#GetDryAirEnthalpy-882"><span class="linenos">882</span></a><span class="sd">    Args:</span>
</span><span id="GetDryAirEnthalpy-883"><a href="#GetDryAirEnthalpy-883"><span class="linenos">883</span></a><span class="sd">        TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="GetDryAirEnthalpy-884"><a href="#GetDryAirEnthalpy-884"><span class="linenos">884</span></a>
</span><span id="GetDryAirEnthalpy-885"><a href="#GetDryAirEnthalpy-885"><span class="linenos">885</span></a><span class="sd">    Returns:</span>
</span><span id="GetDryAirEnthalpy-886"><a href="#GetDryAirEnthalpy-886"><span class="linenos">886</span></a><span class="sd">        Dry air enthalpy in Btu lb⁻¹ [IP] or J kg⁻¹ [SI]</span>
</span><span id="GetDryAirEnthalpy-887"><a href="#GetDryAirEnthalpy-887"><span class="linenos">887</span></a>
</span><span id="GetDryAirEnthalpy-888"><a href="#GetDryAirEnthalpy-888"><span class="linenos">888</span></a><span class="sd">    Reference:</span>
</span><span id="GetDryAirEnthalpy-889"><a href="#GetDryAirEnthalpy-889"><span class="linenos">889</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn 28</span>
</span><span id="GetDryAirEnthalpy-890"><a href="#GetDryAirEnthalpy-890"><span class="linenos">890</span></a>
</span><span id="GetDryAirEnthalpy-891"><a href="#GetDryAirEnthalpy-891"><span class="linenos">891</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="GetDryAirEnthalpy-892"><a href="#GetDryAirEnthalpy-892"><span class="linenos">892</span></a>    <span class="k">if</span> <span class="n">isIP</span><span class="p">():</span>
</span><span id="GetDryAirEnthalpy-893"><a href="#GetDryAirEnthalpy-893"><span class="linenos">893</span></a>        <span class="n">DryAirEnthalpy</span> <span class="o">=</span> <span class="mf">0.240</span> <span class="o">*</span> <span class="n">TDryBulb</span>
</span><span id="GetDryAirEnthalpy-894"><a href="#GetDryAirEnthalpy-894"><span class="linenos">894</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="GetDryAirEnthalpy-895"><a href="#GetDryAirEnthalpy-895"><span class="linenos">895</span></a>        <span class="n">DryAirEnthalpy</span> <span class="o">=</span> <span class="mi">1006</span> <span class="o">*</span> <span class="n">TDryBulb</span>
</span><span id="GetDryAirEnthalpy-896"><a href="#GetDryAirEnthalpy-896"><span class="linenos">896</span></a>    <span class="k">return</span> <span class="n">DryAirEnthalpy</span>
</span></pre></div>


            <div class="docstring"><p>Return dry-air enthalpy given dry-bulb temperature.</p>

<p>Args:
    TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</p>

<p>Returns:
    Dry air enthalpy in Btu lb⁻¹ [IP] or J kg⁻¹ [SI]</p>

<p>Reference:
    ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn 28</p>
</div>


                </section>
                <section id="GetDryAirDensity">
                            <input id="GetDryAirDensity-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">GetDryAirDensity</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span>, </span><span class="param"><span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span></span><span class="return-annotation">) -> <span class="nb">float</span>:</span></span>

                <label class="view-source-button" for="GetDryAirDensity-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GetDryAirDensity"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GetDryAirDensity-898"><a href="#GetDryAirDensity-898"><span class="linenos">898</span></a><span class="k">def</span> <span class="nf">GetDryAirDensity</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="GetDryAirDensity-899"><a href="#GetDryAirDensity-899"><span class="linenos">899</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="GetDryAirDensity-900"><a href="#GetDryAirDensity-900"><span class="linenos">900</span></a><span class="sd">    Return dry-air density given dry-bulb temperature and pressure.</span>
</span><span id="GetDryAirDensity-901"><a href="#GetDryAirDensity-901"><span class="linenos">901</span></a>
</span><span id="GetDryAirDensity-902"><a href="#GetDryAirDensity-902"><span class="linenos">902</span></a><span class="sd">    Args:</span>
</span><span id="GetDryAirDensity-903"><a href="#GetDryAirDensity-903"><span class="linenos">903</span></a><span class="sd">        TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="GetDryAirDensity-904"><a href="#GetDryAirDensity-904"><span class="linenos">904</span></a><span class="sd">        Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</span>
</span><span id="GetDryAirDensity-905"><a href="#GetDryAirDensity-905"><span class="linenos">905</span></a>
</span><span id="GetDryAirDensity-906"><a href="#GetDryAirDensity-906"><span class="linenos">906</span></a><span class="sd">    Returns:</span>
</span><span id="GetDryAirDensity-907"><a href="#GetDryAirDensity-907"><span class="linenos">907</span></a><span class="sd">        Dry air density in lb ft⁻³ [IP] or kg m⁻³ [SI]</span>
</span><span id="GetDryAirDensity-908"><a href="#GetDryAirDensity-908"><span class="linenos">908</span></a>
</span><span id="GetDryAirDensity-909"><a href="#GetDryAirDensity-909"><span class="linenos">909</span></a><span class="sd">    Reference:</span>
</span><span id="GetDryAirDensity-910"><a href="#GetDryAirDensity-910"><span class="linenos">910</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1</span>
</span><span id="GetDryAirDensity-911"><a href="#GetDryAirDensity-911"><span class="linenos">911</span></a>
</span><span id="GetDryAirDensity-912"><a href="#GetDryAirDensity-912"><span class="linenos">912</span></a><span class="sd">    Notes:</span>
</span><span id="GetDryAirDensity-913"><a href="#GetDryAirDensity-913"><span class="linenos">913</span></a><span class="sd">        Eqn 14 for the perfect gas relationship for dry air.</span>
</span><span id="GetDryAirDensity-914"><a href="#GetDryAirDensity-914"><span class="linenos">914</span></a><span class="sd">        Eqn 1 for the universal gas constant.</span>
</span><span id="GetDryAirDensity-915"><a href="#GetDryAirDensity-915"><span class="linenos">915</span></a><span class="sd">        The factor 144 in IP is for the conversion of Psi = lb in⁻² to lb ft⁻².</span>
</span><span id="GetDryAirDensity-916"><a href="#GetDryAirDensity-916"><span class="linenos">916</span></a>
</span><span id="GetDryAirDensity-917"><a href="#GetDryAirDensity-917"><span class="linenos">917</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="GetDryAirDensity-918"><a href="#GetDryAirDensity-918"><span class="linenos">918</span></a>    <span class="k">if</span> <span class="n">isIP</span><span class="p">():</span>
</span><span id="GetDryAirDensity-919"><a href="#GetDryAirDensity-919"><span class="linenos">919</span></a>        <span class="n">DryAirDensity</span> <span class="o">=</span> <span class="p">(</span><span class="mi">144</span> <span class="o">*</span> <span class="n">Pressure</span><span class="p">)</span> <span class="o">/</span> <span class="n">R_DA_IP</span> <span class="o">/</span> <span class="n">GetTRankineFromTFahrenheit</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">)</span>
</span><span id="GetDryAirDensity-920"><a href="#GetDryAirDensity-920"><span class="linenos">920</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="GetDryAirDensity-921"><a href="#GetDryAirDensity-921"><span class="linenos">921</span></a>        <span class="n">DryAirDensity</span> <span class="o">=</span> <span class="n">Pressure</span> <span class="o">/</span> <span class="n">R_DA_SI</span> <span class="o">/</span> <span class="n">GetTKelvinFromTCelsius</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">)</span>
</span><span id="GetDryAirDensity-922"><a href="#GetDryAirDensity-922"><span class="linenos">922</span></a>    <span class="k">return</span> <span class="n">DryAirDensity</span>
</span></pre></div>


            <div class="docstring"><p>Return dry-air density given dry-bulb temperature and pressure.</p>

<p>Args:
    TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]
    Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</p>

<p>Returns:
    Dry air density in lb ft⁻³ [IP] or kg m⁻³ [SI]</p>

<p>Reference:
    ASHRAE Handbook - Fundamentals (2017) ch. 1</p>

<p>Notes:
    Eqn 14 for the perfect gas relationship for dry air.
    Eqn 1 for the universal gas constant.
    The factor 144 in IP is for the conversion of Psi = lb in⁻² to lb ft⁻².</p>
</div>


                </section>
                <section id="GetDryAirVolume">
                            <input id="GetDryAirVolume-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">GetDryAirVolume</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span>, </span><span class="param"><span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span></span><span class="return-annotation">) -> <span class="nb">float</span>:</span></span>

                <label class="view-source-button" for="GetDryAirVolume-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GetDryAirVolume"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GetDryAirVolume-924"><a href="#GetDryAirVolume-924"><span class="linenos">924</span></a><span class="k">def</span> <span class="nf">GetDryAirVolume</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="GetDryAirVolume-925"><a href="#GetDryAirVolume-925"><span class="linenos">925</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="GetDryAirVolume-926"><a href="#GetDryAirVolume-926"><span class="linenos">926</span></a><span class="sd">    Return dry-air volume given dry-bulb temperature and pressure.</span>
</span><span id="GetDryAirVolume-927"><a href="#GetDryAirVolume-927"><span class="linenos">927</span></a>
</span><span id="GetDryAirVolume-928"><a href="#GetDryAirVolume-928"><span class="linenos">928</span></a><span class="sd">    Args:</span>
</span><span id="GetDryAirVolume-929"><a href="#GetDryAirVolume-929"><span class="linenos">929</span></a><span class="sd">        TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="GetDryAirVolume-930"><a href="#GetDryAirVolume-930"><span class="linenos">930</span></a><span class="sd">        Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</span>
</span><span id="GetDryAirVolume-931"><a href="#GetDryAirVolume-931"><span class="linenos">931</span></a>
</span><span id="GetDryAirVolume-932"><a href="#GetDryAirVolume-932"><span class="linenos">932</span></a><span class="sd">    Returns:</span>
</span><span id="GetDryAirVolume-933"><a href="#GetDryAirVolume-933"><span class="linenos">933</span></a><span class="sd">        Dry air volume in ft³ lb⁻¹ [IP] or in m³ kg⁻¹ [SI]</span>
</span><span id="GetDryAirVolume-934"><a href="#GetDryAirVolume-934"><span class="linenos">934</span></a>
</span><span id="GetDryAirVolume-935"><a href="#GetDryAirVolume-935"><span class="linenos">935</span></a><span class="sd">    Reference:</span>
</span><span id="GetDryAirVolume-936"><a href="#GetDryAirVolume-936"><span class="linenos">936</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1</span>
</span><span id="GetDryAirVolume-937"><a href="#GetDryAirVolume-937"><span class="linenos">937</span></a>
</span><span id="GetDryAirVolume-938"><a href="#GetDryAirVolume-938"><span class="linenos">938</span></a><span class="sd">    Notes:</span>
</span><span id="GetDryAirVolume-939"><a href="#GetDryAirVolume-939"><span class="linenos">939</span></a><span class="sd">        Eqn 14 for the perfect gas relationship for dry air.</span>
</span><span id="GetDryAirVolume-940"><a href="#GetDryAirVolume-940"><span class="linenos">940</span></a><span class="sd">        Eqn 1 for the universal gas constant.</span>
</span><span id="GetDryAirVolume-941"><a href="#GetDryAirVolume-941"><span class="linenos">941</span></a><span class="sd">        The factor 144 in IP is for the conversion of Psi = lb in⁻² to lb ft⁻².</span>
</span><span id="GetDryAirVolume-942"><a href="#GetDryAirVolume-942"><span class="linenos">942</span></a>
</span><span id="GetDryAirVolume-943"><a href="#GetDryAirVolume-943"><span class="linenos">943</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="GetDryAirVolume-944"><a href="#GetDryAirVolume-944"><span class="linenos">944</span></a>    <span class="k">if</span> <span class="n">isIP</span><span class="p">():</span>
</span><span id="GetDryAirVolume-945"><a href="#GetDryAirVolume-945"><span class="linenos">945</span></a>        <span class="n">DryAirVolume</span> <span class="o">=</span> <span class="n">R_DA_IP</span> <span class="o">*</span> <span class="n">GetTRankineFromTFahrenheit</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mi">144</span> <span class="o">*</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="GetDryAirVolume-946"><a href="#GetDryAirVolume-946"><span class="linenos">946</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="GetDryAirVolume-947"><a href="#GetDryAirVolume-947"><span class="linenos">947</span></a>        <span class="n">DryAirVolume</span> <span class="o">=</span> <span class="n">R_DA_SI</span> <span class="o">*</span> <span class="n">GetTKelvinFromTCelsius</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">)</span> <span class="o">/</span> <span class="n">Pressure</span>
</span><span id="GetDryAirVolume-948"><a href="#GetDryAirVolume-948"><span class="linenos">948</span></a>    <span class="k">return</span> <span class="n">DryAirVolume</span>
</span></pre></div>


            <div class="docstring"><p>Return dry-air volume given dry-bulb temperature and pressure.</p>

<p>Args:
    TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]
    Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</p>

<p>Returns:
    Dry air volume in ft³ lb⁻¹ [IP] or in m³ kg⁻¹ [SI]</p>

<p>Reference:
    ASHRAE Handbook - Fundamentals (2017) ch. 1</p>

<p>Notes:
    Eqn 14 for the perfect gas relationship for dry air.
    Eqn 1 for the universal gas constant.
    The factor 144 in IP is for the conversion of Psi = lb in⁻² to lb ft⁻².</p>
</div>


                </section>
                <section id="GetTDryBulbFromEnthalpyAndHumRatio">
                            <input id="GetTDryBulbFromEnthalpyAndHumRatio-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">GetTDryBulbFromEnthalpyAndHumRatio</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">MoistAirEnthalpy</span><span class="p">:</span> <span class="nb">float</span>, </span><span class="param"><span class="n">HumRatio</span><span class="p">:</span> <span class="nb">float</span></span><span class="return-annotation">) -> <span class="nb">float</span>:</span></span>

                <label class="view-source-button" for="GetTDryBulbFromEnthalpyAndHumRatio-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GetTDryBulbFromEnthalpyAndHumRatio"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GetTDryBulbFromEnthalpyAndHumRatio-951"><a href="#GetTDryBulbFromEnthalpyAndHumRatio-951"><span class="linenos">951</span></a><span class="k">def</span> <span class="nf">GetTDryBulbFromEnthalpyAndHumRatio</span><span class="p">(</span><span class="n">MoistAirEnthalpy</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">HumRatio</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="GetTDryBulbFromEnthalpyAndHumRatio-952"><a href="#GetTDryBulbFromEnthalpyAndHumRatio-952"><span class="linenos">952</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="GetTDryBulbFromEnthalpyAndHumRatio-953"><a href="#GetTDryBulbFromEnthalpyAndHumRatio-953"><span class="linenos">953</span></a><span class="sd">    Return dry bulb temperature from enthalpy and humidity ratio.</span>
</span><span id="GetTDryBulbFromEnthalpyAndHumRatio-954"><a href="#GetTDryBulbFromEnthalpyAndHumRatio-954"><span class="linenos">954</span></a>
</span><span id="GetTDryBulbFromEnthalpyAndHumRatio-955"><a href="#GetTDryBulbFromEnthalpyAndHumRatio-955"><span class="linenos">955</span></a>
</span><span id="GetTDryBulbFromEnthalpyAndHumRatio-956"><a href="#GetTDryBulbFromEnthalpyAndHumRatio-956"><span class="linenos">956</span></a><span class="sd">    Args:</span>
</span><span id="GetTDryBulbFromEnthalpyAndHumRatio-957"><a href="#GetTDryBulbFromEnthalpyAndHumRatio-957"><span class="linenos">957</span></a><span class="sd">        MoistAirEnthalpy : Moist air enthalpy in Btu lb⁻¹ [IP] or J kg⁻¹</span>
</span><span id="GetTDryBulbFromEnthalpyAndHumRatio-958"><a href="#GetTDryBulbFromEnthalpyAndHumRatio-958"><span class="linenos">958</span></a><span class="sd">        HumRatio : Humidity ratio in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]</span>
</span><span id="GetTDryBulbFromEnthalpyAndHumRatio-959"><a href="#GetTDryBulbFromEnthalpyAndHumRatio-959"><span class="linenos">959</span></a>
</span><span id="GetTDryBulbFromEnthalpyAndHumRatio-960"><a href="#GetTDryBulbFromEnthalpyAndHumRatio-960"><span class="linenos">960</span></a><span class="sd">    Returns:</span>
</span><span id="GetTDryBulbFromEnthalpyAndHumRatio-961"><a href="#GetTDryBulbFromEnthalpyAndHumRatio-961"><span class="linenos">961</span></a><span class="sd">        Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="GetTDryBulbFromEnthalpyAndHumRatio-962"><a href="#GetTDryBulbFromEnthalpyAndHumRatio-962"><span class="linenos">962</span></a>
</span><span id="GetTDryBulbFromEnthalpyAndHumRatio-963"><a href="#GetTDryBulbFromEnthalpyAndHumRatio-963"><span class="linenos">963</span></a><span class="sd">    Reference:</span>
</span><span id="GetTDryBulbFromEnthalpyAndHumRatio-964"><a href="#GetTDryBulbFromEnthalpyAndHumRatio-964"><span class="linenos">964</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn 30</span>
</span><span id="GetTDryBulbFromEnthalpyAndHumRatio-965"><a href="#GetTDryBulbFromEnthalpyAndHumRatio-965"><span class="linenos">965</span></a>
</span><span id="GetTDryBulbFromEnthalpyAndHumRatio-966"><a href="#GetTDryBulbFromEnthalpyAndHumRatio-966"><span class="linenos">966</span></a><span class="sd">    Notes:</span>
</span><span id="GetTDryBulbFromEnthalpyAndHumRatio-967"><a href="#GetTDryBulbFromEnthalpyAndHumRatio-967"><span class="linenos">967</span></a><span class="sd">        Based on the `GetMoistAirEnthalpy` function, rearranged for temperature.</span>
</span><span id="GetTDryBulbFromEnthalpyAndHumRatio-968"><a href="#GetTDryBulbFromEnthalpyAndHumRatio-968"><span class="linenos">968</span></a>
</span><span id="GetTDryBulbFromEnthalpyAndHumRatio-969"><a href="#GetTDryBulbFromEnthalpyAndHumRatio-969"><span class="linenos">969</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="GetTDryBulbFromEnthalpyAndHumRatio-970"><a href="#GetTDryBulbFromEnthalpyAndHumRatio-970"><span class="linenos">970</span></a>    <span class="k">if</span> <span class="n">HumRatio</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="GetTDryBulbFromEnthalpyAndHumRatio-971"><a href="#GetTDryBulbFromEnthalpyAndHumRatio-971"><span class="linenos">971</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Humidity ratio is negative&quot;</span><span class="p">)</span>
</span><span id="GetTDryBulbFromEnthalpyAndHumRatio-972"><a href="#GetTDryBulbFromEnthalpyAndHumRatio-972"><span class="linenos">972</span></a>    <span class="n">BoundedHumRatio</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">HumRatio</span><span class="p">,</span> <span class="n">MIN_HUM_RATIO</span><span class="p">)</span>
</span><span id="GetTDryBulbFromEnthalpyAndHumRatio-973"><a href="#GetTDryBulbFromEnthalpyAndHumRatio-973"><span class="linenos">973</span></a>
</span><span id="GetTDryBulbFromEnthalpyAndHumRatio-974"><a href="#GetTDryBulbFromEnthalpyAndHumRatio-974"><span class="linenos">974</span></a>    <span class="k">if</span> <span class="n">isIP</span><span class="p">():</span>
</span><span id="GetTDryBulbFromEnthalpyAndHumRatio-975"><a href="#GetTDryBulbFromEnthalpyAndHumRatio-975"><span class="linenos">975</span></a>        <span class="n">TDryBulb</span>  <span class="o">=</span> <span class="p">(</span><span class="n">MoistAirEnthalpy</span> <span class="o">-</span> <span class="mf">1061.0</span> <span class="o">*</span> <span class="n">BoundedHumRatio</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mf">0.240</span> <span class="o">+</span> <span class="mf">0.444</span> <span class="o">*</span> <span class="n">BoundedHumRatio</span><span class="p">)</span>
</span><span id="GetTDryBulbFromEnthalpyAndHumRatio-976"><a href="#GetTDryBulbFromEnthalpyAndHumRatio-976"><span class="linenos">976</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="GetTDryBulbFromEnthalpyAndHumRatio-977"><a href="#GetTDryBulbFromEnthalpyAndHumRatio-977"><span class="linenos">977</span></a>        <span class="n">TDryBulb</span>  <span class="o">=</span> <span class="p">(</span><span class="n">MoistAirEnthalpy</span> <span class="o">/</span> <span class="mf">1000.0</span> <span class="o">-</span> <span class="mf">2501.0</span> <span class="o">*</span> <span class="n">BoundedHumRatio</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mf">1.006</span> <span class="o">+</span> <span class="mf">1.86</span> <span class="o">*</span> <span class="n">BoundedHumRatio</span><span class="p">)</span>
</span><span id="GetTDryBulbFromEnthalpyAndHumRatio-978"><a href="#GetTDryBulbFromEnthalpyAndHumRatio-978"><span class="linenos">978</span></a>    <span class="k">return</span> <span class="n">TDryBulb</span>
</span></pre></div>


            <div class="docstring"><p>Return dry bulb temperature from enthalpy and humidity ratio.</p>

<p>Args:
    MoistAirEnthalpy : Moist air enthalpy in Btu lb⁻¹ [IP] or J kg⁻¹
    HumRatio : Humidity ratio in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]</p>

<p>Returns:
    Dry-bulb temperature in °F [IP] or °C [SI]</p>

<p>Reference:
    ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn 30</p>

<p>Notes:
    Based on the <code><a href="#GetMoistAirEnthalpy">GetMoistAirEnthalpy</a></code> function, rearranged for temperature.</p>
</div>


                </section>
                <section id="GetHumRatioFromEnthalpyAndTDryBulb">
                            <input id="GetHumRatioFromEnthalpyAndTDryBulb-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">GetHumRatioFromEnthalpyAndTDryBulb</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">MoistAirEnthalpy</span><span class="p">:</span> <span class="nb">float</span>, </span><span class="param"><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span></span><span class="return-annotation">) -> <span class="nb">float</span>:</span></span>

                <label class="view-source-button" for="GetHumRatioFromEnthalpyAndTDryBulb-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GetHumRatioFromEnthalpyAndTDryBulb"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GetHumRatioFromEnthalpyAndTDryBulb-980"><a href="#GetHumRatioFromEnthalpyAndTDryBulb-980"><span class="linenos"> 980</span></a><span class="k">def</span> <span class="nf">GetHumRatioFromEnthalpyAndTDryBulb</span><span class="p">(</span><span class="n">MoistAirEnthalpy</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="GetHumRatioFromEnthalpyAndTDryBulb-981"><a href="#GetHumRatioFromEnthalpyAndTDryBulb-981"><span class="linenos"> 981</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="GetHumRatioFromEnthalpyAndTDryBulb-982"><a href="#GetHumRatioFromEnthalpyAndTDryBulb-982"><span class="linenos"> 982</span></a><span class="sd">    Return humidity ratio from enthalpy and dry-bulb temperature.</span>
</span><span id="GetHumRatioFromEnthalpyAndTDryBulb-983"><a href="#GetHumRatioFromEnthalpyAndTDryBulb-983"><span class="linenos"> 983</span></a>
</span><span id="GetHumRatioFromEnthalpyAndTDryBulb-984"><a href="#GetHumRatioFromEnthalpyAndTDryBulb-984"><span class="linenos"> 984</span></a>
</span><span id="GetHumRatioFromEnthalpyAndTDryBulb-985"><a href="#GetHumRatioFromEnthalpyAndTDryBulb-985"><span class="linenos"> 985</span></a><span class="sd">    Args:</span>
</span><span id="GetHumRatioFromEnthalpyAndTDryBulb-986"><a href="#GetHumRatioFromEnthalpyAndTDryBulb-986"><span class="linenos"> 986</span></a><span class="sd">        MoistAirEnthalpy : Moist air enthalpy in Btu lb⁻¹ [IP] or J kg⁻¹</span>
</span><span id="GetHumRatioFromEnthalpyAndTDryBulb-987"><a href="#GetHumRatioFromEnthalpyAndTDryBulb-987"><span class="linenos"> 987</span></a><span class="sd">        TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="GetHumRatioFromEnthalpyAndTDryBulb-988"><a href="#GetHumRatioFromEnthalpyAndTDryBulb-988"><span class="linenos"> 988</span></a>
</span><span id="GetHumRatioFromEnthalpyAndTDryBulb-989"><a href="#GetHumRatioFromEnthalpyAndTDryBulb-989"><span class="linenos"> 989</span></a><span class="sd">    Returns:</span>
</span><span id="GetHumRatioFromEnthalpyAndTDryBulb-990"><a href="#GetHumRatioFromEnthalpyAndTDryBulb-990"><span class="linenos"> 990</span></a><span class="sd">        Humidity ratio in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]</span>
</span><span id="GetHumRatioFromEnthalpyAndTDryBulb-991"><a href="#GetHumRatioFromEnthalpyAndTDryBulb-991"><span class="linenos"> 991</span></a>
</span><span id="GetHumRatioFromEnthalpyAndTDryBulb-992"><a href="#GetHumRatioFromEnthalpyAndTDryBulb-992"><span class="linenos"> 992</span></a><span class="sd">    Reference:</span>
</span><span id="GetHumRatioFromEnthalpyAndTDryBulb-993"><a href="#GetHumRatioFromEnthalpyAndTDryBulb-993"><span class="linenos"> 993</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn 30.</span>
</span><span id="GetHumRatioFromEnthalpyAndTDryBulb-994"><a href="#GetHumRatioFromEnthalpyAndTDryBulb-994"><span class="linenos"> 994</span></a>
</span><span id="GetHumRatioFromEnthalpyAndTDryBulb-995"><a href="#GetHumRatioFromEnthalpyAndTDryBulb-995"><span class="linenos"> 995</span></a><span class="sd">    Notes:</span>
</span><span id="GetHumRatioFromEnthalpyAndTDryBulb-996"><a href="#GetHumRatioFromEnthalpyAndTDryBulb-996"><span class="linenos"> 996</span></a><span class="sd">        Based on the `GetMoistAirEnthalpy` function, rearranged for humidity ratio.</span>
</span><span id="GetHumRatioFromEnthalpyAndTDryBulb-997"><a href="#GetHumRatioFromEnthalpyAndTDryBulb-997"><span class="linenos"> 997</span></a>
</span><span id="GetHumRatioFromEnthalpyAndTDryBulb-998"><a href="#GetHumRatioFromEnthalpyAndTDryBulb-998"><span class="linenos"> 998</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="GetHumRatioFromEnthalpyAndTDryBulb-999"><a href="#GetHumRatioFromEnthalpyAndTDryBulb-999"><span class="linenos"> 999</span></a>    <span class="k">if</span> <span class="n">isIP</span><span class="p">():</span>
</span><span id="GetHumRatioFromEnthalpyAndTDryBulb-1000"><a href="#GetHumRatioFromEnthalpyAndTDryBulb-1000"><span class="linenos">1000</span></a>        <span class="n">HumRatio</span>  <span class="o">=</span> <span class="p">(</span><span class="n">MoistAirEnthalpy</span> <span class="o">-</span> <span class="mf">0.240</span> <span class="o">*</span> <span class="n">TDryBulb</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mf">1061.0</span> <span class="o">+</span> <span class="mf">0.444</span> <span class="o">*</span> <span class="n">TDryBulb</span><span class="p">)</span>
</span><span id="GetHumRatioFromEnthalpyAndTDryBulb-1001"><a href="#GetHumRatioFromEnthalpyAndTDryBulb-1001"><span class="linenos">1001</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="GetHumRatioFromEnthalpyAndTDryBulb-1002"><a href="#GetHumRatioFromEnthalpyAndTDryBulb-1002"><span class="linenos">1002</span></a>        <span class="n">HumRatio</span>  <span class="o">=</span> <span class="p">(</span><span class="n">MoistAirEnthalpy</span> <span class="o">/</span> <span class="mf">1000.0</span> <span class="o">-</span> <span class="mf">1.006</span> <span class="o">*</span> <span class="n">TDryBulb</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mf">2501.0</span> <span class="o">+</span> <span class="mf">1.86</span> <span class="o">*</span> <span class="n">TDryBulb</span><span class="p">)</span>
</span><span id="GetHumRatioFromEnthalpyAndTDryBulb-1003"><a href="#GetHumRatioFromEnthalpyAndTDryBulb-1003"><span class="linenos">1003</span></a>
</span><span id="GetHumRatioFromEnthalpyAndTDryBulb-1004"><a href="#GetHumRatioFromEnthalpyAndTDryBulb-1004"><span class="linenos">1004</span></a>    <span class="c1"># Validity check.</span>
</span><span id="GetHumRatioFromEnthalpyAndTDryBulb-1005"><a href="#GetHumRatioFromEnthalpyAndTDryBulb-1005"><span class="linenos">1005</span></a>    <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="n">HumRatio</span><span class="p">,</span> <span class="n">MIN_HUM_RATIO</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Return humidity ratio from enthalpy and dry-bulb temperature.</p>

<p>Args:
    MoistAirEnthalpy : Moist air enthalpy in Btu lb⁻¹ [IP] or J kg⁻¹
    TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</p>

<p>Returns:
    Humidity ratio in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]</p>

<p>Reference:
    ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn 30.</p>

<p>Notes:
    Based on the <code><a href="#GetMoistAirEnthalpy">GetMoistAirEnthalpy</a></code> function, rearranged for humidity ratio.</p>
</div>


                </section>
                <section id="GetSatVapPres">
                            <input id="GetSatVapPres-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">GetSatVapPres</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span></span><span class="return-annotation">) -> <span class="nb">float</span>:</span></span>

                <label class="view-source-button" for="GetSatVapPres-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GetSatVapPres"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GetSatVapPres-1012"><a href="#GetSatVapPres-1012"><span class="linenos">1012</span></a><span class="k">def</span> <span class="nf">GetSatVapPres</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="GetSatVapPres-1013"><a href="#GetSatVapPres-1013"><span class="linenos">1013</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="GetSatVapPres-1014"><a href="#GetSatVapPres-1014"><span class="linenos">1014</span></a><span class="sd">    Return saturation vapor pressure given dry-bulb temperature.</span>
</span><span id="GetSatVapPres-1015"><a href="#GetSatVapPres-1015"><span class="linenos">1015</span></a>
</span><span id="GetSatVapPres-1016"><a href="#GetSatVapPres-1016"><span class="linenos">1016</span></a><span class="sd">    Args:</span>
</span><span id="GetSatVapPres-1017"><a href="#GetSatVapPres-1017"><span class="linenos">1017</span></a><span class="sd">        TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="GetSatVapPres-1018"><a href="#GetSatVapPres-1018"><span class="linenos">1018</span></a>
</span><span id="GetSatVapPres-1019"><a href="#GetSatVapPres-1019"><span class="linenos">1019</span></a><span class="sd">    Returns:</span>
</span><span id="GetSatVapPres-1020"><a href="#GetSatVapPres-1020"><span class="linenos">1020</span></a><span class="sd">        Vapor pressure of saturated air in Psi [IP] or Pa [SI]</span>
</span><span id="GetSatVapPres-1021"><a href="#GetSatVapPres-1021"><span class="linenos">1021</span></a>
</span><span id="GetSatVapPres-1022"><a href="#GetSatVapPres-1022"><span class="linenos">1022</span></a><span class="sd">    Reference:</span>
</span><span id="GetSatVapPres-1023"><a href="#GetSatVapPres-1023"><span class="linenos">1023</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1  eqn 5 &amp; 6</span>
</span><span id="GetSatVapPres-1024"><a href="#GetSatVapPres-1024"><span class="linenos">1024</span></a><span class="sd">        Important note: the ASHRAE formulae are defined above and below the freezing point but have</span>
</span><span id="GetSatVapPres-1025"><a href="#GetSatVapPres-1025"><span class="linenos">1025</span></a><span class="sd">        a discontinuity at the freezing point. This is a small inaccuracy on ASHRAE&#39;s part: the formulae</span>
</span><span id="GetSatVapPres-1026"><a href="#GetSatVapPres-1026"><span class="linenos">1026</span></a><span class="sd">        should be defined above and below the triple point of water (not the feezing point) in which case</span>
</span><span id="GetSatVapPres-1027"><a href="#GetSatVapPres-1027"><span class="linenos">1027</span></a><span class="sd">        the discontinuity vanishes. It is essential to use the triple point of water otherwise function</span>
</span><span id="GetSatVapPres-1028"><a href="#GetSatVapPres-1028"><span class="linenos">1028</span></a><span class="sd">        GetTDewPointFromVapPres, which inverts the present function, does not converge properly around</span>
</span><span id="GetSatVapPres-1029"><a href="#GetSatVapPres-1029"><span class="linenos">1029</span></a><span class="sd">        the freezing point.</span>
</span><span id="GetSatVapPres-1030"><a href="#GetSatVapPres-1030"><span class="linenos">1030</span></a>
</span><span id="GetSatVapPres-1031"><a href="#GetSatVapPres-1031"><span class="linenos">1031</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="GetSatVapPres-1032"><a href="#GetSatVapPres-1032"><span class="linenos">1032</span></a>    <span class="k">if</span> <span class="n">isIP</span><span class="p">():</span>
</span><span id="GetSatVapPres-1033"><a href="#GetSatVapPres-1033"><span class="linenos">1033</span></a>        <span class="k">if</span> <span class="p">(</span><span class="n">TDryBulb</span> <span class="o">&lt;</span> <span class="o">-</span><span class="mi">148</span> <span class="ow">or</span> <span class="n">TDryBulb</span> <span class="o">&gt;</span> <span class="mi">392</span><span class="p">):</span>
</span><span id="GetSatVapPres-1034"><a href="#GetSatVapPres-1034"><span class="linenos">1034</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Dry bulb temperature must be in range [-148, 392]°F&quot;</span><span class="p">)</span>
</span><span id="GetSatVapPres-1035"><a href="#GetSatVapPres-1035"><span class="linenos">1035</span></a>
</span><span id="GetSatVapPres-1036"><a href="#GetSatVapPres-1036"><span class="linenos">1036</span></a>        <span class="n">T</span> <span class="o">=</span> <span class="n">GetTRankineFromTFahrenheit</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">)</span>
</span><span id="GetSatVapPres-1037"><a href="#GetSatVapPres-1037"><span class="linenos">1037</span></a>
</span><span id="GetSatVapPres-1038"><a href="#GetSatVapPres-1038"><span class="linenos">1038</span></a>        <span class="k">if</span> <span class="p">(</span><span class="n">TDryBulb</span> <span class="o">&lt;=</span> <span class="n">TRIPLE_POINT_WATER_IP</span><span class="p">):</span>
</span><span id="GetSatVapPres-1039"><a href="#GetSatVapPres-1039"><span class="linenos">1039</span></a>            <span class="n">LnPws</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="mf">1.0214165E+04</span> <span class="o">/</span> <span class="n">T</span> <span class="o">-</span> <span class="mf">4.8932428</span> <span class="o">-</span> <span class="mf">5.3765794E-03</span> <span class="o">*</span> <span class="n">T</span> <span class="o">+</span> <span class="mf">1.9202377E-07</span> <span class="o">*</span> <span class="n">T</span><span class="o">**</span><span class="mi">2</span> \
</span><span id="GetSatVapPres-1040"><a href="#GetSatVapPres-1040"><span class="linenos">1040</span></a>                  <span class="o">+</span> <span class="mf">3.5575832E-10</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="o">-</span> <span class="mf">9.0344688E-14</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="o">+</span> <span class="mf">4.1635019</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">T</span><span class="p">))</span>
</span><span id="GetSatVapPres-1041"><a href="#GetSatVapPres-1041"><span class="linenos">1041</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="GetSatVapPres-1042"><a href="#GetSatVapPres-1042"><span class="linenos">1042</span></a>            <span class="n">LnPws</span> <span class="o">=</span> <span class="o">-</span><span class="mf">1.0440397E+04</span> <span class="o">/</span> <span class="n">T</span> <span class="o">-</span> <span class="mf">1.1294650E+01</span> <span class="o">-</span> <span class="mf">2.7022355E-02</span><span class="o">*</span> <span class="n">T</span> <span class="o">+</span> <span class="mf">1.2890360E-05</span> <span class="o">*</span> <span class="n">T</span><span class="o">**</span><span class="mi">2</span> \
</span><span id="GetSatVapPres-1043"><a href="#GetSatVapPres-1043"><span class="linenos">1043</span></a>                  <span class="o">-</span> <span class="mf">2.4780681E-09</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="o">+</span> <span class="mf">6.5459673</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">T</span><span class="p">)</span>
</span><span id="GetSatVapPres-1044"><a href="#GetSatVapPres-1044"><span class="linenos">1044</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="GetSatVapPres-1045"><a href="#GetSatVapPres-1045"><span class="linenos">1045</span></a>        <span class="k">if</span> <span class="p">(</span><span class="n">TDryBulb</span> <span class="o">&lt;</span> <span class="o">-</span><span class="mi">100</span> <span class="ow">or</span> <span class="n">TDryBulb</span> <span class="o">&gt;</span> <span class="mi">200</span><span class="p">):</span>
</span><span id="GetSatVapPres-1046"><a href="#GetSatVapPres-1046"><span class="linenos">1046</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Dry bulb temperature must be in range [-100, 200]°C&quot;</span><span class="p">)</span>
</span><span id="GetSatVapPres-1047"><a href="#GetSatVapPres-1047"><span class="linenos">1047</span></a>
</span><span id="GetSatVapPres-1048"><a href="#GetSatVapPres-1048"><span class="linenos">1048</span></a>        <span class="n">T</span> <span class="o">=</span> <span class="n">GetTKelvinFromTCelsius</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">)</span>
</span><span id="GetSatVapPres-1049"><a href="#GetSatVapPres-1049"><span class="linenos">1049</span></a>
</span><span id="GetSatVapPres-1050"><a href="#GetSatVapPres-1050"><span class="linenos">1050</span></a>        <span class="k">if</span> <span class="p">(</span><span class="n">TDryBulb</span> <span class="o">&lt;=</span> <span class="n">TRIPLE_POINT_WATER_SI</span><span class="p">):</span>
</span><span id="GetSatVapPres-1051"><a href="#GetSatVapPres-1051"><span class="linenos">1051</span></a>            <span class="n">LnPws</span> <span class="o">=</span> <span class="o">-</span><span class="mf">5.6745359E+03</span> <span class="o">/</span> <span class="n">T</span> <span class="o">+</span> <span class="mf">6.3925247</span> <span class="o">-</span> <span class="mf">9.677843E-03</span> <span class="o">*</span> <span class="n">T</span> <span class="o">+</span> <span class="mf">6.2215701E-07</span> <span class="o">*</span> <span class="n">T</span><span class="o">**</span><span class="mi">2</span> \
</span><span id="GetSatVapPres-1052"><a href="#GetSatVapPres-1052"><span class="linenos">1052</span></a>                  <span class="o">+</span> <span class="mf">2.0747825E-09</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="o">-</span> <span class="mf">9.484024E-13</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="o">+</span> <span class="mf">4.1635019</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">T</span><span class="p">)</span>
</span><span id="GetSatVapPres-1053"><a href="#GetSatVapPres-1053"><span class="linenos">1053</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="GetSatVapPres-1054"><a href="#GetSatVapPres-1054"><span class="linenos">1054</span></a>            <span class="n">LnPws</span> <span class="o">=</span> <span class="o">-</span><span class="mf">5.8002206E+03</span> <span class="o">/</span> <span class="n">T</span> <span class="o">+</span> <span class="mf">1.3914993</span> <span class="o">-</span> <span class="mf">4.8640239E-02</span> <span class="o">*</span> <span class="n">T</span> <span class="o">+</span> <span class="mf">4.1764768E-05</span> <span class="o">*</span> <span class="n">T</span><span class="o">**</span><span class="mi">2</span> \
</span><span id="GetSatVapPres-1055"><a href="#GetSatVapPres-1055"><span class="linenos">1055</span></a>                  <span class="o">-</span> <span class="mf">1.4452093E-08</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="o">+</span> <span class="mf">6.5459673</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">T</span><span class="p">)</span>
</span><span id="GetSatVapPres-1056"><a href="#GetSatVapPres-1056"><span class="linenos">1056</span></a>
</span><span id="GetSatVapPres-1057"><a href="#GetSatVapPres-1057"><span class="linenos">1057</span></a>    <span class="n">SatVapPres</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">LnPws</span><span class="p">)</span>
</span><span id="GetSatVapPres-1058"><a href="#GetSatVapPres-1058"><span class="linenos">1058</span></a>    <span class="k">return</span> <span class="n">SatVapPres</span>
</span></pre></div>


            <div class="docstring"><p>Return saturation vapor pressure given dry-bulb temperature.</p>

<p>Args:
    TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</p>

<p>Returns:
    Vapor pressure of saturated air in Psi [IP] or Pa [SI]</p>

<p>Reference:
    ASHRAE Handbook - Fundamentals (2017) ch. 1  eqn 5 &amp; 6
    Important note: the ASHRAE formulae are defined above and below the freezing point but have
    a discontinuity at the freezing point. This is a small inaccuracy on ASHRAE's part: the formulae
    should be defined above and below the triple point of water (not the feezing point) in which case
    the discontinuity vanishes. It is essential to use the triple point of water otherwise function
    GetTDewPointFromVapPres, which inverts the present function, does not converge properly around
    the freezing point.</p>
</div>


                </section>
                <section id="GetSatHumRatio">
                            <input id="GetSatHumRatio-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">GetSatHumRatio</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span>, </span><span class="param"><span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span></span><span class="return-annotation">) -> <span class="nb">float</span>:</span></span>

                <label class="view-source-button" for="GetSatHumRatio-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GetSatHumRatio"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GetSatHumRatio-1060"><a href="#GetSatHumRatio-1060"><span class="linenos">1060</span></a><span class="k">def</span> <span class="nf">GetSatHumRatio</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="GetSatHumRatio-1061"><a href="#GetSatHumRatio-1061"><span class="linenos">1061</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="GetSatHumRatio-1062"><a href="#GetSatHumRatio-1062"><span class="linenos">1062</span></a><span class="sd">    Return humidity ratio of saturated air given dry-bulb temperature and pressure.</span>
</span><span id="GetSatHumRatio-1063"><a href="#GetSatHumRatio-1063"><span class="linenos">1063</span></a>
</span><span id="GetSatHumRatio-1064"><a href="#GetSatHumRatio-1064"><span class="linenos">1064</span></a><span class="sd">    Args:</span>
</span><span id="GetSatHumRatio-1065"><a href="#GetSatHumRatio-1065"><span class="linenos">1065</span></a><span class="sd">        TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="GetSatHumRatio-1066"><a href="#GetSatHumRatio-1066"><span class="linenos">1066</span></a><span class="sd">        Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</span>
</span><span id="GetSatHumRatio-1067"><a href="#GetSatHumRatio-1067"><span class="linenos">1067</span></a>
</span><span id="GetSatHumRatio-1068"><a href="#GetSatHumRatio-1068"><span class="linenos">1068</span></a><span class="sd">    Returns:</span>
</span><span id="GetSatHumRatio-1069"><a href="#GetSatHumRatio-1069"><span class="linenos">1069</span></a><span class="sd">        Humidity ratio of saturated air in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]</span>
</span><span id="GetSatHumRatio-1070"><a href="#GetSatHumRatio-1070"><span class="linenos">1070</span></a>
</span><span id="GetSatHumRatio-1071"><a href="#GetSatHumRatio-1071"><span class="linenos">1071</span></a><span class="sd">    Reference:</span>
</span><span id="GetSatHumRatio-1072"><a href="#GetSatHumRatio-1072"><span class="linenos">1072</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn 36, solved for W</span>
</span><span id="GetSatHumRatio-1073"><a href="#GetSatHumRatio-1073"><span class="linenos">1073</span></a>
</span><span id="GetSatHumRatio-1074"><a href="#GetSatHumRatio-1074"><span class="linenos">1074</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="GetSatHumRatio-1075"><a href="#GetSatHumRatio-1075"><span class="linenos">1075</span></a>    <span class="n">SatVaporPres</span> <span class="o">=</span> <span class="n">GetSatVapPres</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">)</span>
</span><span id="GetSatHumRatio-1076"><a href="#GetSatHumRatio-1076"><span class="linenos">1076</span></a>    <span class="n">SatHumRatio</span> <span class="o">=</span> <span class="mf">0.621945</span> <span class="o">*</span> <span class="n">SatVaporPres</span> <span class="o">/</span> <span class="p">(</span><span class="n">Pressure</span> <span class="o">-</span> <span class="n">SatVaporPres</span><span class="p">)</span>
</span><span id="GetSatHumRatio-1077"><a href="#GetSatHumRatio-1077"><span class="linenos">1077</span></a>
</span><span id="GetSatHumRatio-1078"><a href="#GetSatHumRatio-1078"><span class="linenos">1078</span></a>    <span class="c1"># Validity check.</span>
</span><span id="GetSatHumRatio-1079"><a href="#GetSatHumRatio-1079"><span class="linenos">1079</span></a>    <span class="k">return</span> <span class="nb">max</span><span class="p">(</span><span class="n">SatHumRatio</span><span class="p">,</span> <span class="n">MIN_HUM_RATIO</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Return humidity ratio of saturated air given dry-bulb temperature and pressure.</p>

<p>Args:
    TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]
    Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</p>

<p>Returns:
    Humidity ratio of saturated air in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]</p>

<p>Reference:
    ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn 36, solved for W</p>
</div>


                </section>
                <section id="GetSatAirEnthalpy">
                            <input id="GetSatAirEnthalpy-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">GetSatAirEnthalpy</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span>, </span><span class="param"><span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span></span><span class="return-annotation">) -> <span class="nb">float</span>:</span></span>

                <label class="view-source-button" for="GetSatAirEnthalpy-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GetSatAirEnthalpy"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GetSatAirEnthalpy-1081"><a href="#GetSatAirEnthalpy-1081"><span class="linenos">1081</span></a><span class="k">def</span> <span class="nf">GetSatAirEnthalpy</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="GetSatAirEnthalpy-1082"><a href="#GetSatAirEnthalpy-1082"><span class="linenos">1082</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="GetSatAirEnthalpy-1083"><a href="#GetSatAirEnthalpy-1083"><span class="linenos">1083</span></a><span class="sd">    Return saturated air enthalpy given dry-bulb temperature and pressure.</span>
</span><span id="GetSatAirEnthalpy-1084"><a href="#GetSatAirEnthalpy-1084"><span class="linenos">1084</span></a>
</span><span id="GetSatAirEnthalpy-1085"><a href="#GetSatAirEnthalpy-1085"><span class="linenos">1085</span></a><span class="sd">    Args:</span>
</span><span id="GetSatAirEnthalpy-1086"><a href="#GetSatAirEnthalpy-1086"><span class="linenos">1086</span></a><span class="sd">        TDryBulb: Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="GetSatAirEnthalpy-1087"><a href="#GetSatAirEnthalpy-1087"><span class="linenos">1087</span></a><span class="sd">        Pressure: Atmospheric pressure in Psi [IP] or Pa [SI]</span>
</span><span id="GetSatAirEnthalpy-1088"><a href="#GetSatAirEnthalpy-1088"><span class="linenos">1088</span></a>
</span><span id="GetSatAirEnthalpy-1089"><a href="#GetSatAirEnthalpy-1089"><span class="linenos">1089</span></a><span class="sd">    Returns:</span>
</span><span id="GetSatAirEnthalpy-1090"><a href="#GetSatAirEnthalpy-1090"><span class="linenos">1090</span></a><span class="sd">        Saturated air enthalpy in Btu lb⁻¹ [IP] or J kg⁻¹ [SI]</span>
</span><span id="GetSatAirEnthalpy-1091"><a href="#GetSatAirEnthalpy-1091"><span class="linenos">1091</span></a>
</span><span id="GetSatAirEnthalpy-1092"><a href="#GetSatAirEnthalpy-1092"><span class="linenos">1092</span></a><span class="sd">    Reference:</span>
</span><span id="GetSatAirEnthalpy-1093"><a href="#GetSatAirEnthalpy-1093"><span class="linenos">1093</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1</span>
</span><span id="GetSatAirEnthalpy-1094"><a href="#GetSatAirEnthalpy-1094"><span class="linenos">1094</span></a>
</span><span id="GetSatAirEnthalpy-1095"><a href="#GetSatAirEnthalpy-1095"><span class="linenos">1095</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="GetSatAirEnthalpy-1096"><a href="#GetSatAirEnthalpy-1096"><span class="linenos">1096</span></a>    <span class="n">SatHumRatio</span> <span class="o">=</span> <span class="n">GetSatHumRatio</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="GetSatAirEnthalpy-1097"><a href="#GetSatAirEnthalpy-1097"><span class="linenos">1097</span></a>    <span class="n">SatAirEnthalpy</span> <span class="o">=</span> <span class="n">GetMoistAirEnthalpy</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">SatHumRatio</span><span class="p">)</span>
</span><span id="GetSatAirEnthalpy-1098"><a href="#GetSatAirEnthalpy-1098"><span class="linenos">1098</span></a>    <span class="k">return</span> <span class="n">SatAirEnthalpy</span>
</span></pre></div>


            <div class="docstring"><p>Return saturated air enthalpy given dry-bulb temperature and pressure.</p>

<p>Args:
    TDryBulb: Dry-bulb temperature in °F [IP] or °C [SI]
    Pressure: Atmospheric pressure in Psi [IP] or Pa [SI]</p>

<p>Returns:
    Saturated air enthalpy in Btu lb⁻¹ [IP] or J kg⁻¹ [SI]</p>

<p>Reference:
    ASHRAE Handbook - Fundamentals (2017) ch. 1</p>
</div>


                </section>
                <section id="GetVaporPressureDeficit">
                            <input id="GetVaporPressureDeficit-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">GetVaporPressureDeficit</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span>, </span><span class="param"><span class="n">HumRatio</span><span class="p">:</span> <span class="nb">float</span>, </span><span class="param"><span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span></span><span class="return-annotation">) -> <span class="nb">float</span>:</span></span>

                <label class="view-source-button" for="GetVaporPressureDeficit-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GetVaporPressureDeficit"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GetVaporPressureDeficit-1105"><a href="#GetVaporPressureDeficit-1105"><span class="linenos">1105</span></a><span class="k">def</span> <span class="nf">GetVaporPressureDeficit</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">HumRatio</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="GetVaporPressureDeficit-1106"><a href="#GetVaporPressureDeficit-1106"><span class="linenos">1106</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="GetVaporPressureDeficit-1107"><a href="#GetVaporPressureDeficit-1107"><span class="linenos">1107</span></a><span class="sd">    Return Vapor pressure deficit given dry-bulb temperature, humidity ratio, and pressure.</span>
</span><span id="GetVaporPressureDeficit-1108"><a href="#GetVaporPressureDeficit-1108"><span class="linenos">1108</span></a>
</span><span id="GetVaporPressureDeficit-1109"><a href="#GetVaporPressureDeficit-1109"><span class="linenos">1109</span></a><span class="sd">    Args:</span>
</span><span id="GetVaporPressureDeficit-1110"><a href="#GetVaporPressureDeficit-1110"><span class="linenos">1110</span></a><span class="sd">        TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="GetVaporPressureDeficit-1111"><a href="#GetVaporPressureDeficit-1111"><span class="linenos">1111</span></a><span class="sd">        HumRatio : Humidity ratio in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]</span>
</span><span id="GetVaporPressureDeficit-1112"><a href="#GetVaporPressureDeficit-1112"><span class="linenos">1112</span></a><span class="sd">        Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</span>
</span><span id="GetVaporPressureDeficit-1113"><a href="#GetVaporPressureDeficit-1113"><span class="linenos">1113</span></a>
</span><span id="GetVaporPressureDeficit-1114"><a href="#GetVaporPressureDeficit-1114"><span class="linenos">1114</span></a><span class="sd">    Returns:</span>
</span><span id="GetVaporPressureDeficit-1115"><a href="#GetVaporPressureDeficit-1115"><span class="linenos">1115</span></a><span class="sd">        Vapor pressure deficit in Psi [IP] or Pa [SI]</span>
</span><span id="GetVaporPressureDeficit-1116"><a href="#GetVaporPressureDeficit-1116"><span class="linenos">1116</span></a>
</span><span id="GetVaporPressureDeficit-1117"><a href="#GetVaporPressureDeficit-1117"><span class="linenos">1117</span></a><span class="sd">    Reference:</span>
</span><span id="GetVaporPressureDeficit-1118"><a href="#GetVaporPressureDeficit-1118"><span class="linenos">1118</span></a><span class="sd">        Oke (1987) eqn 2.13a</span>
</span><span id="GetVaporPressureDeficit-1119"><a href="#GetVaporPressureDeficit-1119"><span class="linenos">1119</span></a>
</span><span id="GetVaporPressureDeficit-1120"><a href="#GetVaporPressureDeficit-1120"><span class="linenos">1120</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="GetVaporPressureDeficit-1121"><a href="#GetVaporPressureDeficit-1121"><span class="linenos">1121</span></a>    <span class="k">if</span> <span class="n">HumRatio</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="GetVaporPressureDeficit-1122"><a href="#GetVaporPressureDeficit-1122"><span class="linenos">1122</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Humidity ratio is negative&quot;</span><span class="p">)</span>
</span><span id="GetVaporPressureDeficit-1123"><a href="#GetVaporPressureDeficit-1123"><span class="linenos">1123</span></a>
</span><span id="GetVaporPressureDeficit-1124"><a href="#GetVaporPressureDeficit-1124"><span class="linenos">1124</span></a>    <span class="n">RelHum</span> <span class="o">=</span> <span class="n">GetRelHumFromHumRatio</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">HumRatio</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="GetVaporPressureDeficit-1125"><a href="#GetVaporPressureDeficit-1125"><span class="linenos">1125</span></a>    <span class="n">VaporPressureDeficit</span> <span class="o">=</span> <span class="n">GetSatVapPres</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="n">RelHum</span><span class="p">)</span>
</span><span id="GetVaporPressureDeficit-1126"><a href="#GetVaporPressureDeficit-1126"><span class="linenos">1126</span></a>    <span class="k">return</span> <span class="n">VaporPressureDeficit</span>
</span></pre></div>


            <div class="docstring"><p>Return Vapor pressure deficit given dry-bulb temperature, humidity ratio, and pressure.</p>

<p>Args:
    TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]
    HumRatio : Humidity ratio in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]
    Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</p>

<p>Returns:
    Vapor pressure deficit in Psi [IP] or Pa [SI]</p>

<p>Reference:
    Oke (1987) eqn 2.13a</p>
</div>


                </section>
                <section id="GetDegreeOfSaturation">
                            <input id="GetDegreeOfSaturation-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">GetDegreeOfSaturation</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span>, </span><span class="param"><span class="n">HumRatio</span><span class="p">:</span> <span class="nb">float</span>, </span><span class="param"><span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span></span><span class="return-annotation">) -> <span class="nb">float</span>:</span></span>

                <label class="view-source-button" for="GetDegreeOfSaturation-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GetDegreeOfSaturation"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GetDegreeOfSaturation-1128"><a href="#GetDegreeOfSaturation-1128"><span class="linenos">1128</span></a><span class="k">def</span> <span class="nf">GetDegreeOfSaturation</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">HumRatio</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="GetDegreeOfSaturation-1129"><a href="#GetDegreeOfSaturation-1129"><span class="linenos">1129</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="GetDegreeOfSaturation-1130"><a href="#GetDegreeOfSaturation-1130"><span class="linenos">1130</span></a><span class="sd">    Return the degree of saturation (i.e humidity ratio of the air / humidity ratio of the air at saturation</span>
</span><span id="GetDegreeOfSaturation-1131"><a href="#GetDegreeOfSaturation-1131"><span class="linenos">1131</span></a><span class="sd">    at the same temperature and pressure) given dry-bulb temperature, humidity ratio, and atmospheric pressure.</span>
</span><span id="GetDegreeOfSaturation-1132"><a href="#GetDegreeOfSaturation-1132"><span class="linenos">1132</span></a>
</span><span id="GetDegreeOfSaturation-1133"><a href="#GetDegreeOfSaturation-1133"><span class="linenos">1133</span></a><span class="sd">    Args:</span>
</span><span id="GetDegreeOfSaturation-1134"><a href="#GetDegreeOfSaturation-1134"><span class="linenos">1134</span></a><span class="sd">        TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="GetDegreeOfSaturation-1135"><a href="#GetDegreeOfSaturation-1135"><span class="linenos">1135</span></a><span class="sd">        HumRatio : Humidity ratio in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]</span>
</span><span id="GetDegreeOfSaturation-1136"><a href="#GetDegreeOfSaturation-1136"><span class="linenos">1136</span></a><span class="sd">        Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</span>
</span><span id="GetDegreeOfSaturation-1137"><a href="#GetDegreeOfSaturation-1137"><span class="linenos">1137</span></a>
</span><span id="GetDegreeOfSaturation-1138"><a href="#GetDegreeOfSaturation-1138"><span class="linenos">1138</span></a><span class="sd">    Returns:</span>
</span><span id="GetDegreeOfSaturation-1139"><a href="#GetDegreeOfSaturation-1139"><span class="linenos">1139</span></a><span class="sd">        Degree of saturation in arbitrary unit</span>
</span><span id="GetDegreeOfSaturation-1140"><a href="#GetDegreeOfSaturation-1140"><span class="linenos">1140</span></a>
</span><span id="GetDegreeOfSaturation-1141"><a href="#GetDegreeOfSaturation-1141"><span class="linenos">1141</span></a><span class="sd">    Reference:</span>
</span><span id="GetDegreeOfSaturation-1142"><a href="#GetDegreeOfSaturation-1142"><span class="linenos">1142</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2009) ch. 1 eqn 12</span>
</span><span id="GetDegreeOfSaturation-1143"><a href="#GetDegreeOfSaturation-1143"><span class="linenos">1143</span></a>
</span><span id="GetDegreeOfSaturation-1144"><a href="#GetDegreeOfSaturation-1144"><span class="linenos">1144</span></a><span class="sd">    Notes:</span>
</span><span id="GetDegreeOfSaturation-1145"><a href="#GetDegreeOfSaturation-1145"><span class="linenos">1145</span></a><span class="sd">        This definition is absent from the 2017 Handbook. Using 2009 version instead.</span>
</span><span id="GetDegreeOfSaturation-1146"><a href="#GetDegreeOfSaturation-1146"><span class="linenos">1146</span></a>
</span><span id="GetDegreeOfSaturation-1147"><a href="#GetDegreeOfSaturation-1147"><span class="linenos">1147</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="GetDegreeOfSaturation-1148"><a href="#GetDegreeOfSaturation-1148"><span class="linenos">1148</span></a>    <span class="k">if</span> <span class="n">HumRatio</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="GetDegreeOfSaturation-1149"><a href="#GetDegreeOfSaturation-1149"><span class="linenos">1149</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Humidity ratio is negative&quot;</span><span class="p">)</span>
</span><span id="GetDegreeOfSaturation-1150"><a href="#GetDegreeOfSaturation-1150"><span class="linenos">1150</span></a>    <span class="n">BoundedHumRatio</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">HumRatio</span><span class="p">,</span> <span class="n">MIN_HUM_RATIO</span><span class="p">)</span>
</span><span id="GetDegreeOfSaturation-1151"><a href="#GetDegreeOfSaturation-1151"><span class="linenos">1151</span></a>
</span><span id="GetDegreeOfSaturation-1152"><a href="#GetDegreeOfSaturation-1152"><span class="linenos">1152</span></a>    <span class="n">SatHumRatio</span> <span class="o">=</span> <span class="n">GetSatHumRatio</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="GetDegreeOfSaturation-1153"><a href="#GetDegreeOfSaturation-1153"><span class="linenos">1153</span></a>    <span class="n">DegreeOfSaturation</span> <span class="o">=</span> <span class="n">BoundedHumRatio</span> <span class="o">/</span> <span class="n">SatHumRatio</span>
</span><span id="GetDegreeOfSaturation-1154"><a href="#GetDegreeOfSaturation-1154"><span class="linenos">1154</span></a>    <span class="k">return</span> <span class="n">DegreeOfSaturation</span>
</span></pre></div>


            <div class="docstring"><p>Return the degree of saturation (i.e humidity ratio of the air / humidity ratio of the air at saturation
at the same temperature and pressure) given dry-bulb temperature, humidity ratio, and atmospheric pressure.</p>

<p>Args:
    TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]
    HumRatio : Humidity ratio in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]
    Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</p>

<p>Returns:
    Degree of saturation in arbitrary unit</p>

<p>Reference:
    ASHRAE Handbook - Fundamentals (2009) ch. 1 eqn 12</p>

<p>Notes:
    This definition is absent from the 2017 Handbook. Using 2009 version instead.</p>
</div>


                </section>
                <section id="GetMoistAirEnthalpy">
                            <input id="GetMoistAirEnthalpy-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">GetMoistAirEnthalpy</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span>, </span><span class="param"><span class="n">HumRatio</span><span class="p">:</span> <span class="nb">float</span></span><span class="return-annotation">) -> <span class="nb">float</span>:</span></span>

                <label class="view-source-button" for="GetMoistAirEnthalpy-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GetMoistAirEnthalpy"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GetMoistAirEnthalpy-1156"><a href="#GetMoistAirEnthalpy-1156"><span class="linenos">1156</span></a><span class="k">def</span> <span class="nf">GetMoistAirEnthalpy</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">HumRatio</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="GetMoistAirEnthalpy-1157"><a href="#GetMoistAirEnthalpy-1157"><span class="linenos">1157</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="GetMoistAirEnthalpy-1158"><a href="#GetMoistAirEnthalpy-1158"><span class="linenos">1158</span></a><span class="sd">    Return moist air enthalpy given dry-bulb temperature and humidity ratio.</span>
</span><span id="GetMoistAirEnthalpy-1159"><a href="#GetMoistAirEnthalpy-1159"><span class="linenos">1159</span></a>
</span><span id="GetMoistAirEnthalpy-1160"><a href="#GetMoistAirEnthalpy-1160"><span class="linenos">1160</span></a><span class="sd">    Args:</span>
</span><span id="GetMoistAirEnthalpy-1161"><a href="#GetMoistAirEnthalpy-1161"><span class="linenos">1161</span></a><span class="sd">        TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="GetMoistAirEnthalpy-1162"><a href="#GetMoistAirEnthalpy-1162"><span class="linenos">1162</span></a><span class="sd">        HumRatio : Humidity ratio in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]</span>
</span><span id="GetMoistAirEnthalpy-1163"><a href="#GetMoistAirEnthalpy-1163"><span class="linenos">1163</span></a>
</span><span id="GetMoistAirEnthalpy-1164"><a href="#GetMoistAirEnthalpy-1164"><span class="linenos">1164</span></a><span class="sd">    Returns:</span>
</span><span id="GetMoistAirEnthalpy-1165"><a href="#GetMoistAirEnthalpy-1165"><span class="linenos">1165</span></a><span class="sd">        Moist air enthalpy in Btu lb⁻¹ [IP] or J kg⁻¹</span>
</span><span id="GetMoistAirEnthalpy-1166"><a href="#GetMoistAirEnthalpy-1166"><span class="linenos">1166</span></a>
</span><span id="GetMoistAirEnthalpy-1167"><a href="#GetMoistAirEnthalpy-1167"><span class="linenos">1167</span></a><span class="sd">    Reference:</span>
</span><span id="GetMoistAirEnthalpy-1168"><a href="#GetMoistAirEnthalpy-1168"><span class="linenos">1168</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn 30</span>
</span><span id="GetMoistAirEnthalpy-1169"><a href="#GetMoistAirEnthalpy-1169"><span class="linenos">1169</span></a>
</span><span id="GetMoistAirEnthalpy-1170"><a href="#GetMoistAirEnthalpy-1170"><span class="linenos">1170</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="GetMoistAirEnthalpy-1171"><a href="#GetMoistAirEnthalpy-1171"><span class="linenos">1171</span></a>    <span class="k">if</span> <span class="n">HumRatio</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="GetMoistAirEnthalpy-1172"><a href="#GetMoistAirEnthalpy-1172"><span class="linenos">1172</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Humidity ratio is negative&quot;</span><span class="p">)</span>
</span><span id="GetMoistAirEnthalpy-1173"><a href="#GetMoistAirEnthalpy-1173"><span class="linenos">1173</span></a>    <span class="n">BoundedHumRatio</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">HumRatio</span><span class="p">,</span> <span class="n">MIN_HUM_RATIO</span><span class="p">)</span>
</span><span id="GetMoistAirEnthalpy-1174"><a href="#GetMoistAirEnthalpy-1174"><span class="linenos">1174</span></a>
</span><span id="GetMoistAirEnthalpy-1175"><a href="#GetMoistAirEnthalpy-1175"><span class="linenos">1175</span></a>    <span class="k">if</span> <span class="n">isIP</span><span class="p">():</span>
</span><span id="GetMoistAirEnthalpy-1176"><a href="#GetMoistAirEnthalpy-1176"><span class="linenos">1176</span></a>        <span class="n">MoistAirEnthalpy</span> <span class="o">=</span> <span class="mf">0.240</span> <span class="o">*</span> <span class="n">TDryBulb</span> <span class="o">+</span> <span class="n">BoundedHumRatio</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1061</span> <span class="o">+</span> <span class="mf">0.444</span> <span class="o">*</span> <span class="n">TDryBulb</span><span class="p">)</span>
</span><span id="GetMoistAirEnthalpy-1177"><a href="#GetMoistAirEnthalpy-1177"><span class="linenos">1177</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="GetMoistAirEnthalpy-1178"><a href="#GetMoistAirEnthalpy-1178"><span class="linenos">1178</span></a>        <span class="n">MoistAirEnthalpy</span> <span class="o">=</span> <span class="p">(</span><span class="mf">1.006</span> <span class="o">*</span> <span class="n">TDryBulb</span> <span class="o">+</span> <span class="n">BoundedHumRatio</span> <span class="o">*</span> <span class="p">(</span><span class="mf">2501.</span> <span class="o">+</span> <span class="mf">1.86</span> <span class="o">*</span> <span class="n">TDryBulb</span><span class="p">))</span> <span class="o">*</span> <span class="mi">1000</span>
</span><span id="GetMoistAirEnthalpy-1179"><a href="#GetMoistAirEnthalpy-1179"><span class="linenos">1179</span></a>    <span class="k">return</span> <span class="n">MoistAirEnthalpy</span>
</span></pre></div>


            <div class="docstring"><p>Return moist air enthalpy given dry-bulb temperature and humidity ratio.</p>

<p>Args:
    TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]
    HumRatio : Humidity ratio in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]</p>

<p>Returns:
    Moist air enthalpy in Btu lb⁻¹ [IP] or J kg⁻¹</p>

<p>Reference:
    ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn 30</p>
</div>


                </section>
                <section id="GetMoistAirVolume">
                            <input id="GetMoistAirVolume-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">GetMoistAirVolume</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span>, </span><span class="param"><span class="n">HumRatio</span><span class="p">:</span> <span class="nb">float</span>, </span><span class="param"><span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span></span><span class="return-annotation">) -> <span class="nb">float</span>:</span></span>

                <label class="view-source-button" for="GetMoistAirVolume-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GetMoistAirVolume"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GetMoistAirVolume-1181"><a href="#GetMoistAirVolume-1181"><span class="linenos">1181</span></a><span class="k">def</span> <span class="nf">GetMoistAirVolume</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">HumRatio</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="GetMoistAirVolume-1182"><a href="#GetMoistAirVolume-1182"><span class="linenos">1182</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="GetMoistAirVolume-1183"><a href="#GetMoistAirVolume-1183"><span class="linenos">1183</span></a><span class="sd">    Return moist air specific volume given dry-bulb temperature, humidity ratio, and pressure.</span>
</span><span id="GetMoistAirVolume-1184"><a href="#GetMoistAirVolume-1184"><span class="linenos">1184</span></a>
</span><span id="GetMoistAirVolume-1185"><a href="#GetMoistAirVolume-1185"><span class="linenos">1185</span></a><span class="sd">    Args:</span>
</span><span id="GetMoistAirVolume-1186"><a href="#GetMoistAirVolume-1186"><span class="linenos">1186</span></a><span class="sd">        TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="GetMoistAirVolume-1187"><a href="#GetMoistAirVolume-1187"><span class="linenos">1187</span></a><span class="sd">        HumRatio : Humidity ratio in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]</span>
</span><span id="GetMoistAirVolume-1188"><a href="#GetMoistAirVolume-1188"><span class="linenos">1188</span></a><span class="sd">        Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</span>
</span><span id="GetMoistAirVolume-1189"><a href="#GetMoistAirVolume-1189"><span class="linenos">1189</span></a>
</span><span id="GetMoistAirVolume-1190"><a href="#GetMoistAirVolume-1190"><span class="linenos">1190</span></a><span class="sd">    Returns:</span>
</span><span id="GetMoistAirVolume-1191"><a href="#GetMoistAirVolume-1191"><span class="linenos">1191</span></a><span class="sd">        Specific volume of moist air in ft³ lb⁻¹ of dry air [IP] or in m³ kg⁻¹ of dry air [SI]</span>
</span><span id="GetMoistAirVolume-1192"><a href="#GetMoistAirVolume-1192"><span class="linenos">1192</span></a>
</span><span id="GetMoistAirVolume-1193"><a href="#GetMoistAirVolume-1193"><span class="linenos">1193</span></a><span class="sd">    Reference:</span>
</span><span id="GetMoistAirVolume-1194"><a href="#GetMoistAirVolume-1194"><span class="linenos">1194</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn 26</span>
</span><span id="GetMoistAirVolume-1195"><a href="#GetMoistAirVolume-1195"><span class="linenos">1195</span></a>
</span><span id="GetMoistAirVolume-1196"><a href="#GetMoistAirVolume-1196"><span class="linenos">1196</span></a><span class="sd">    Notes:</span>
</span><span id="GetMoistAirVolume-1197"><a href="#GetMoistAirVolume-1197"><span class="linenos">1197</span></a><span class="sd">        In IP units, R_DA_IP / 144 equals 0.370486 which is the coefficient appearing in eqn 26</span>
</span><span id="GetMoistAirVolume-1198"><a href="#GetMoistAirVolume-1198"><span class="linenos">1198</span></a><span class="sd">        The factor 144 is for the conversion of Psi = lb in⁻² to lb ft⁻².</span>
</span><span id="GetMoistAirVolume-1199"><a href="#GetMoistAirVolume-1199"><span class="linenos">1199</span></a>
</span><span id="GetMoistAirVolume-1200"><a href="#GetMoistAirVolume-1200"><span class="linenos">1200</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="GetMoistAirVolume-1201"><a href="#GetMoistAirVolume-1201"><span class="linenos">1201</span></a>    <span class="k">if</span> <span class="n">HumRatio</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="GetMoistAirVolume-1202"><a href="#GetMoistAirVolume-1202"><span class="linenos">1202</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Humidity ratio is negative&quot;</span><span class="p">)</span>
</span><span id="GetMoistAirVolume-1203"><a href="#GetMoistAirVolume-1203"><span class="linenos">1203</span></a>    <span class="n">BoundedHumRatio</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">HumRatio</span><span class="p">,</span> <span class="n">MIN_HUM_RATIO</span><span class="p">)</span>
</span><span id="GetMoistAirVolume-1204"><a href="#GetMoistAirVolume-1204"><span class="linenos">1204</span></a>
</span><span id="GetMoistAirVolume-1205"><a href="#GetMoistAirVolume-1205"><span class="linenos">1205</span></a>    <span class="k">if</span> <span class="n">isIP</span><span class="p">():</span>
</span><span id="GetMoistAirVolume-1206"><a href="#GetMoistAirVolume-1206"><span class="linenos">1206</span></a>        <span class="n">MoistAirVolume</span> <span class="o">=</span> <span class="n">R_DA_IP</span> <span class="o">*</span> <span class="n">GetTRankineFromTFahrenheit</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="mf">1.607858</span> <span class="o">*</span> <span class="n">BoundedHumRatio</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mi">144</span> <span class="o">*</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="GetMoistAirVolume-1207"><a href="#GetMoistAirVolume-1207"><span class="linenos">1207</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="GetMoistAirVolume-1208"><a href="#GetMoistAirVolume-1208"><span class="linenos">1208</span></a>        <span class="n">MoistAirVolume</span> <span class="o">=</span> <span class="n">R_DA_SI</span> <span class="o">*</span> <span class="n">GetTKelvinFromTCelsius</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="mf">1.607858</span> <span class="o">*</span> <span class="n">BoundedHumRatio</span><span class="p">)</span> <span class="o">/</span> <span class="n">Pressure</span>
</span><span id="GetMoistAirVolume-1209"><a href="#GetMoistAirVolume-1209"><span class="linenos">1209</span></a>    <span class="k">return</span> <span class="n">MoistAirVolume</span>
</span></pre></div>


            <div class="docstring"><p>Return moist air specific volume given dry-bulb temperature, humidity ratio, and pressure.</p>

<p>Args:
    TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]
    HumRatio : Humidity ratio in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]
    Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</p>

<p>Returns:
    Specific volume of moist air in ft³ lb⁻¹ of dry air [IP] or in m³ kg⁻¹ of dry air [SI]</p>

<p>Reference:
    ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn 26</p>

<p>Notes:
    In IP units, R_DA_IP / 144 equals 0.370486 which is the coefficient appearing in eqn 26
    The factor 144 is for the conversion of Psi = lb in⁻² to lb ft⁻².</p>
</div>


                </section>
                <section id="GetTDryBulbFromMoistAirVolumeAndHumRatio">
                            <input id="GetTDryBulbFromMoistAirVolumeAndHumRatio-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">GetTDryBulbFromMoistAirVolumeAndHumRatio</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">MoistAirVolume</span><span class="p">:</span> <span class="nb">float</span>, </span><span class="param"><span class="n">HumRatio</span><span class="p">:</span> <span class="nb">float</span>, </span><span class="param"><span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span></span><span class="return-annotation">) -> <span class="nb">float</span>:</span></span>

                <label class="view-source-button" for="GetTDryBulbFromMoistAirVolumeAndHumRatio-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GetTDryBulbFromMoistAirVolumeAndHumRatio"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GetTDryBulbFromMoistAirVolumeAndHumRatio-1211"><a href="#GetTDryBulbFromMoistAirVolumeAndHumRatio-1211"><span class="linenos">1211</span></a><span class="k">def</span> <span class="nf">GetTDryBulbFromMoistAirVolumeAndHumRatio</span><span class="p">(</span><span class="n">MoistAirVolume</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">HumRatio</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="GetTDryBulbFromMoistAirVolumeAndHumRatio-1212"><a href="#GetTDryBulbFromMoistAirVolumeAndHumRatio-1212"><span class="linenos">1212</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="GetTDryBulbFromMoistAirVolumeAndHumRatio-1213"><a href="#GetTDryBulbFromMoistAirVolumeAndHumRatio-1213"><span class="linenos">1213</span></a><span class="sd">    Return dry-bulb temperature given moist air specific volume, humidity ratio, and pressure.</span>
</span><span id="GetTDryBulbFromMoistAirVolumeAndHumRatio-1214"><a href="#GetTDryBulbFromMoistAirVolumeAndHumRatio-1214"><span class="linenos">1214</span></a>
</span><span id="GetTDryBulbFromMoistAirVolumeAndHumRatio-1215"><a href="#GetTDryBulbFromMoistAirVolumeAndHumRatio-1215"><span class="linenos">1215</span></a><span class="sd">    Args:</span>
</span><span id="GetTDryBulbFromMoistAirVolumeAndHumRatio-1216"><a href="#GetTDryBulbFromMoistAirVolumeAndHumRatio-1216"><span class="linenos">1216</span></a><span class="sd">        MoistAirVolume: Specific volume of moist air in ft³ lb⁻¹ of dry air [IP] or in m³ kg⁻¹ of dry air [SI]</span>
</span><span id="GetTDryBulbFromMoistAirVolumeAndHumRatio-1217"><a href="#GetTDryBulbFromMoistAirVolumeAndHumRatio-1217"><span class="linenos">1217</span></a><span class="sd">        HumRatio : Humidity ratio in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]</span>
</span><span id="GetTDryBulbFromMoistAirVolumeAndHumRatio-1218"><a href="#GetTDryBulbFromMoistAirVolumeAndHumRatio-1218"><span class="linenos">1218</span></a><span class="sd">        Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</span>
</span><span id="GetTDryBulbFromMoistAirVolumeAndHumRatio-1219"><a href="#GetTDryBulbFromMoistAirVolumeAndHumRatio-1219"><span class="linenos">1219</span></a>
</span><span id="GetTDryBulbFromMoistAirVolumeAndHumRatio-1220"><a href="#GetTDryBulbFromMoistAirVolumeAndHumRatio-1220"><span class="linenos">1220</span></a><span class="sd">    Returns:</span>
</span><span id="GetTDryBulbFromMoistAirVolumeAndHumRatio-1221"><a href="#GetTDryBulbFromMoistAirVolumeAndHumRatio-1221"><span class="linenos">1221</span></a><span class="sd">        TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="GetTDryBulbFromMoistAirVolumeAndHumRatio-1222"><a href="#GetTDryBulbFromMoistAirVolumeAndHumRatio-1222"><span class="linenos">1222</span></a>
</span><span id="GetTDryBulbFromMoistAirVolumeAndHumRatio-1223"><a href="#GetTDryBulbFromMoistAirVolumeAndHumRatio-1223"><span class="linenos">1223</span></a><span class="sd">    Reference:</span>
</span><span id="GetTDryBulbFromMoistAirVolumeAndHumRatio-1224"><a href="#GetTDryBulbFromMoistAirVolumeAndHumRatio-1224"><span class="linenos">1224</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn 26</span>
</span><span id="GetTDryBulbFromMoistAirVolumeAndHumRatio-1225"><a href="#GetTDryBulbFromMoistAirVolumeAndHumRatio-1225"><span class="linenos">1225</span></a>
</span><span id="GetTDryBulbFromMoistAirVolumeAndHumRatio-1226"><a href="#GetTDryBulbFromMoistAirVolumeAndHumRatio-1226"><span class="linenos">1226</span></a><span class="sd">    Notes:</span>
</span><span id="GetTDryBulbFromMoistAirVolumeAndHumRatio-1227"><a href="#GetTDryBulbFromMoistAirVolumeAndHumRatio-1227"><span class="linenos">1227</span></a><span class="sd">        In IP units, R_DA_IP / 144 equals 0.370486 which is the coefficient appearing in eqn 26</span>
</span><span id="GetTDryBulbFromMoistAirVolumeAndHumRatio-1228"><a href="#GetTDryBulbFromMoistAirVolumeAndHumRatio-1228"><span class="linenos">1228</span></a><span class="sd">        The factor 144 is for the conversion of Psi = lb in⁻² to lb ft⁻².</span>
</span><span id="GetTDryBulbFromMoistAirVolumeAndHumRatio-1229"><a href="#GetTDryBulbFromMoistAirVolumeAndHumRatio-1229"><span class="linenos">1229</span></a><span class="sd">        Based on the `GetMoistAirVolume` function, rearranged for dry-bulb temperature.</span>
</span><span id="GetTDryBulbFromMoistAirVolumeAndHumRatio-1230"><a href="#GetTDryBulbFromMoistAirVolumeAndHumRatio-1230"><span class="linenos">1230</span></a>
</span><span id="GetTDryBulbFromMoistAirVolumeAndHumRatio-1231"><a href="#GetTDryBulbFromMoistAirVolumeAndHumRatio-1231"><span class="linenos">1231</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="GetTDryBulbFromMoistAirVolumeAndHumRatio-1232"><a href="#GetTDryBulbFromMoistAirVolumeAndHumRatio-1232"><span class="linenos">1232</span></a>    <span class="k">if</span> <span class="n">HumRatio</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="GetTDryBulbFromMoistAirVolumeAndHumRatio-1233"><a href="#GetTDryBulbFromMoistAirVolumeAndHumRatio-1233"><span class="linenos">1233</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Humidity ratio is negative&quot;</span><span class="p">)</span>
</span><span id="GetTDryBulbFromMoistAirVolumeAndHumRatio-1234"><a href="#GetTDryBulbFromMoistAirVolumeAndHumRatio-1234"><span class="linenos">1234</span></a>    <span class="n">BoundedHumRatio</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">HumRatio</span><span class="p">,</span> <span class="n">MIN_HUM_RATIO</span><span class="p">)</span>
</span><span id="GetTDryBulbFromMoistAirVolumeAndHumRatio-1235"><a href="#GetTDryBulbFromMoistAirVolumeAndHumRatio-1235"><span class="linenos">1235</span></a>
</span><span id="GetTDryBulbFromMoistAirVolumeAndHumRatio-1236"><a href="#GetTDryBulbFromMoistAirVolumeAndHumRatio-1236"><span class="linenos">1236</span></a>    <span class="k">if</span> <span class="n">isIP</span><span class="p">():</span>
</span><span id="GetTDryBulbFromMoistAirVolumeAndHumRatio-1237"><a href="#GetTDryBulbFromMoistAirVolumeAndHumRatio-1237"><span class="linenos">1237</span></a>        <span class="n">TDryBulb</span> <span class="o">=</span> <span class="n">GetTFahrenheitFromTRankine</span><span class="p">(</span><span class="n">MoistAirVolume</span> <span class="o">*</span> <span class="p">(</span><span class="mi">144</span> <span class="o">*</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="GetTDryBulbFromMoistAirVolumeAndHumRatio-1238"><a href="#GetTDryBulbFromMoistAirVolumeAndHumRatio-1238"><span class="linenos">1238</span></a>                        <span class="o">/</span> <span class="p">(</span><span class="n">R_DA_IP</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="mf">1.607858</span> <span class="o">*</span> <span class="n">BoundedHumRatio</span><span class="p">)))</span>
</span><span id="GetTDryBulbFromMoistAirVolumeAndHumRatio-1239"><a href="#GetTDryBulbFromMoistAirVolumeAndHumRatio-1239"><span class="linenos">1239</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="GetTDryBulbFromMoistAirVolumeAndHumRatio-1240"><a href="#GetTDryBulbFromMoistAirVolumeAndHumRatio-1240"><span class="linenos">1240</span></a>        <span class="n">TDryBulb</span> <span class="o">=</span> <span class="n">GetTCelsiusFromTKelvin</span><span class="p">(</span><span class="n">MoistAirVolume</span> <span class="o">*</span> <span class="n">Pressure</span>
</span><span id="GetTDryBulbFromMoistAirVolumeAndHumRatio-1241"><a href="#GetTDryBulbFromMoistAirVolumeAndHumRatio-1241"><span class="linenos">1241</span></a>                        <span class="o">/</span> <span class="p">(</span><span class="n">R_DA_SI</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="mf">1.607858</span> <span class="o">*</span> <span class="n">BoundedHumRatio</span><span class="p">)))</span>
</span><span id="GetTDryBulbFromMoistAirVolumeAndHumRatio-1242"><a href="#GetTDryBulbFromMoistAirVolumeAndHumRatio-1242"><span class="linenos">1242</span></a>    <span class="k">return</span> <span class="n">TDryBulb</span>
</span></pre></div>


            <div class="docstring"><p>Return dry-bulb temperature given moist air specific volume, humidity ratio, and pressure.</p>

<p>Args:
    MoistAirVolume: Specific volume of moist air in ft³ lb⁻¹ of dry air [IP] or in m³ kg⁻¹ of dry air [SI]
    HumRatio : Humidity ratio in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]
    Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</p>

<p>Returns:
    TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</p>

<p>Reference:
    ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn 26</p>

<p>Notes:
    In IP units, R_DA_IP / 144 equals 0.370486 which is the coefficient appearing in eqn 26
    The factor 144 is for the conversion of Psi = lb in⁻² to lb ft⁻².
    Based on the <code><a href="#GetMoistAirVolume">GetMoistAirVolume</a></code> function, rearranged for dry-bulb temperature.</p>
</div>


                </section>
                <section id="GetMoistAirDensity">
                            <input id="GetMoistAirDensity-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">GetMoistAirDensity</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span>, </span><span class="param"><span class="n">HumRatio</span><span class="p">:</span> <span class="nb">float</span>, </span><span class="param"><span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span></span><span class="return-annotation">) -> <span class="nb">float</span>:</span></span>

                <label class="view-source-button" for="GetMoistAirDensity-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GetMoistAirDensity"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GetMoistAirDensity-1244"><a href="#GetMoistAirDensity-1244"><span class="linenos">1244</span></a><span class="k">def</span> <span class="nf">GetMoistAirDensity</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">HumRatio</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">:</span><span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="GetMoistAirDensity-1245"><a href="#GetMoistAirDensity-1245"><span class="linenos">1245</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="GetMoistAirDensity-1246"><a href="#GetMoistAirDensity-1246"><span class="linenos">1246</span></a><span class="sd">    Return moist air density given humidity ratio, dry bulb temperature, and pressure.</span>
</span><span id="GetMoistAirDensity-1247"><a href="#GetMoistAirDensity-1247"><span class="linenos">1247</span></a>
</span><span id="GetMoistAirDensity-1248"><a href="#GetMoistAirDensity-1248"><span class="linenos">1248</span></a><span class="sd">    Args:</span>
</span><span id="GetMoistAirDensity-1249"><a href="#GetMoistAirDensity-1249"><span class="linenos">1249</span></a><span class="sd">        TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="GetMoistAirDensity-1250"><a href="#GetMoistAirDensity-1250"><span class="linenos">1250</span></a><span class="sd">        HumRatio : Humidity ratio in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]</span>
</span><span id="GetMoistAirDensity-1251"><a href="#GetMoistAirDensity-1251"><span class="linenos">1251</span></a><span class="sd">        Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</span>
</span><span id="GetMoistAirDensity-1252"><a href="#GetMoistAirDensity-1252"><span class="linenos">1252</span></a>
</span><span id="GetMoistAirDensity-1253"><a href="#GetMoistAirDensity-1253"><span class="linenos">1253</span></a><span class="sd">    Returns:</span>
</span><span id="GetMoistAirDensity-1254"><a href="#GetMoistAirDensity-1254"><span class="linenos">1254</span></a><span class="sd">        MoistAirDensity: Moist air density in lb ft⁻³ [IP] or kg m⁻³ [SI]</span>
</span><span id="GetMoistAirDensity-1255"><a href="#GetMoistAirDensity-1255"><span class="linenos">1255</span></a>
</span><span id="GetMoistAirDensity-1256"><a href="#GetMoistAirDensity-1256"><span class="linenos">1256</span></a><span class="sd">    Reference:</span>
</span><span id="GetMoistAirDensity-1257"><a href="#GetMoistAirDensity-1257"><span class="linenos">1257</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn 11</span>
</span><span id="GetMoistAirDensity-1258"><a href="#GetMoistAirDensity-1258"><span class="linenos">1258</span></a>
</span><span id="GetMoistAirDensity-1259"><a href="#GetMoistAirDensity-1259"><span class="linenos">1259</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="GetMoistAirDensity-1260"><a href="#GetMoistAirDensity-1260"><span class="linenos">1260</span></a>    <span class="k">if</span> <span class="n">HumRatio</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
</span><span id="GetMoistAirDensity-1261"><a href="#GetMoistAirDensity-1261"><span class="linenos">1261</span></a>        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Humidity ratio is negative&quot;</span><span class="p">)</span>
</span><span id="GetMoistAirDensity-1262"><a href="#GetMoistAirDensity-1262"><span class="linenos">1262</span></a>    <span class="n">BoundedHumRatio</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">HumRatio</span><span class="p">,</span> <span class="n">MIN_HUM_RATIO</span><span class="p">)</span>
</span><span id="GetMoistAirDensity-1263"><a href="#GetMoistAirDensity-1263"><span class="linenos">1263</span></a>
</span><span id="GetMoistAirDensity-1264"><a href="#GetMoistAirDensity-1264"><span class="linenos">1264</span></a>    <span class="n">MoistAirVolume</span> <span class="o">=</span> <span class="n">GetMoistAirVolume</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">BoundedHumRatio</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="GetMoistAirDensity-1265"><a href="#GetMoistAirDensity-1265"><span class="linenos">1265</span></a>    <span class="n">MoistAirDensity</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">BoundedHumRatio</span><span class="p">)</span> <span class="o">/</span> <span class="n">MoistAirVolume</span>
</span><span id="GetMoistAirDensity-1266"><a href="#GetMoistAirDensity-1266"><span class="linenos">1266</span></a>    <span class="k">return</span> <span class="n">MoistAirDensity</span>
</span></pre></div>


            <div class="docstring"><p>Return moist air density given humidity ratio, dry bulb temperature, and pressure.</p>

<p>Args:
    TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]
    HumRatio : Humidity ratio in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]
    Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</p>

<p>Returns:
    MoistAirDensity: Moist air density in lb ft⁻³ [IP] or kg m⁻³ [SI]</p>

<p>Reference:
    ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn 11</p>
</div>


                </section>
                <section id="GetStandardAtmPressure">
                            <input id="GetStandardAtmPressure-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">GetStandardAtmPressure</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">Altitude</span><span class="p">:</span> <span class="nb">float</span></span><span class="return-annotation">) -> <span class="nb">float</span>:</span></span>

                <label class="view-source-button" for="GetStandardAtmPressure-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GetStandardAtmPressure"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GetStandardAtmPressure-1273"><a href="#GetStandardAtmPressure-1273"><span class="linenos">1273</span></a><span class="k">def</span> <span class="nf">GetStandardAtmPressure</span><span class="p">(</span><span class="n">Altitude</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="GetStandardAtmPressure-1274"><a href="#GetStandardAtmPressure-1274"><span class="linenos">1274</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="GetStandardAtmPressure-1275"><a href="#GetStandardAtmPressure-1275"><span class="linenos">1275</span></a><span class="sd">    Return standard atmosphere barometric pressure, given the elevation (altitude).</span>
</span><span id="GetStandardAtmPressure-1276"><a href="#GetStandardAtmPressure-1276"><span class="linenos">1276</span></a>
</span><span id="GetStandardAtmPressure-1277"><a href="#GetStandardAtmPressure-1277"><span class="linenos">1277</span></a><span class="sd">    Args:</span>
</span><span id="GetStandardAtmPressure-1278"><a href="#GetStandardAtmPressure-1278"><span class="linenos">1278</span></a><span class="sd">        Altitude: Altitude in ft [IP] or m [SI]</span>
</span><span id="GetStandardAtmPressure-1279"><a href="#GetStandardAtmPressure-1279"><span class="linenos">1279</span></a>
</span><span id="GetStandardAtmPressure-1280"><a href="#GetStandardAtmPressure-1280"><span class="linenos">1280</span></a><span class="sd">    Returns:</span>
</span><span id="GetStandardAtmPressure-1281"><a href="#GetStandardAtmPressure-1281"><span class="linenos">1281</span></a><span class="sd">        Standard atmosphere barometric pressure in Psi [IP] or Pa [SI]</span>
</span><span id="GetStandardAtmPressure-1282"><a href="#GetStandardAtmPressure-1282"><span class="linenos">1282</span></a>
</span><span id="GetStandardAtmPressure-1283"><a href="#GetStandardAtmPressure-1283"><span class="linenos">1283</span></a><span class="sd">    Reference:</span>
</span><span id="GetStandardAtmPressure-1284"><a href="#GetStandardAtmPressure-1284"><span class="linenos">1284</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn 3</span>
</span><span id="GetStandardAtmPressure-1285"><a href="#GetStandardAtmPressure-1285"><span class="linenos">1285</span></a>
</span><span id="GetStandardAtmPressure-1286"><a href="#GetStandardAtmPressure-1286"><span class="linenos">1286</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="GetStandardAtmPressure-1287"><a href="#GetStandardAtmPressure-1287"><span class="linenos">1287</span></a>
</span><span id="GetStandardAtmPressure-1288"><a href="#GetStandardAtmPressure-1288"><span class="linenos">1288</span></a>    <span class="k">if</span> <span class="n">isIP</span><span class="p">():</span>
</span><span id="GetStandardAtmPressure-1289"><a href="#GetStandardAtmPressure-1289"><span class="linenos">1289</span></a>        <span class="n">StandardAtmPressure</span> <span class="o">=</span> <span class="mf">14.696</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="mf">6.8754e-06</span> <span class="o">*</span> <span class="n">Altitude</span><span class="p">,</span> <span class="mf">5.2559</span><span class="p">)</span>
</span><span id="GetStandardAtmPressure-1290"><a href="#GetStandardAtmPressure-1290"><span class="linenos">1290</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="GetStandardAtmPressure-1291"><a href="#GetStandardAtmPressure-1291"><span class="linenos">1291</span></a>        <span class="n">StandardAtmPressure</span> <span class="o">=</span> <span class="mi">101325</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="mf">2.25577e-05</span> <span class="o">*</span> <span class="n">Altitude</span><span class="p">,</span> <span class="mf">5.2559</span><span class="p">)</span>
</span><span id="GetStandardAtmPressure-1292"><a href="#GetStandardAtmPressure-1292"><span class="linenos">1292</span></a>    <span class="k">return</span> <span class="n">StandardAtmPressure</span>
</span></pre></div>


            <div class="docstring"><p>Return standard atmosphere barometric pressure, given the elevation (altitude).</p>

<p>Args:
    Altitude: Altitude in ft [IP] or m [SI]</p>

<p>Returns:
    Standard atmosphere barometric pressure in Psi [IP] or Pa [SI]</p>

<p>Reference:
    ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn 3</p>
</div>


                </section>
                <section id="GetStandardAtmTemperature">
                            <input id="GetStandardAtmTemperature-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">GetStandardAtmTemperature</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">Altitude</span><span class="p">:</span> <span class="nb">float</span></span><span class="return-annotation">) -> <span class="nb">float</span>:</span></span>

                <label class="view-source-button" for="GetStandardAtmTemperature-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GetStandardAtmTemperature"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GetStandardAtmTemperature-1294"><a href="#GetStandardAtmTemperature-1294"><span class="linenos">1294</span></a><span class="k">def</span> <span class="nf">GetStandardAtmTemperature</span><span class="p">(</span><span class="n">Altitude</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="GetStandardAtmTemperature-1295"><a href="#GetStandardAtmTemperature-1295"><span class="linenos">1295</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="GetStandardAtmTemperature-1296"><a href="#GetStandardAtmTemperature-1296"><span class="linenos">1296</span></a><span class="sd">    Return standard atmosphere temperature, given the elevation (altitude).</span>
</span><span id="GetStandardAtmTemperature-1297"><a href="#GetStandardAtmTemperature-1297"><span class="linenos">1297</span></a>
</span><span id="GetStandardAtmTemperature-1298"><a href="#GetStandardAtmTemperature-1298"><span class="linenos">1298</span></a><span class="sd">    Args:</span>
</span><span id="GetStandardAtmTemperature-1299"><a href="#GetStandardAtmTemperature-1299"><span class="linenos">1299</span></a><span class="sd">        Altitude: Altitude in ft [IP] or m [SI]</span>
</span><span id="GetStandardAtmTemperature-1300"><a href="#GetStandardAtmTemperature-1300"><span class="linenos">1300</span></a>
</span><span id="GetStandardAtmTemperature-1301"><a href="#GetStandardAtmTemperature-1301"><span class="linenos">1301</span></a><span class="sd">    Returns:</span>
</span><span id="GetStandardAtmTemperature-1302"><a href="#GetStandardAtmTemperature-1302"><span class="linenos">1302</span></a><span class="sd">        Standard atmosphere dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="GetStandardAtmTemperature-1303"><a href="#GetStandardAtmTemperature-1303"><span class="linenos">1303</span></a>
</span><span id="GetStandardAtmTemperature-1304"><a href="#GetStandardAtmTemperature-1304"><span class="linenos">1304</span></a><span class="sd">    Reference:</span>
</span><span id="GetStandardAtmTemperature-1305"><a href="#GetStandardAtmTemperature-1305"><span class="linenos">1305</span></a><span class="sd">        ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn 4</span>
</span><span id="GetStandardAtmTemperature-1306"><a href="#GetStandardAtmTemperature-1306"><span class="linenos">1306</span></a>
</span><span id="GetStandardAtmTemperature-1307"><a href="#GetStandardAtmTemperature-1307"><span class="linenos">1307</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="GetStandardAtmTemperature-1308"><a href="#GetStandardAtmTemperature-1308"><span class="linenos">1308</span></a>    <span class="k">if</span> <span class="n">isIP</span><span class="p">():</span>
</span><span id="GetStandardAtmTemperature-1309"><a href="#GetStandardAtmTemperature-1309"><span class="linenos">1309</span></a>        <span class="n">StandardAtmTemperature</span> <span class="o">=</span> <span class="mi">59</span> <span class="o">-</span> <span class="mf">0.00356620</span> <span class="o">*</span> <span class="n">Altitude</span>
</span><span id="GetStandardAtmTemperature-1310"><a href="#GetStandardAtmTemperature-1310"><span class="linenos">1310</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="GetStandardAtmTemperature-1311"><a href="#GetStandardAtmTemperature-1311"><span class="linenos">1311</span></a>        <span class="n">StandardAtmTemperature</span> <span class="o">=</span> <span class="mi">15</span> <span class="o">-</span> <span class="mf">0.0065</span> <span class="o">*</span> <span class="n">Altitude</span>
</span><span id="GetStandardAtmTemperature-1312"><a href="#GetStandardAtmTemperature-1312"><span class="linenos">1312</span></a>    <span class="k">return</span> <span class="n">StandardAtmTemperature</span>
</span></pre></div>


            <div class="docstring"><p>Return standard atmosphere temperature, given the elevation (altitude).</p>

<p>Args:
    Altitude: Altitude in ft [IP] or m [SI]</p>

<p>Returns:
    Standard atmosphere dry-bulb temperature in °F [IP] or °C [SI]</p>

<p>Reference:
    ASHRAE Handbook - Fundamentals (2017) ch. 1 eqn 4</p>
</div>


                </section>
                <section id="GetSeaLevelPressure">
                            <input id="GetSeaLevelPressure-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">GetSeaLevelPressure</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">StationPressure</span><span class="p">:</span> <span class="nb">float</span>, </span><span class="param"><span class="n">Altitude</span><span class="p">:</span> <span class="nb">float</span>, </span><span class="param"><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span></span><span class="return-annotation">) -> <span class="nb">float</span>:</span></span>

                <label class="view-source-button" for="GetSeaLevelPressure-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GetSeaLevelPressure"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GetSeaLevelPressure-1314"><a href="#GetSeaLevelPressure-1314"><span class="linenos">1314</span></a><span class="k">def</span> <span class="nf">GetSeaLevelPressure</span><span class="p">(</span><span class="n">StationPressure</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">Altitude</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="GetSeaLevelPressure-1315"><a href="#GetSeaLevelPressure-1315"><span class="linenos">1315</span></a>
</span><span id="GetSeaLevelPressure-1316"><a href="#GetSeaLevelPressure-1316"><span class="linenos">1316</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="GetSeaLevelPressure-1317"><a href="#GetSeaLevelPressure-1317"><span class="linenos">1317</span></a><span class="sd">    Return sea level pressure given dry-bulb temperature, altitude above sea level and pressure.</span>
</span><span id="GetSeaLevelPressure-1318"><a href="#GetSeaLevelPressure-1318"><span class="linenos">1318</span></a>
</span><span id="GetSeaLevelPressure-1319"><a href="#GetSeaLevelPressure-1319"><span class="linenos">1319</span></a><span class="sd">    Args:</span>
</span><span id="GetSeaLevelPressure-1320"><a href="#GetSeaLevelPressure-1320"><span class="linenos">1320</span></a><span class="sd">        StationPressure : Observed station pressure in Psi [IP] or Pa [SI]</span>
</span><span id="GetSeaLevelPressure-1321"><a href="#GetSeaLevelPressure-1321"><span class="linenos">1321</span></a><span class="sd">        Altitude: Altitude in ft [IP] or m [SI]</span>
</span><span id="GetSeaLevelPressure-1322"><a href="#GetSeaLevelPressure-1322"><span class="linenos">1322</span></a><span class="sd">        TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="GetSeaLevelPressure-1323"><a href="#GetSeaLevelPressure-1323"><span class="linenos">1323</span></a>
</span><span id="GetSeaLevelPressure-1324"><a href="#GetSeaLevelPressure-1324"><span class="linenos">1324</span></a><span class="sd">    Returns:</span>
</span><span id="GetSeaLevelPressure-1325"><a href="#GetSeaLevelPressure-1325"><span class="linenos">1325</span></a><span class="sd">        Sea level barometric pressure in Psi [IP] or Pa [SI]</span>
</span><span id="GetSeaLevelPressure-1326"><a href="#GetSeaLevelPressure-1326"><span class="linenos">1326</span></a>
</span><span id="GetSeaLevelPressure-1327"><a href="#GetSeaLevelPressure-1327"><span class="linenos">1327</span></a><span class="sd">    Reference:</span>
</span><span id="GetSeaLevelPressure-1328"><a href="#GetSeaLevelPressure-1328"><span class="linenos">1328</span></a><span class="sd">        Hess SL, Introduction to theoretical meteorology, Holt Rinehart and Winston, NY 1959,</span>
</span><span id="GetSeaLevelPressure-1329"><a href="#GetSeaLevelPressure-1329"><span class="linenos">1329</span></a><span class="sd">        ch. 6.5; Stull RB, Meteorology for scientists and engineers, 2nd edition,</span>
</span><span id="GetSeaLevelPressure-1330"><a href="#GetSeaLevelPressure-1330"><span class="linenos">1330</span></a><span class="sd">        Brooks/Cole 2000, ch. 1.</span>
</span><span id="GetSeaLevelPressure-1331"><a href="#GetSeaLevelPressure-1331"><span class="linenos">1331</span></a>
</span><span id="GetSeaLevelPressure-1332"><a href="#GetSeaLevelPressure-1332"><span class="linenos">1332</span></a><span class="sd">    Notes:</span>
</span><span id="GetSeaLevelPressure-1333"><a href="#GetSeaLevelPressure-1333"><span class="linenos">1333</span></a><span class="sd">        The standard procedure for the US is to use for TDryBulb the average</span>
</span><span id="GetSeaLevelPressure-1334"><a href="#GetSeaLevelPressure-1334"><span class="linenos">1334</span></a><span class="sd">        of the current station temperature and the station temperature from 12 hours ago.</span>
</span><span id="GetSeaLevelPressure-1335"><a href="#GetSeaLevelPressure-1335"><span class="linenos">1335</span></a>
</span><span id="GetSeaLevelPressure-1336"><a href="#GetSeaLevelPressure-1336"><span class="linenos">1336</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="GetSeaLevelPressure-1337"><a href="#GetSeaLevelPressure-1337"><span class="linenos">1337</span></a>    <span class="k">if</span> <span class="n">isIP</span><span class="p">():</span>
</span><span id="GetSeaLevelPressure-1338"><a href="#GetSeaLevelPressure-1338"><span class="linenos">1338</span></a>        <span class="c1"># Calculate average temperature in column of air, assuming a lapse rate</span>
</span><span id="GetSeaLevelPressure-1339"><a href="#GetSeaLevelPressure-1339"><span class="linenos">1339</span></a>        <span class="c1"># of 3.6 °F/1000ft</span>
</span><span id="GetSeaLevelPressure-1340"><a href="#GetSeaLevelPressure-1340"><span class="linenos">1340</span></a>        <span class="n">TColumn</span> <span class="o">=</span> <span class="n">TDryBulb</span> <span class="o">+</span> <span class="mf">0.0036</span> <span class="o">*</span> <span class="n">Altitude</span> <span class="o">/</span> <span class="mi">2</span>
</span><span id="GetSeaLevelPressure-1341"><a href="#GetSeaLevelPressure-1341"><span class="linenos">1341</span></a>
</span><span id="GetSeaLevelPressure-1342"><a href="#GetSeaLevelPressure-1342"><span class="linenos">1342</span></a>        <span class="c1"># Determine the scale height</span>
</span><span id="GetSeaLevelPressure-1343"><a href="#GetSeaLevelPressure-1343"><span class="linenos">1343</span></a>        <span class="n">H</span> <span class="o">=</span> <span class="mf">53.351</span> <span class="o">*</span> <span class="n">GetTRankineFromTFahrenheit</span><span class="p">(</span><span class="n">TColumn</span><span class="p">)</span>
</span><span id="GetSeaLevelPressure-1344"><a href="#GetSeaLevelPressure-1344"><span class="linenos">1344</span></a>    <span class="k">else</span><span class="p">:</span>
</span><span id="GetSeaLevelPressure-1345"><a href="#GetSeaLevelPressure-1345"><span class="linenos">1345</span></a>        <span class="c1"># Calculate average temperature in column of air, assuming a lapse rate</span>
</span><span id="GetSeaLevelPressure-1346"><a href="#GetSeaLevelPressure-1346"><span class="linenos">1346</span></a>        <span class="c1"># of 6.5 °C/km</span>
</span><span id="GetSeaLevelPressure-1347"><a href="#GetSeaLevelPressure-1347"><span class="linenos">1347</span></a>        <span class="n">TColumn</span> <span class="o">=</span> <span class="n">TDryBulb</span> <span class="o">+</span> <span class="mf">0.0065</span> <span class="o">*</span> <span class="n">Altitude</span> <span class="o">/</span> <span class="mi">2</span>
</span><span id="GetSeaLevelPressure-1348"><a href="#GetSeaLevelPressure-1348"><span class="linenos">1348</span></a>
</span><span id="GetSeaLevelPressure-1349"><a href="#GetSeaLevelPressure-1349"><span class="linenos">1349</span></a>        <span class="c1"># Determine the scale height</span>
</span><span id="GetSeaLevelPressure-1350"><a href="#GetSeaLevelPressure-1350"><span class="linenos">1350</span></a>        <span class="n">H</span> <span class="o">=</span> <span class="mf">287.055</span> <span class="o">*</span> <span class="n">GetTKelvinFromTCelsius</span><span class="p">(</span><span class="n">TColumn</span><span class="p">)</span> <span class="o">/</span> <span class="mf">9.807</span>
</span><span id="GetSeaLevelPressure-1351"><a href="#GetSeaLevelPressure-1351"><span class="linenos">1351</span></a>
</span><span id="GetSeaLevelPressure-1352"><a href="#GetSeaLevelPressure-1352"><span class="linenos">1352</span></a>    <span class="c1"># Calculate the sea level pressure</span>
</span><span id="GetSeaLevelPressure-1353"><a href="#GetSeaLevelPressure-1353"><span class="linenos">1353</span></a>    <span class="n">SeaLevelPressure</span> <span class="o">=</span> <span class="n">StationPressure</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">Altitude</span> <span class="o">/</span> <span class="n">H</span><span class="p">)</span>
</span><span id="GetSeaLevelPressure-1354"><a href="#GetSeaLevelPressure-1354"><span class="linenos">1354</span></a>    <span class="k">return</span> <span class="n">SeaLevelPressure</span>
</span></pre></div>


            <div class="docstring"><p>Return sea level pressure given dry-bulb temperature, altitude above sea level and pressure.</p>

<p>Args:
    StationPressure : Observed station pressure in Psi [IP] or Pa [SI]
    Altitude: Altitude in ft [IP] or m [SI]
    TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</p>

<p>Returns:
    Sea level barometric pressure in Psi [IP] or Pa [SI]</p>

<p>Reference:
    Hess SL, Introduction to theoretical meteorology, Holt Rinehart and Winston, NY 1959,
    ch. 6.5; Stull RB, Meteorology for scientists and engineers, 2nd edition,
    Brooks/Cole 2000, ch. 1.</p>

<p>Notes:
    The standard procedure for the US is to use for TDryBulb the average
    of the current station temperature and the station temperature from 12 hours ago.</p>
</div>


                </section>
                <section id="GetStationPressure">
                            <input id="GetStationPressure-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">GetStationPressure</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">SeaLevelPressure</span><span class="p">:</span> <span class="nb">float</span>, </span><span class="param"><span class="n">Altitude</span><span class="p">:</span> <span class="nb">float</span>, </span><span class="param"><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span></span><span class="return-annotation">) -> <span class="nb">float</span>:</span></span>

                <label class="view-source-button" for="GetStationPressure-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#GetStationPressure"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="GetStationPressure-1356"><a href="#GetStationPressure-1356"><span class="linenos">1356</span></a><span class="k">def</span> <span class="nf">GetStationPressure</span><span class="p">(</span><span class="n">SeaLevelPressure</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">Altitude</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
</span><span id="GetStationPressure-1357"><a href="#GetStationPressure-1357"><span class="linenos">1357</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="GetStationPressure-1358"><a href="#GetStationPressure-1358"><span class="linenos">1358</span></a><span class="sd">    Return station pressure from sea level pressure.</span>
</span><span id="GetStationPressure-1359"><a href="#GetStationPressure-1359"><span class="linenos">1359</span></a>
</span><span id="GetStationPressure-1360"><a href="#GetStationPressure-1360"><span class="linenos">1360</span></a><span class="sd">    Args:</span>
</span><span id="GetStationPressure-1361"><a href="#GetStationPressure-1361"><span class="linenos">1361</span></a><span class="sd">        SeaLevelPressure : Sea level barometric pressure in Psi [IP] or Pa [SI]</span>
</span><span id="GetStationPressure-1362"><a href="#GetStationPressure-1362"><span class="linenos">1362</span></a><span class="sd">        Altitude: Altitude in ft [IP] or m [SI]</span>
</span><span id="GetStationPressure-1363"><a href="#GetStationPressure-1363"><span class="linenos">1363</span></a><span class="sd">        TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="GetStationPressure-1364"><a href="#GetStationPressure-1364"><span class="linenos">1364</span></a>
</span><span id="GetStationPressure-1365"><a href="#GetStationPressure-1365"><span class="linenos">1365</span></a><span class="sd">    Returns:</span>
</span><span id="GetStationPressure-1366"><a href="#GetStationPressure-1366"><span class="linenos">1366</span></a><span class="sd">        Station pressure in Psi [IP] or Pa [SI]</span>
</span><span id="GetStationPressure-1367"><a href="#GetStationPressure-1367"><span class="linenos">1367</span></a>
</span><span id="GetStationPressure-1368"><a href="#GetStationPressure-1368"><span class="linenos">1368</span></a><span class="sd">    Reference:</span>
</span><span id="GetStationPressure-1369"><a href="#GetStationPressure-1369"><span class="linenos">1369</span></a><span class="sd">        See &#39;GetSeaLevelPressure&#39;</span>
</span><span id="GetStationPressure-1370"><a href="#GetStationPressure-1370"><span class="linenos">1370</span></a>
</span><span id="GetStationPressure-1371"><a href="#GetStationPressure-1371"><span class="linenos">1371</span></a><span class="sd">    Notes:</span>
</span><span id="GetStationPressure-1372"><a href="#GetStationPressure-1372"><span class="linenos">1372</span></a><span class="sd">        This function is just the inverse of &#39;GetSeaLevelPressure&#39;.</span>
</span><span id="GetStationPressure-1373"><a href="#GetStationPressure-1373"><span class="linenos">1373</span></a>
</span><span id="GetStationPressure-1374"><a href="#GetStationPressure-1374"><span class="linenos">1374</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="GetStationPressure-1375"><a href="#GetStationPressure-1375"><span class="linenos">1375</span></a>    <span class="n">StationPressure</span> <span class="o">=</span> <span class="n">SeaLevelPressure</span> <span class="o">/</span> <span class="n">GetSeaLevelPressure</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">Altitude</span><span class="p">,</span> <span class="n">TDryBulb</span><span class="p">)</span>
</span><span id="GetStationPressure-1376"><a href="#GetStationPressure-1376"><span class="linenos">1376</span></a>    <span class="k">return</span> <span class="n">StationPressure</span>
</span></pre></div>


            <div class="docstring"><p>Return station pressure from sea level pressure.</p>

<p>Args:
    SeaLevelPressure : Sea level barometric pressure in Psi [IP] or Pa [SI]
    Altitude: Altitude in ft [IP] or m [SI]
    TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</p>

<p>Returns:
    Station pressure in Psi [IP] or Pa [SI]</p>

<p>Reference:
    See 'GetSeaLevelPressure'</p>

<p>Notes:
    This function is just the inverse of 'GetSeaLevelPressure'.</p>
</div>


                </section>
                <section id="CalcPsychrometricsFromTWetBulb">
                            <input id="CalcPsychrometricsFromTWetBulb-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">CalcPsychrometricsFromTWetBulb</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span>, </span><span class="param"><span class="n">TWetBulb</span><span class="p">:</span> <span class="nb">float</span>, </span><span class="param"><span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span></span><span class="return-annotation">) -> <span class="nb">tuple</span>:</span></span>

                <label class="view-source-button" for="CalcPsychrometricsFromTWetBulb-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#CalcPsychrometricsFromTWetBulb"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="CalcPsychrometricsFromTWetBulb-1383"><a href="#CalcPsychrometricsFromTWetBulb-1383"><span class="linenos">1383</span></a><span class="k">def</span> <span class="nf">CalcPsychrometricsFromTWetBulb</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">TWetBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">:</span>
</span><span id="CalcPsychrometricsFromTWetBulb-1384"><a href="#CalcPsychrometricsFromTWetBulb-1384"><span class="linenos">1384</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="CalcPsychrometricsFromTWetBulb-1385"><a href="#CalcPsychrometricsFromTWetBulb-1385"><span class="linenos">1385</span></a><span class="sd">    Utility function to calculate humidity ratio, dew-point temperature, relative humidity,</span>
</span><span id="CalcPsychrometricsFromTWetBulb-1386"><a href="#CalcPsychrometricsFromTWetBulb-1386"><span class="linenos">1386</span></a><span class="sd">    vapour pressure, moist air enthalpy, moist air volume, and degree of saturation of air given</span>
</span><span id="CalcPsychrometricsFromTWetBulb-1387"><a href="#CalcPsychrometricsFromTWetBulb-1387"><span class="linenos">1387</span></a><span class="sd">    dry-bulb temperature, wet-bulb temperature, and pressure.</span>
</span><span id="CalcPsychrometricsFromTWetBulb-1388"><a href="#CalcPsychrometricsFromTWetBulb-1388"><span class="linenos">1388</span></a>
</span><span id="CalcPsychrometricsFromTWetBulb-1389"><a href="#CalcPsychrometricsFromTWetBulb-1389"><span class="linenos">1389</span></a><span class="sd">    Args:</span>
</span><span id="CalcPsychrometricsFromTWetBulb-1390"><a href="#CalcPsychrometricsFromTWetBulb-1390"><span class="linenos">1390</span></a><span class="sd">        TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="CalcPsychrometricsFromTWetBulb-1391"><a href="#CalcPsychrometricsFromTWetBulb-1391"><span class="linenos">1391</span></a><span class="sd">        TWetBulb : Wet-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="CalcPsychrometricsFromTWetBulb-1392"><a href="#CalcPsychrometricsFromTWetBulb-1392"><span class="linenos">1392</span></a><span class="sd">        Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</span>
</span><span id="CalcPsychrometricsFromTWetBulb-1393"><a href="#CalcPsychrometricsFromTWetBulb-1393"><span class="linenos">1393</span></a>
</span><span id="CalcPsychrometricsFromTWetBulb-1394"><a href="#CalcPsychrometricsFromTWetBulb-1394"><span class="linenos">1394</span></a><span class="sd">    Returns:</span>
</span><span id="CalcPsychrometricsFromTWetBulb-1395"><a href="#CalcPsychrometricsFromTWetBulb-1395"><span class="linenos">1395</span></a><span class="sd">        Humidity ratio in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]</span>
</span><span id="CalcPsychrometricsFromTWetBulb-1396"><a href="#CalcPsychrometricsFromTWetBulb-1396"><span class="linenos">1396</span></a><span class="sd">        Dew-point temperature in °F [IP] or °C [SI]</span>
</span><span id="CalcPsychrometricsFromTWetBulb-1397"><a href="#CalcPsychrometricsFromTWetBulb-1397"><span class="linenos">1397</span></a><span class="sd">        Relative humidity in range [0, 1]</span>
</span><span id="CalcPsychrometricsFromTWetBulb-1398"><a href="#CalcPsychrometricsFromTWetBulb-1398"><span class="linenos">1398</span></a><span class="sd">        Partial pressure of water vapor in moist air in Psi [IP] or Pa [SI]</span>
</span><span id="CalcPsychrometricsFromTWetBulb-1399"><a href="#CalcPsychrometricsFromTWetBulb-1399"><span class="linenos">1399</span></a><span class="sd">        Moist air enthalpy in Btu lb⁻¹ [IP] or J kg⁻¹ [SI]</span>
</span><span id="CalcPsychrometricsFromTWetBulb-1400"><a href="#CalcPsychrometricsFromTWetBulb-1400"><span class="linenos">1400</span></a><span class="sd">        Specific volume of moist air in ft³ lb⁻¹ [IP] or in m³ kg⁻¹ [SI]</span>
</span><span id="CalcPsychrometricsFromTWetBulb-1401"><a href="#CalcPsychrometricsFromTWetBulb-1401"><span class="linenos">1401</span></a><span class="sd">        Degree of saturation [unitless]</span>
</span><span id="CalcPsychrometricsFromTWetBulb-1402"><a href="#CalcPsychrometricsFromTWetBulb-1402"><span class="linenos">1402</span></a>
</span><span id="CalcPsychrometricsFromTWetBulb-1403"><a href="#CalcPsychrometricsFromTWetBulb-1403"><span class="linenos">1403</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="CalcPsychrometricsFromTWetBulb-1404"><a href="#CalcPsychrometricsFromTWetBulb-1404"><span class="linenos">1404</span></a>    <span class="n">HumRatio</span> <span class="o">=</span> <span class="n">GetHumRatioFromTWetBulb</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">TWetBulb</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="CalcPsychrometricsFromTWetBulb-1405"><a href="#CalcPsychrometricsFromTWetBulb-1405"><span class="linenos">1405</span></a>    <span class="n">TDewPoint</span> <span class="o">=</span> <span class="n">GetTDewPointFromHumRatio</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">HumRatio</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="CalcPsychrometricsFromTWetBulb-1406"><a href="#CalcPsychrometricsFromTWetBulb-1406"><span class="linenos">1406</span></a>    <span class="n">RelHum</span> <span class="o">=</span> <span class="n">GetRelHumFromHumRatio</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">HumRatio</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="CalcPsychrometricsFromTWetBulb-1407"><a href="#CalcPsychrometricsFromTWetBulb-1407"><span class="linenos">1407</span></a>    <span class="n">VapPres</span> <span class="o">=</span> <span class="n">GetVapPresFromHumRatio</span><span class="p">(</span><span class="n">HumRatio</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="CalcPsychrometricsFromTWetBulb-1408"><a href="#CalcPsychrometricsFromTWetBulb-1408"><span class="linenos">1408</span></a>    <span class="n">MoistAirEnthalpy</span> <span class="o">=</span> <span class="n">GetMoistAirEnthalpy</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">HumRatio</span><span class="p">)</span>
</span><span id="CalcPsychrometricsFromTWetBulb-1409"><a href="#CalcPsychrometricsFromTWetBulb-1409"><span class="linenos">1409</span></a>    <span class="n">MoistAirVolume</span> <span class="o">=</span> <span class="n">GetMoistAirVolume</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">HumRatio</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="CalcPsychrometricsFromTWetBulb-1410"><a href="#CalcPsychrometricsFromTWetBulb-1410"><span class="linenos">1410</span></a>    <span class="n">DegreeOfSaturation</span> <span class="o">=</span> <span class="n">GetDegreeOfSaturation</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">HumRatio</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="CalcPsychrometricsFromTWetBulb-1411"><a href="#CalcPsychrometricsFromTWetBulb-1411"><span class="linenos">1411</span></a>    <span class="k">return</span> <span class="n">HumRatio</span><span class="p">,</span> <span class="n">TDewPoint</span><span class="p">,</span> <span class="n">RelHum</span><span class="p">,</span> <span class="n">VapPres</span><span class="p">,</span> <span class="n">MoistAirEnthalpy</span><span class="p">,</span> <span class="n">MoistAirVolume</span><span class="p">,</span> <span class="n">DegreeOfSaturation</span>
</span></pre></div>


            <div class="docstring"><p>Utility function to calculate humidity ratio, dew-point temperature, relative humidity,
vapour pressure, moist air enthalpy, moist air volume, and degree of saturation of air given
dry-bulb temperature, wet-bulb temperature, and pressure.</p>

<p>Args:
    TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]
    TWetBulb : Wet-bulb temperature in °F [IP] or °C [SI]
    Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</p>

<p>Returns:
    Humidity ratio in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]
    Dew-point temperature in °F [IP] or °C [SI]
    Relative humidity in range [0, 1]
    Partial pressure of water vapor in moist air in Psi [IP] or Pa [SI]
    Moist air enthalpy in Btu lb⁻¹ [IP] or J kg⁻¹ [SI]
    Specific volume of moist air in ft³ lb⁻¹ [IP] or in m³ kg⁻¹ [SI]
    Degree of saturation [unitless]</p>
</div>


                </section>
                <section id="CalcPsychrometricsFromTDewPoint">
                            <input id="CalcPsychrometricsFromTDewPoint-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">CalcPsychrometricsFromTDewPoint</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span>, </span><span class="param"><span class="n">TDewPoint</span><span class="p">:</span> <span class="nb">float</span>, </span><span class="param"><span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span></span><span class="return-annotation">) -> <span class="nb">tuple</span>:</span></span>

                <label class="view-source-button" for="CalcPsychrometricsFromTDewPoint-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#CalcPsychrometricsFromTDewPoint"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="CalcPsychrometricsFromTDewPoint-1413"><a href="#CalcPsychrometricsFromTDewPoint-1413"><span class="linenos">1413</span></a><span class="k">def</span> <span class="nf">CalcPsychrometricsFromTDewPoint</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">TDewPoint</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">:</span>
</span><span id="CalcPsychrometricsFromTDewPoint-1414"><a href="#CalcPsychrometricsFromTDewPoint-1414"><span class="linenos">1414</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="CalcPsychrometricsFromTDewPoint-1415"><a href="#CalcPsychrometricsFromTDewPoint-1415"><span class="linenos">1415</span></a><span class="sd">    Utility function to calculate humidity ratio, wet-bulb temperature, relative humidity,</span>
</span><span id="CalcPsychrometricsFromTDewPoint-1416"><a href="#CalcPsychrometricsFromTDewPoint-1416"><span class="linenos">1416</span></a><span class="sd">    vapour pressure, moist air enthalpy, moist air volume, and degree of saturation of air given</span>
</span><span id="CalcPsychrometricsFromTDewPoint-1417"><a href="#CalcPsychrometricsFromTDewPoint-1417"><span class="linenos">1417</span></a><span class="sd">    dry-bulb temperature, dew-point temperature, and pressure.</span>
</span><span id="CalcPsychrometricsFromTDewPoint-1418"><a href="#CalcPsychrometricsFromTDewPoint-1418"><span class="linenos">1418</span></a>
</span><span id="CalcPsychrometricsFromTDewPoint-1419"><a href="#CalcPsychrometricsFromTDewPoint-1419"><span class="linenos">1419</span></a><span class="sd">    Args:</span>
</span><span id="CalcPsychrometricsFromTDewPoint-1420"><a href="#CalcPsychrometricsFromTDewPoint-1420"><span class="linenos">1420</span></a><span class="sd">        TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="CalcPsychrometricsFromTDewPoint-1421"><a href="#CalcPsychrometricsFromTDewPoint-1421"><span class="linenos">1421</span></a><span class="sd">        TDewPoint : Dew-point temperature in °F [IP] or °C [SI]</span>
</span><span id="CalcPsychrometricsFromTDewPoint-1422"><a href="#CalcPsychrometricsFromTDewPoint-1422"><span class="linenos">1422</span></a><span class="sd">        Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</span>
</span><span id="CalcPsychrometricsFromTDewPoint-1423"><a href="#CalcPsychrometricsFromTDewPoint-1423"><span class="linenos">1423</span></a>
</span><span id="CalcPsychrometricsFromTDewPoint-1424"><a href="#CalcPsychrometricsFromTDewPoint-1424"><span class="linenos">1424</span></a><span class="sd">    Returns:</span>
</span><span id="CalcPsychrometricsFromTDewPoint-1425"><a href="#CalcPsychrometricsFromTDewPoint-1425"><span class="linenos">1425</span></a><span class="sd">        Humidity ratio in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]</span>
</span><span id="CalcPsychrometricsFromTDewPoint-1426"><a href="#CalcPsychrometricsFromTDewPoint-1426"><span class="linenos">1426</span></a><span class="sd">        Wet-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="CalcPsychrometricsFromTDewPoint-1427"><a href="#CalcPsychrometricsFromTDewPoint-1427"><span class="linenos">1427</span></a><span class="sd">        Relative humidity in range [0, 1]</span>
</span><span id="CalcPsychrometricsFromTDewPoint-1428"><a href="#CalcPsychrometricsFromTDewPoint-1428"><span class="linenos">1428</span></a><span class="sd">        Partial pressure of water vapor in moist air in Psi [IP] or Pa [SI]</span>
</span><span id="CalcPsychrometricsFromTDewPoint-1429"><a href="#CalcPsychrometricsFromTDewPoint-1429"><span class="linenos">1429</span></a><span class="sd">        Moist air enthalpy in Btu lb⁻¹ [IP] or J kg⁻¹ [SI]</span>
</span><span id="CalcPsychrometricsFromTDewPoint-1430"><a href="#CalcPsychrometricsFromTDewPoint-1430"><span class="linenos">1430</span></a><span class="sd">        Specific volume of moist air in ft³ lb⁻¹ [IP] or in m³ kg⁻¹ [SI]</span>
</span><span id="CalcPsychrometricsFromTDewPoint-1431"><a href="#CalcPsychrometricsFromTDewPoint-1431"><span class="linenos">1431</span></a><span class="sd">        Degree of saturation [unitless]</span>
</span><span id="CalcPsychrometricsFromTDewPoint-1432"><a href="#CalcPsychrometricsFromTDewPoint-1432"><span class="linenos">1432</span></a>
</span><span id="CalcPsychrometricsFromTDewPoint-1433"><a href="#CalcPsychrometricsFromTDewPoint-1433"><span class="linenos">1433</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="CalcPsychrometricsFromTDewPoint-1434"><a href="#CalcPsychrometricsFromTDewPoint-1434"><span class="linenos">1434</span></a>    <span class="n">HumRatio</span> <span class="o">=</span> <span class="n">GetHumRatioFromTDewPoint</span><span class="p">(</span><span class="n">TDewPoint</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="CalcPsychrometricsFromTDewPoint-1435"><a href="#CalcPsychrometricsFromTDewPoint-1435"><span class="linenos">1435</span></a>    <span class="n">TWetBulb</span> <span class="o">=</span> <span class="n">GetTWetBulbFromHumRatio</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">HumRatio</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="CalcPsychrometricsFromTDewPoint-1436"><a href="#CalcPsychrometricsFromTDewPoint-1436"><span class="linenos">1436</span></a>    <span class="n">RelHum</span> <span class="o">=</span> <span class="n">GetRelHumFromHumRatio</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">HumRatio</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="CalcPsychrometricsFromTDewPoint-1437"><a href="#CalcPsychrometricsFromTDewPoint-1437"><span class="linenos">1437</span></a>    <span class="n">VapPres</span> <span class="o">=</span> <span class="n">GetVapPresFromHumRatio</span><span class="p">(</span><span class="n">HumRatio</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="CalcPsychrometricsFromTDewPoint-1438"><a href="#CalcPsychrometricsFromTDewPoint-1438"><span class="linenos">1438</span></a>    <span class="n">MoistAirEnthalpy</span> <span class="o">=</span> <span class="n">GetMoistAirEnthalpy</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">HumRatio</span><span class="p">)</span>
</span><span id="CalcPsychrometricsFromTDewPoint-1439"><a href="#CalcPsychrometricsFromTDewPoint-1439"><span class="linenos">1439</span></a>    <span class="n">MoistAirVolume</span> <span class="o">=</span> <span class="n">GetMoistAirVolume</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">HumRatio</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="CalcPsychrometricsFromTDewPoint-1440"><a href="#CalcPsychrometricsFromTDewPoint-1440"><span class="linenos">1440</span></a>    <span class="n">DegreeOfSaturation</span> <span class="o">=</span> <span class="n">GetDegreeOfSaturation</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">HumRatio</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="CalcPsychrometricsFromTDewPoint-1441"><a href="#CalcPsychrometricsFromTDewPoint-1441"><span class="linenos">1441</span></a>    <span class="k">return</span> <span class="n">HumRatio</span><span class="p">,</span> <span class="n">TWetBulb</span><span class="p">,</span> <span class="n">RelHum</span><span class="p">,</span> <span class="n">VapPres</span><span class="p">,</span> <span class="n">MoistAirEnthalpy</span><span class="p">,</span> <span class="n">MoistAirVolume</span><span class="p">,</span> <span class="n">DegreeOfSaturation</span>
</span></pre></div>


            <div class="docstring"><p>Utility function to calculate humidity ratio, wet-bulb temperature, relative humidity,
vapour pressure, moist air enthalpy, moist air volume, and degree of saturation of air given
dry-bulb temperature, dew-point temperature, and pressure.</p>

<p>Args:
    TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]
    TDewPoint : Dew-point temperature in °F [IP] or °C [SI]
    Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</p>

<p>Returns:
    Humidity ratio in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]
    Wet-bulb temperature in °F [IP] or °C [SI]
    Relative humidity in range [0, 1]
    Partial pressure of water vapor in moist air in Psi [IP] or Pa [SI]
    Moist air enthalpy in Btu lb⁻¹ [IP] or J kg⁻¹ [SI]
    Specific volume of moist air in ft³ lb⁻¹ [IP] or in m³ kg⁻¹ [SI]
    Degree of saturation [unitless]</p>
</div>


                </section>
                <section id="CalcPsychrometricsFromRelHum">
                            <input id="CalcPsychrometricsFromRelHum-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">CalcPsychrometricsFromRelHum</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span>, </span><span class="param"><span class="n">RelHum</span><span class="p">:</span> <span class="nb">float</span>, </span><span class="param"><span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span></span><span class="return-annotation">) -> <span class="nb">tuple</span>:</span></span>

                <label class="view-source-button" for="CalcPsychrometricsFromRelHum-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#CalcPsychrometricsFromRelHum"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="CalcPsychrometricsFromRelHum-1443"><a href="#CalcPsychrometricsFromRelHum-1443"><span class="linenos">1443</span></a><span class="k">def</span> <span class="nf">CalcPsychrometricsFromRelHum</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">RelHum</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">:</span>
</span><span id="CalcPsychrometricsFromRelHum-1444"><a href="#CalcPsychrometricsFromRelHum-1444"><span class="linenos">1444</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="CalcPsychrometricsFromRelHum-1445"><a href="#CalcPsychrometricsFromRelHum-1445"><span class="linenos">1445</span></a><span class="sd">    Utility function to calculate humidity ratio, wet-bulb temperature, dew-point temperature,</span>
</span><span id="CalcPsychrometricsFromRelHum-1446"><a href="#CalcPsychrometricsFromRelHum-1446"><span class="linenos">1446</span></a><span class="sd">    vapour pressure, moist air enthalpy, moist air volume, and degree of saturation of air given</span>
</span><span id="CalcPsychrometricsFromRelHum-1447"><a href="#CalcPsychrometricsFromRelHum-1447"><span class="linenos">1447</span></a><span class="sd">    dry-bulb temperature, relative humidity and pressure.</span>
</span><span id="CalcPsychrometricsFromRelHum-1448"><a href="#CalcPsychrometricsFromRelHum-1448"><span class="linenos">1448</span></a>
</span><span id="CalcPsychrometricsFromRelHum-1449"><a href="#CalcPsychrometricsFromRelHum-1449"><span class="linenos">1449</span></a><span class="sd">    Args:</span>
</span><span id="CalcPsychrometricsFromRelHum-1450"><a href="#CalcPsychrometricsFromRelHum-1450"><span class="linenos">1450</span></a><span class="sd">        TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="CalcPsychrometricsFromRelHum-1451"><a href="#CalcPsychrometricsFromRelHum-1451"><span class="linenos">1451</span></a><span class="sd">        RelHum : Relative humidity in range [0, 1]</span>
</span><span id="CalcPsychrometricsFromRelHum-1452"><a href="#CalcPsychrometricsFromRelHum-1452"><span class="linenos">1452</span></a><span class="sd">        Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</span>
</span><span id="CalcPsychrometricsFromRelHum-1453"><a href="#CalcPsychrometricsFromRelHum-1453"><span class="linenos">1453</span></a>
</span><span id="CalcPsychrometricsFromRelHum-1454"><a href="#CalcPsychrometricsFromRelHum-1454"><span class="linenos">1454</span></a><span class="sd">    Returns:</span>
</span><span id="CalcPsychrometricsFromRelHum-1455"><a href="#CalcPsychrometricsFromRelHum-1455"><span class="linenos">1455</span></a><span class="sd">        Humidity ratio in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]</span>
</span><span id="CalcPsychrometricsFromRelHum-1456"><a href="#CalcPsychrometricsFromRelHum-1456"><span class="linenos">1456</span></a><span class="sd">        Wet-bulb temperature in °F [IP] or °C [SI]</span>
</span><span id="CalcPsychrometricsFromRelHum-1457"><a href="#CalcPsychrometricsFromRelHum-1457"><span class="linenos">1457</span></a><span class="sd">        Dew-point temperature in °F [IP] or °C [SI].</span>
</span><span id="CalcPsychrometricsFromRelHum-1458"><a href="#CalcPsychrometricsFromRelHum-1458"><span class="linenos">1458</span></a><span class="sd">        Partial pressure of water vapor in moist air in Psi [IP] or Pa [SI]</span>
</span><span id="CalcPsychrometricsFromRelHum-1459"><a href="#CalcPsychrometricsFromRelHum-1459"><span class="linenos">1459</span></a><span class="sd">        Moist air enthalpy in Btu lb⁻¹ [IP] or J kg⁻¹ [SI]</span>
</span><span id="CalcPsychrometricsFromRelHum-1460"><a href="#CalcPsychrometricsFromRelHum-1460"><span class="linenos">1460</span></a><span class="sd">        Specific volume of moist air in ft³ lb⁻¹ [IP] or in m³ kg⁻¹ [SI]</span>
</span><span id="CalcPsychrometricsFromRelHum-1461"><a href="#CalcPsychrometricsFromRelHum-1461"><span class="linenos">1461</span></a><span class="sd">        Degree of saturation [unitless]</span>
</span><span id="CalcPsychrometricsFromRelHum-1462"><a href="#CalcPsychrometricsFromRelHum-1462"><span class="linenos">1462</span></a>
</span><span id="CalcPsychrometricsFromRelHum-1463"><a href="#CalcPsychrometricsFromRelHum-1463"><span class="linenos">1463</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="CalcPsychrometricsFromRelHum-1464"><a href="#CalcPsychrometricsFromRelHum-1464"><span class="linenos">1464</span></a>    <span class="n">HumRatio</span> <span class="o">=</span> <span class="n">GetHumRatioFromRelHum</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">RelHum</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="CalcPsychrometricsFromRelHum-1465"><a href="#CalcPsychrometricsFromRelHum-1465"><span class="linenos">1465</span></a>    <span class="n">TWetBulb</span> <span class="o">=</span> <span class="n">GetTWetBulbFromHumRatio</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">HumRatio</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="CalcPsychrometricsFromRelHum-1466"><a href="#CalcPsychrometricsFromRelHum-1466"><span class="linenos">1466</span></a>    <span class="n">TDewPoint</span> <span class="o">=</span> <span class="n">GetTDewPointFromHumRatio</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">HumRatio</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="CalcPsychrometricsFromRelHum-1467"><a href="#CalcPsychrometricsFromRelHum-1467"><span class="linenos">1467</span></a>    <span class="n">VapPres</span> <span class="o">=</span> <span class="n">GetVapPresFromHumRatio</span><span class="p">(</span><span class="n">HumRatio</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="CalcPsychrometricsFromRelHum-1468"><a href="#CalcPsychrometricsFromRelHum-1468"><span class="linenos">1468</span></a>    <span class="n">MoistAirEnthalpy</span> <span class="o">=</span> <span class="n">GetMoistAirEnthalpy</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">HumRatio</span><span class="p">)</span>
</span><span id="CalcPsychrometricsFromRelHum-1469"><a href="#CalcPsychrometricsFromRelHum-1469"><span class="linenos">1469</span></a>    <span class="n">MoistAirVolume</span> <span class="o">=</span> <span class="n">GetMoistAirVolume</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">HumRatio</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="CalcPsychrometricsFromRelHum-1470"><a href="#CalcPsychrometricsFromRelHum-1470"><span class="linenos">1470</span></a>    <span class="n">DegreeOfSaturation</span> <span class="o">=</span> <span class="n">GetDegreeOfSaturation</span><span class="p">(</span><span class="n">TDryBulb</span><span class="p">,</span> <span class="n">HumRatio</span><span class="p">,</span> <span class="n">Pressure</span><span class="p">)</span>
</span><span id="CalcPsychrometricsFromRelHum-1471"><a href="#CalcPsychrometricsFromRelHum-1471"><span class="linenos">1471</span></a>    <span class="k">return</span> <span class="n">HumRatio</span><span class="p">,</span> <span class="n">TWetBulb</span><span class="p">,</span> <span class="n">TDewPoint</span><span class="p">,</span> <span class="n">VapPres</span><span class="p">,</span> <span class="n">MoistAirEnthalpy</span><span class="p">,</span> <span class="n">MoistAirVolume</span><span class="p">,</span> <span class="n">DegreeOfSaturation</span>
</span></pre></div>


            <div class="docstring"><p>Utility function to calculate humidity ratio, wet-bulb temperature, dew-point temperature,
vapour pressure, moist air enthalpy, moist air volume, and degree of saturation of air given
dry-bulb temperature, relative humidity and pressure.</p>

<p>Args:
    TDryBulb : Dry-bulb temperature in °F [IP] or °C [SI]
    RelHum : Relative humidity in range [0, 1]
    Pressure : Atmospheric pressure in Psi [IP] or Pa [SI]</p>

<p>Returns:
    Humidity ratio in lb_H₂O lb_Air⁻¹ [IP] or kg_H₂O kg_Air⁻¹ [SI]
    Wet-bulb temperature in °F [IP] or °C [SI]
    Dew-point temperature in °F [IP] or °C [SI].
    Partial pressure of water vapor in moist air in Psi [IP] or Pa [SI]
    Moist air enthalpy in Btu lb⁻¹ [IP] or J kg⁻¹ [SI]
    Specific volume of moist air in ft³ lb⁻¹ [IP] or in m³ kg⁻¹ [SI]
    Degree of saturation [unitless]</p>
</div>


                </section>
    </main>
<script>
    function escapeHTML(html) {
        return document.createElement('div').appendChild(document.createTextNode(html)).parentNode.innerHTML;
    }

    const originalContent = document.querySelector("main.pdoc");
    let currentContent = originalContent;

    function setContent(innerHTML) {
        let elem;
        if (innerHTML) {
            elem = document.createElement("main");
            elem.classList.add("pdoc");
            elem.innerHTML = innerHTML;
        } else {
            elem = originalContent;
        }
        if (currentContent !== elem) {
            currentContent.replaceWith(elem);
            currentContent = elem;
        }
    }

    function getSearchTerm() {
        return (new URL(window.location)).searchParams.get("search");
    }

    const searchBox = document.querySelector(".pdoc input[type=search]");
    searchBox.addEventListener("input", function () {
        let url = new URL(window.location);
        if (searchBox.value.trim()) {
            url.hash = "";
            url.searchParams.set("search", searchBox.value);
        } else {
            url.searchParams.delete("search");
        }
        history.replaceState("", "", url.toString());
        onInput();
    });
    window.addEventListener("popstate", onInput);


    let search, searchErr;

    async function initialize() {
        try {
            search = await new Promise((resolve, reject) => {
                const script = document.createElement("script");
                script.type = "text/javascript";
                script.async = true;
                script.onload = () => resolve(window.pdocSearch);
                script.onerror = (e) => reject(e);
                script.src = "../../search.js";
                document.getElementsByTagName("head")[0].appendChild(script);
            });
        } catch (e) {
            console.error("Cannot fetch pdoc search index");
            searchErr = "Cannot fetch search index.";
        }
        onInput();

        document.querySelector("nav.pdoc").addEventListener("click", e => {
            if (e.target.hash) {
                searchBox.value = "";
                searchBox.dispatchEvent(new Event("input"));
            }
        });
    }

    function onInput() {
        setContent((() => {
            const term = getSearchTerm();
            if (!term) {
                return null
            }
            if (searchErr) {
                return `<h3>Error: ${searchErr}</h3>`
            }
            if (!search) {
                return "<h3>Searching...</h3>"
            }

            window.scrollTo({top: 0, left: 0, behavior: 'auto'});

            const results = search(term);

            let html;
            if (results.length === 0) {
                html = `No search results for '${escapeHTML(term)}'.`
            } else {
                html = `<h4>${results.length} search result${results.length > 1 ? "s" : ""} for '${escapeHTML(term)}'.</h4>`;
            }
            for (let result of results.slice(0, 10)) {
                let doc = result.doc;
                let url = `../../${doc.modulename.replaceAll(".", "/")}.html`;
                if (doc.qualname) {
                    url += `#${doc.qualname}`;
                }

                let heading;
                switch (result.doc.kind) {
                    case "function":
                        if (doc.fullname.endsWith(".__init__")) {
                            heading = `<span class="name">${doc.fullname.replace(/\.__init__$/, "")}</span>${doc.signature}`;
                        } else {
                            heading = `<span class="def">${doc.funcdef}</span> <span class="name">${doc.fullname}</span>${doc.signature}`;
                        }
                        break;
                    case "class":
                        heading = `<span class="def">class</span> <span class="name">${doc.fullname}</span>`;
                        if (doc.bases)
                            heading += `<wbr>(<span class="base">${doc.bases}</span>)`;
                        heading += `:`;
                        break;
                    case "variable":
                        heading = `<span class="name">${doc.fullname}</span>`;
                        if (doc.annotation)
                            heading += `<span class="annotation">${doc.annotation}</span>`;
                        if (doc.default_value)
                            heading += `<span class="default_value"> = ${doc.default_value}</span>`;
                        break;
                    default:
                        heading = `<span class="name">${doc.fullname}</span>`;
                        break;
                }
                html += `
                        <section class="search-result">
                        <a href="${url}" class="attr ${doc.kind}">${heading}</a>
                        <div class="docstring">${doc.doc}</div>
                        </section>
                    `;

            }
            return html;
        })());
    }

    if (getSearchTerm()) {
        initialize();
        searchBox.value = getSearchTerm();
        onInput();
    } else {
        searchBox.addEventListener("focus", initialize, {once: true});
    }

    searchBox.addEventListener("keydown", e => {
        if (["ArrowDown", "ArrowUp", "Enter"].includes(e.key)) {
            let focused = currentContent.querySelector(".search-result.focused");
            if (!focused) {
                currentContent.querySelector(".search-result").classList.add("focused");
            } else if (
                e.key === "ArrowDown"
                && focused.nextElementSibling
                && focused.nextElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.nextElementSibling.classList.add("focused");
                focused.nextElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "ArrowUp"
                && focused.previousElementSibling
                && focused.previousElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.previousElementSibling.classList.add("focused");
                focused.previousElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "Enter"
            ) {
                focused.querySelector("a").click();
            }
        }
    });
</script></body>
</html>